function xg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Ng=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),Ag=Symbol.for("react.memo"),jg=Symbol.for("react.lazy"),iu=Symbol.iterator;function Bg(e){return e===null||typeof e!="object"?null:(e=iu&&e[iu]||e["@@iterator"],typeof e=="function"?e:null)}var Id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,Md={};function Or(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Id}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Or.prototype;function Wl(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Id}var Gl=Wl.prototype=new Ad;Gl.constructor=Wl;Ld(Gl,Or.prototype);Gl.isPureReactComponent=!0;var ou=Array.isArray,jd=Object.prototype.hasOwnProperty,Kl={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)jd.call(t,r)&&!Bd.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ji,type:e,key:o,ref:s,props:i,_owner:Kl.current}}function zg(e,t){return{$$typeof:ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ji}function Fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var su=/\/+/g;function Bs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fg(""+e.key):t.toString(36)}function yo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ji:case bg:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Bs(s,0):r,ou(i)?(n="",e!=null&&(n=e.replace(su,"$&/")+"/"),yo(i,t,n,"",function(c){return c})):i!=null&&(Jl(i)&&(i=zg(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(su,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ou(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Bs(o,l);s+=yo(o,t,n,a,i)}else if(a=Bg(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Bs(o,l++),s+=yo(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gi(e,t,n){if(e==null)return e;var r=[],i=0;return yo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Ug(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},So={transition:null},$g={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:So,ReactCurrentOwner:Kl};U.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!Jl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Or;U.Fragment=Pg;U.Profiler=Dg;U.PureComponent=Wl;U.StrictMode=Og;U.Suspense=Mg;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ld({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Kl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)jd.call(t,a)&&!Bd.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ji,type:e.type,key:i,ref:o,props:r,_owner:s}};U.createContext=function(e){return e={$$typeof:Ig,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ng,_context:e},e.Consumer=e};U.createElement=zd;U.createFactory=function(e){var t=zd.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Lg,render:e}};U.isValidElement=Jl;U.lazy=function(e){return{$$typeof:jg,_payload:{_status:-1,_result:e},_init:Ug}};U.memo=function(e,t){return{$$typeof:Ag,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(e,t){return We.current.useCallback(e,t)};U.useContext=function(e){return We.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return We.current.useDeferredValue(e)};U.useEffect=function(e,t){return We.current.useEffect(e,t)};U.useId=function(){return We.current.useId()};U.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return We.current.useMemo(e,t)};U.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};U.useRef=function(e){return We.current.useRef(e)};U.useState=function(e){return We.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return We.current.useTransition()};U.version="18.2.0";(function(e){e.exports=U})(B);const Fd=Rg(B.exports),Ta=xg({__proto__:null,default:Fd},[B.exports]);var wa={},Ud={exports:{}},at={},$d={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var j=P.length;P.push(L);e:for(;0<j;){var Q=j-1>>>1,oe=P[Q];if(0<i(oe,L))P[Q]=L,P[j]=oe,j=Q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],j=P.pop();if(j!==L){P[0]=j;e:for(var Q=0,oe=P.length,zt=oe>>>1;Q<zt;){var Ie=2*(Q+1)-1,nt=P[Ie],Ee=Ie+1,bt=P[Ee];if(0>i(nt,j))Ee<oe&&0>i(bt,nt)?(P[Q]=bt,P[Ee]=j,Q=Ee):(P[Q]=nt,P[Ie]=j,Q=Ie);else if(Ee<oe&&0>i(bt,j))P[Q]=bt,P[Ee]=j,Q=Ee;else break e}}return L}function i(P,L){var j=P.sortIndex-L.sortIndex;return j!==0?j:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=P)r(c),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(c)}}function S(P){if(g=!1,y(P),!p)if(n(a)!==null)p=!0,tt(T);else{var L=n(c);L!==null&&gt(S,L.startTime-P)}}function T(P,L){p=!1,g&&(g=!1,v(x),x=-1),h=!0;var j=f;try{for(y(L),d=n(a);d!==null&&(!(d.expirationTime>L)||P&&!he());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var oe=Q(d.expirationTime<=L);L=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(a)&&r(a),y(L)}else r(a);d=n(a)}if(d!==null)var zt=!0;else{var Ie=n(c);Ie!==null&&gt(S,Ie.startTime-L),zt=!1}return zt}finally{d=null,f=j,h=!1}}var C=!1,k=null,x=-1,M=5,b=-1;function he(){return!(e.unstable_now()-b<M)}function Ne(){if(k!==null){var P=e.unstable_now();b=P;var L=!0;try{L=k(!0,P)}finally{L?ge():(C=!1,k=null)}}else C=!1}var ge;if(typeof m=="function")ge=function(){m(Ne)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,et=H.port2;H.port1.onmessage=Ne,ge=function(){et.postMessage(null)}}else ge=function(){_(Ne,0)};function tt(P){k=P,C||(C=!0,ge())}function gt(P,L){x=_(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,tt(T))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var j=f;f=L;try{return P()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=f;f=P;try{return L()}finally{f=j}},e.unstable_scheduleCallback=function(P,L,j){var Q=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=j+oe,P={id:u++,callback:L,priorityLevel:P,startTime:j,expirationTime:oe,sortIndex:-1},j>Q?(P.sortIndex=j,t(c,P),n(a)===null&&P===n(c)&&(g?(v(x),x=-1):g=!0,gt(S,j-Q))):(P.sortIndex=oe,t(a,P),p||h||(p=!0,tt(T))),P},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(P){var L=f;return function(){var j=f;f=L;try{return P.apply(this,arguments)}finally{f=j}}}})(Vd);(function(e){e.exports=Vd})($d);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=B.exports,st=$d.exports;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wd=new Set,yi={};function Qn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(yi[e]=t,e=0;e<t.length;e++)Wd.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,Vg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,au={},lu={};function Hg(e){return xa.call(lu,e)?!0:xa.call(au,e)?!1:Vg.test(e)?lu[e]=!0:(au[e]=!0,!1)}function Wg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gg(e,t,n,r){if(t===null||typeof t>"u"||Wg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Ql(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Ql);Pe[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Ql);Pe[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Ql);Pe[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function ql(e,t,n,r){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gg(t,n,i,r)&&(n=null),r||i===null?Hg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=Hd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Xl=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Kd=Symbol.for("react.context"),Zl=Symbol.for("react.forward_ref"),ba=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),Jd=Symbol.for("react.offscreen"),cu=Symbol.iterator;function zr(e){return e===null||typeof e!="object"?null:(e=cu&&e[cu]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,zs;function Xr(e){if(zs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zs=t&&t[1]||""}return`
`+zs+e}var Fs=!1;function Us(e,t){if(!e||Fs)return"";Fs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Fs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xr(e):""}function Kg(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=Us(e.type,!1),e;case 11:return e=Us(e.type.render,!1),e;case 1:return e=Us(e.type,!0),e;default:return""}}function Oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case Ra:return"Profiler";case Xl:return"StrictMode";case ba:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kd:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case Zl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ec:return t=e.displayName||null,t!==null?t:Oa(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return Oa(e(t))}catch{}}return null}function Jg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oa(t);case 8:return t===Xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=Yd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){e._valueTracker||(e._valueTracker=Yg(e))}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Da(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function uu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qd(e,t){t=t.checked,t!=null&&ql(e,"checked",t,!1)}function Na(e,t){qd(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function gr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function La(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(w(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function du(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(w(92));if(Zr(n)){if(1<n.length)throw Error(w(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function Xd(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,eh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){Qg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function th(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function nh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=th(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qg=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(e,t){if(t){if(qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(w(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(w(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(w(61))}if(t.style!=null&&typeof t.style!="object")throw Error(w(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,vr=null,yr=null;function pu(e){if(e=Fi(e)){if(typeof za!="function")throw Error(w(280));var t=e.stateNode;t&&(t=vs(t),za(e.stateNode,e.type,t))}}function rh(e){vr?yr?yr.push(e):yr=[e]:vr=e}function ih(){if(vr){var e=vr,t=yr;if(yr=vr=null,pu(e),t)for(e=0;e<t.length;e++)pu(t[e])}}function oh(e,t){return e(t)}function sh(){}var $s=!1;function ah(e,t,n){if($s)return e(t,n);$s=!0;try{return oh(e,t,n)}finally{$s=!1,(vr!==null||yr!==null)&&(sh(),ih())}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=vs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var Fa=!1;if(Xt)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Fa=!1}function Xg(e,t,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var li=!1,zo=null,Fo=!1,Ua=null,Zg={onError:function(e){li=!0,zo=e}};function ev(e,t,n,r,i,o,s,l,a){li=!1,zo=null,Xg.apply(Zg,arguments)}function tv(e,t,n,r,i,o,s,l,a){if(ev.apply(this,arguments),li){if(li){var c=zo;li=!1,zo=null}else throw Error(w(198));Fo||(Fo=!0,Ua=c)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mu(e){if(qn(e)!==e)throw Error(w(188))}function nv(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mu(i),e;if(o===r)return mu(i),t;o=o.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function ch(e){return e=nv(e),e!==null?uh(e):null}function uh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uh(e);if(t!==null)return t;e=e.sibling}return null}var fh=st.unstable_scheduleCallback,gu=st.unstable_cancelCallback,rv=st.unstable_shouldYield,iv=st.unstable_requestPaint,de=st.unstable_now,ov=st.unstable_getCurrentPriorityLevel,nc=st.unstable_ImmediatePriority,dh=st.unstable_UserBlockingPriority,Uo=st.unstable_NormalPriority,sv=st.unstable_LowPriority,hh=st.unstable_IdlePriority,hs=null,It=null;function av(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(hs,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:uv,lv=Math.log,cv=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(lv(e)/cv|0)|0}var Qi=64,qi=4194304;function ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ei(l):(o&=s,o!==0&&(r=ei(o)))}else s=n&~i,s!==0?r=ei(s):o!==0&&(r=ei(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),i=1<<n,r|=e[n],t&=~i;return r}function fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Tt(o),l=1<<s,a=i[s];a===-1?((l&n)===0||(l&r)!==0)&&(i[s]=fv(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function $a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ph(){var e=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),e}function Vs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function hv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function rc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Y=0;function mh(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var gh,ic,vh,yh,Sh,Va=!1,Xi=[],vn=null,yn=null,Sn=null,ki=new Map,_i=new Map,ln=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function Ur(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Fi(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mv(e,t,n,r,i){switch(t){case"focusin":return vn=Ur(vn,e,t,n,r,i),!0;case"dragenter":return yn=Ur(yn,e,t,n,r,i),!0;case"mouseover":return Sn=Ur(Sn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ki.set(o,Ur(ki.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_i.set(o,Ur(_i.get(o)||null,e,t,n,r,i)),!0}return!1}function Ch(e){var t=jn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=lh(n),t!==null){e.blockedOn=t,Sh(e.priority,function(){vh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ba=r,n.target.dispatchEvent(r),Ba=null}else return t=Fi(n),t!==null&&ic(t),e.blockedOn=n,!1;t.shift()}return!0}function yu(e,t,n){Co(e)&&n.delete(t)}function gv(){Va=!1,vn!==null&&Co(vn)&&(vn=null),yn!==null&&Co(yn)&&(yn=null),Sn!==null&&Co(Sn)&&(Sn=null),ki.forEach(yu),_i.forEach(yu)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,gv)))}function Ei(e){function t(i){return $r(i,e)}if(0<Xi.length){$r(Xi[0],e);for(var n=1;n<Xi.length;n++){var r=Xi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vn!==null&&$r(vn,e),yn!==null&&$r(yn,e),Sn!==null&&$r(Sn,e),ki.forEach(t),_i.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Ch(n),n.blockedOn===null&&ln.shift()}var Sr=nn.ReactCurrentBatchConfig,Vo=!0;function vv(e,t,n,r){var i=Y,o=Sr.transition;Sr.transition=null;try{Y=1,oc(e,t,n,r)}finally{Y=i,Sr.transition=o}}function yv(e,t,n,r){var i=Y,o=Sr.transition;Sr.transition=null;try{Y=4,oc(e,t,n,r)}finally{Y=i,Sr.transition=o}}function oc(e,t,n,r){if(Vo){var i=Ha(e,t,n,r);if(i===null)Zs(e,t,r,Ho,n),vu(e,r);else if(mv(i,e,t,n,r))r.stopPropagation();else if(vu(e,r),t&4&&-1<pv.indexOf(e)){for(;i!==null;){var o=Fi(i);if(o!==null&&gh(o),o=Ha(e,t,n,r),o===null&&Zs(e,t,r,Ho,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zs(e,t,r,null,n)}}var Ho=null;function Ha(e,t,n,r){if(Ho=null,e=tc(r),e=jn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ho=e,null}function kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case nc:return 1;case dh:return 4;case Uo:case sv:return 16;case hh:return 536870912;default:return 16}default:return 16}}var dn=null,sc=null,ko=null;function _h(){if(ko)return ko;var e,t=sc,n=t.length,r,i="value"in dn?dn.value:dn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ko=i.slice(e,1<r?1-r:void 0)}function _o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Su(){return!1}function lt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zi:Su,this.isPropagationStopped=Su,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=lt(Dr),zi=ce({},Dr,{view:0,detail:0}),Sv=lt(zi),Hs,Ws,Vr,ps=ce({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(Hs=e.screenX-Vr.screenX,Ws=e.screenY-Vr.screenY):Ws=Hs=0,Vr=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),Cu=lt(ps),Cv=ce({},ps,{dataTransfer:0}),kv=lt(Cv),_v=ce({},zi,{relatedTarget:0}),Gs=lt(_v),Ev=ce({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=lt(Ev),wv=ce({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xv=lt(wv),Rv=ce({},Dr,{data:0}),ku=lt(Rv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ov[e])?!!t[e]:!1}function lc(){return Dv}var Nv=ce({},zi,{key:function(e){if(e.key){var t=bv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iv=lt(Nv),Lv=ce({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=lt(Lv),Mv=ce({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),Av=lt(Mv),jv=ce({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=lt(jv),zv=ce({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=lt(zv),Uv=[9,13,27,32],cc=Xt&&"CompositionEvent"in window,ci=null;Xt&&"documentMode"in document&&(ci=document.documentMode);var $v=Xt&&"TextEvent"in window&&!ci,Eh=Xt&&(!cc||ci&&8<ci&&11>=ci),Eu=String.fromCharCode(32),Tu=!1;function Th(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Vv(e,t){switch(e){case"compositionend":return wh(t);case"keypress":return t.which!==32?null:(Tu=!0,Eu);case"textInput":return e=t.data,e===Eu&&Tu?null:e;default:return null}}function Hv(e,t){if(ir)return e==="compositionend"||!cc&&Th(e,t)?(e=_h(),ko=sc=dn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eh&&t.locale!=="ko"?null:t.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wv[e.type]:t==="textarea"}function xh(e,t,n,r){rh(r),t=Wo(t,"onChange"),0<t.length&&(n=new ac("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ui=null,Ti=null;function Gv(e){jh(e,0)}function ms(e){var t=ar(e);if(Qd(t))return e}function Kv(e,t){if(e==="change")return t}var Rh=!1;if(Xt){var Ks;if(Xt){var Js="oninput"in document;if(!Js){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),Js=typeof xu.oninput=="function"}Ks=Js}else Ks=!1;Rh=Ks&&(!document.documentMode||9<document.documentMode)}function Ru(){ui&&(ui.detachEvent("onpropertychange",bh),Ti=ui=null)}function bh(e){if(e.propertyName==="value"&&ms(Ti)){var t=[];xh(t,Ti,e,tc(e)),ah(Gv,t)}}function Jv(e,t,n){e==="focusin"?(Ru(),ui=t,Ti=n,ui.attachEvent("onpropertychange",bh)):e==="focusout"&&Ru()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(Ti)}function Qv(e,t){if(e==="click")return ms(t)}function qv(e,t){if(e==="input"||e==="change")return ms(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Xv;function wi(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xa.call(t,i)||!xt(e[i],t[i]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var n=bu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bu(n)}}function Ph(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ph(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oh(){for(var e=window,t=Bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bo(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zv(e){var t=Oh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ph(n.ownerDocument.documentElement,n)){if(r!==null&&uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Pu(n,o);var s=Pu(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ey=Xt&&"documentMode"in document&&11>=document.documentMode,or=null,Wa=null,fi=null,Ga=!1;function Ou(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ga||or==null||or!==Bo(r)||(r=or,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fi&&wi(fi,r)||(fi=r,r=Wo(Wa,"onSelect"),0<r.length&&(t=new ac("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},Ys={},Dh={};Xt&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function gs(e){if(Ys[e])return Ys[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dh)return Ys[e]=t[n];return e}var Nh=gs("animationend"),Ih=gs("animationiteration"),Lh=gs("animationstart"),Mh=gs("transitionend"),Ah=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Ah.set(e,t),Qn(t,[e])}for(var Qs=0;Qs<Du.length;Qs++){var qs=Du[Qs],ty=qs.toLowerCase(),ny=qs[0].toUpperCase()+qs.slice(1);Rn(ty,"on"+ny)}Rn(Nh,"onAnimationEnd");Rn(Ih,"onAnimationIteration");Rn(Lh,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Mh,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(ti));function Nu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tv(r,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Nu(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Nu(i,l,c),o=a}}}if(Fo)throw e=Ua,Fo=!1,Ua=null,e}function te(e,t){var n=t[qa];n===void 0&&(n=t[qa]=new Set);var r=e+"__bubble";n.has(r)||(Bh(t,e,2,!1),n.add(r))}function Xs(e,t,n){var r=0;t&&(r|=4),Bh(n,e,r,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function xi(e){if(!e[to]){e[to]=!0,Wd.forEach(function(n){n!=="selectionchange"&&(ry.has(n)||Xs(n,!1,e),Xs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,Xs("selectionchange",!1,t))}}function Bh(e,t,n,r){switch(kh(t)){case 1:var i=vv;break;case 4:i=yv;break;default:i=oc}n=i.bind(null,t,n,e),i=void 0,!Fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zs(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=jn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}ah(function(){var c=o,u=tc(n),d=[];e:{var f=Ah.get(e);if(f!==void 0){var h=ac,p=e;switch(e){case"keypress":if(_o(n)===0)break e;case"keydown":case"keyup":h=Iv;break;case"focusin":p="focus",h=Gs;break;case"focusout":p="blur",h=Gs;break;case"beforeblur":case"afterblur":h=Gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Av;break;case Nh:case Ih:case Lh:h=Tv;break;case Mh:h=Bv;break;case"scroll":h=Sv;break;case"wheel":h=Fv;break;case"copy":case"cut":case"paste":h=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_u}var g=(t&4)!==0,_=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var m=c,y;m!==null;){y=m;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Ci(m,v),S!=null&&g.push(Ri(m,S,y)))),_)break;m=m.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Ba&&(p=n.relatedTarget||n.fromElement)&&(jn(p)||p[Zt]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?jn(p):null,p!==null&&(_=qn(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=Cu,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=_u,S="onPointerLeave",v="onPointerEnter",m="pointer"),_=h==null?f:ar(h),y=p==null?f:ar(p),f=new g(S,m+"leave",h,n,u),f.target=_,f.relatedTarget=y,S=null,jn(u)===c&&(g=new g(v,m+"enter",p,n,u),g.target=y,g.relatedTarget=_,S=g),_=S,h&&p)t:{for(g=h,v=p,m=0,y=g;y;y=tr(y))m++;for(y=0,S=v;S;S=tr(S))y++;for(;0<m-y;)g=tr(g),m--;for(;0<y-m;)v=tr(v),y--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=tr(g),v=tr(v)}g=null}else g=null;h!==null&&Iu(d,f,h,g,!1),p!==null&&_!==null&&Iu(d,_,p,g,!0)}}e:{if(f=c?ar(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=Kv;else if(wu(f))if(Rh)T=qv;else{T=Yv;var C=Jv}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Qv);if(T&&(T=T(e,c))){xh(d,T,n,u);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ia(f,"number",f.value)}switch(C=c?ar(c):window,e){case"focusin":(wu(C)||C.contentEditable==="true")&&(or=C,Wa=c,fi=null);break;case"focusout":fi=Wa=or=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,Ou(d,n,u);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":Ou(d,n,u)}var k;if(cc)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ir?Th(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Eh&&n.locale!=="ko"&&(ir||x!=="onCompositionStart"?x==="onCompositionEnd"&&ir&&(k=_h()):(dn=u,sc="value"in dn?dn.value:dn.textContent,ir=!0)),C=Wo(c,x),0<C.length&&(x=new ku(x,e,null,n,u),d.push({event:x,listeners:C}),k?x.data=k:(k=wh(n),k!==null&&(x.data=k)))),(k=$v?Vv(e,n):Hv(e,n))&&(c=Wo(c,"onBeforeInput"),0<c.length&&(u=new ku("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}jh(d,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ci(e,n),o!=null&&r.unshift(Ri(e,o,i)),o=Ci(e,t),o!=null&&r.push(Ri(e,o,i))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iu(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Ci(n,o),a!=null&&s.unshift(Ri(n,a,l))):i||(a=Ci(n,o),a!=null&&s.push(Ri(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iy=/\r\n?/g,oy=/\u0000|\uFFFD/g;function Lu(e){return(typeof e=="string"?e:""+e).replace(iy,`
`).replace(oy,"")}function no(e,t,n){if(t=Lu(t),Lu(e)!==t&&n)throw Error(w(425))}function Go(){}var Ka=null,Ja=null;function Ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qa=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,Mu=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Mu<"u"?function(e){return Mu.resolve(null).then(e).catch(ly)}:Qa;function ly(e){setTimeout(function(){throw e})}function ea(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ei(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Au(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Nr,bi="__reactProps$"+Nr,Zt="__reactContainer$"+Nr,qa="__reactEvents$"+Nr,cy="__reactListeners$"+Nr,uy="__reactHandles$"+Nr;function jn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Au(e);e!==null;){if(n=e[Nt])return n;e=Au(e)}return t}e=n,n=e.parentNode}return null}function Fi(e){return e=e[Nt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(w(33))}function vs(e){return e[bi]||null}var Xa=[],lr=-1;function bn(e){return{current:e}}function ne(e){0>lr||(e.current=Xa[lr],Xa[lr]=null,lr--)}function ee(e,t){lr++,Xa[lr]=e.current,e.current=t}var xn={},Fe=bn(xn),qe=bn(!1),Wn=xn;function Tr(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(e){return e=e.childContextTypes,e!=null}function Ko(){ne(qe),ne(Fe)}function ju(e,t,n){if(Fe.current!==xn)throw Error(w(168));ee(Fe,t),ee(qe,n)}function zh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(w(108,Jg(e)||"Unknown",i));return ce({},n,r)}function Jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Wn=Fe.current,ee(Fe,e),ee(qe,qe.current),!0}function Bu(e,t,n){var r=e.stateNode;if(!r)throw Error(w(169));n?(e=zh(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,ne(qe),ne(Fe),ee(Fe,e)):ne(qe),ee(qe,n)}var Wt=null,ys=!1,ta=!1;function Fh(e){Wt===null?Wt=[e]:Wt.push(e)}function fy(e){ys=!0,Fh(e)}function Pn(){if(!ta&&Wt!==null){ta=!0;var e=0,t=Y;try{var n=Wt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,ys=!1}catch(i){throw Wt!==null&&(Wt=Wt.slice(e+1)),fh(nc,Pn),i}finally{Y=t,ta=!1}}return null}var cr=[],ur=0,Yo=null,Qo=0,ut=[],ft=0,Gn=null,Gt=1,Kt="";function Ln(e,t){cr[ur++]=Qo,cr[ur++]=Yo,Yo=e,Qo=t}function Uh(e,t,n){ut[ft++]=Gt,ut[ft++]=Kt,ut[ft++]=Gn,Gn=e;var r=Gt;e=Kt;var i=32-Tt(r)-1;r&=~(1<<i),n+=1;var o=32-Tt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gt=1<<32-Tt(t)+i|n<<i|r,Kt=o+e}else Gt=1<<o|n<<i|r,Kt=e}function fc(e){e.return!==null&&(Ln(e,1),Uh(e,1,0))}function dc(e){for(;e===Yo;)Yo=cr[--ur],cr[ur]=null,Qo=cr[--ur],cr[ur]=null;for(;e===Gn;)Gn=ut[--ft],ut[ft]=null,Kt=ut[--ft],ut[ft]=null,Gt=ut[--ft],ut[ft]=null}var ot=null,it=null,ie=!1,_t=null;function $h(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Gt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function Za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(ie){var t=it;if(t){var n=t;if(!zu(e,t)){if(Za(e))throw Error(w(418));t=Cn(n.nextSibling);var r=ot;t&&zu(e,t)?$h(r,n):(e.flags=e.flags&-4097|2,ie=!1,ot=e)}}else{if(Za(e))throw Error(w(418));e.flags=e.flags&-4097|2,ie=!1,ot=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function ro(e){if(e!==ot)return!1;if(!ie)return Fu(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ya(e.type,e.memoizedProps)),t&&(t=it)){if(Za(e))throw Vh(),Error(w(418));for(;t;)$h(e,t),t=Cn(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=Cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?Cn(e.stateNode.nextSibling):null;return!0}function Vh(){for(var e=it;e;)e=Cn(e.nextSibling)}function wr(){it=ot=null,ie=!1}function hc(e){_t===null?_t=[e]:_t.push(e)}var dy=nn.ReactCurrentBatchConfig;function St(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var qo=bn(null),Xo=null,fr=null,pc=null;function mc(){pc=fr=Xo=null}function gc(e){var t=qo.current;ne(qo),e._currentValue=t}function tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){Xo=e,pc=fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(pc!==e)if(e={context:e,memoizedValue:t,next:null},fr===null){if(Xo===null)throw Error(w(308));fr=e,Xo.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var Bn=null;function vc(e){Bn===null?Bn=[e]:Bn.push(e)}function Hh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,vc(t)):(n.next=i.next,i.next=n),t.interleaved=n,en(e,r)}function en(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(W&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,en(e,n)}return i=r.interleaved,i===null?(t.next=t,vc(r)):(t.next=i.next,i.next=t),r.interleaved=t,en(e,n)}function Eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}function Uu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zo(e,t,n,r){var i=e.updateQueue;an=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,u=c=a=null,l=o;do{var f=l.lane,h=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=ce({},d,f);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=h,a=d):u=u.next=h,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Jn|=s,e.lanes=s,e.memoizedState=d}}function $u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var Gh=new Hd.Component().refs;function nl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ss={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=En(e),o=Yt(r,i);o.payload=t,n!=null&&(o.callback=n),t=kn(e,o,i),t!==null&&(wt(t,e,i,r),Eo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=En(e),o=Yt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=kn(e,o,i),t!==null&&(wt(t,e,i,r),Eo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=En(e),i=Yt(n,r);i.tag=2,t!=null&&(i.callback=t),t=kn(e,i,r),t!==null&&(wt(t,e,r,n),Eo(t,e,r))}};function Vu(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!wi(n,r)||!wi(i,o):!0}function Kh(e,t,n){var r=!1,i=xn,o=t.contextType;return typeof o=="object"&&o!==null?o=pt(o):(i=Xe(t)?Wn:Fe.current,r=t.contextTypes,o=(r=r!=null)?Tr(e,i):xn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ss,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ss.enqueueReplaceState(t,t.state,null)}function rl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Gh,yc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pt(o):(o=Xe(t)?Wn:Fe.current,i.context=Tr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ss.enqueueReplaceState(i,i.state,null),Zo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===Gh&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function Jh(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Tn(v,m),v.index=0,v.sibling=null,v}function o(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,y,S){return m===null||m.tag!==6?(m=la(y,v.mode,S),m.return=v,m):(m=i(m,y),m.return=v,m)}function a(v,m,y,S){var T=y.type;return T===rr?u(v,m,y.props.children,S,y.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sn&&Wu(T)===m.type)?(S=i(m,y.props),S.ref=Hr(v,m,y),S.return=v,S):(S=Po(y.type,y.key,y.props,null,v.mode,S),S.ref=Hr(v,m,y),S.return=v,S)}function c(v,m,y,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ca(y,v.mode,S),m.return=v,m):(m=i(m,y.children||[]),m.return=v,m)}function u(v,m,y,S,T){return m===null||m.tag!==7?(m=Vn(y,v.mode,S,T),m.return=v,m):(m=i(m,y),m.return=v,m)}function d(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=la(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ki:return y=Po(m.type,m.key,m.props,null,v.mode,y),y.ref=Hr(v,null,m),y.return=v,y;case nr:return m=ca(m,v.mode,y),m.return=v,m;case sn:var S=m._init;return d(v,S(m._payload),y)}if(Zr(m)||zr(m))return m=Vn(m,v.mode,y,null),m.return=v,m;io(v,m)}return null}function f(v,m,y,S){var T=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(v,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ki:return y.key===T?a(v,m,y,S):null;case nr:return y.key===T?c(v,m,y,S):null;case sn:return T=y._init,f(v,m,T(y._payload),S)}if(Zr(y)||zr(y))return T!==null?null:u(v,m,y,S,null);io(v,y)}return null}function h(v,m,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,l(m,v,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ki:return v=v.get(S.key===null?y:S.key)||null,a(m,v,S,T);case nr:return v=v.get(S.key===null?y:S.key)||null,c(m,v,S,T);case sn:var C=S._init;return h(v,m,y,C(S._payload),T)}if(Zr(S)||zr(S))return v=v.get(y)||null,u(m,v,S,T,null);io(m,S)}return null}function p(v,m,y,S){for(var T=null,C=null,k=m,x=m=0,M=null;k!==null&&x<y.length;x++){k.index>x?(M=k,k=null):M=k.sibling;var b=f(v,k,y[x],S);if(b===null){k===null&&(k=M);break}e&&k&&b.alternate===null&&t(v,k),m=o(b,m,x),C===null?T=b:C.sibling=b,C=b,k=M}if(x===y.length)return n(v,k),ie&&Ln(v,x),T;if(k===null){for(;x<y.length;x++)k=d(v,y[x],S),k!==null&&(m=o(k,m,x),C===null?T=k:C.sibling=k,C=k);return ie&&Ln(v,x),T}for(k=r(v,k);x<y.length;x++)M=h(k,v,x,y[x],S),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?x:M.key),m=o(M,m,x),C===null?T=M:C.sibling=M,C=M);return e&&k.forEach(function(he){return t(v,he)}),ie&&Ln(v,x),T}function g(v,m,y,S){var T=zr(y);if(typeof T!="function")throw Error(w(150));if(y=T.call(y),y==null)throw Error(w(151));for(var C=T=null,k=m,x=m=0,M=null,b=y.next();k!==null&&!b.done;x++,b=y.next()){k.index>x?(M=k,k=null):M=k.sibling;var he=f(v,k,b.value,S);if(he===null){k===null&&(k=M);break}e&&k&&he.alternate===null&&t(v,k),m=o(he,m,x),C===null?T=he:C.sibling=he,C=he,k=M}if(b.done)return n(v,k),ie&&Ln(v,x),T;if(k===null){for(;!b.done;x++,b=y.next())b=d(v,b.value,S),b!==null&&(m=o(b,m,x),C===null?T=b:C.sibling=b,C=b);return ie&&Ln(v,x),T}for(k=r(v,k);!b.done;x++,b=y.next())b=h(k,v,x,b.value,S),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?x:b.key),m=o(b,m,x),C===null?T=b:C.sibling=b,C=b);return e&&k.forEach(function(Ne){return t(v,Ne)}),ie&&Ln(v,x),T}function _(v,m,y,S){if(typeof y=="object"&&y!==null&&y.type===rr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ki:e:{for(var T=y.key,C=m;C!==null;){if(C.key===T){if(T=y.type,T===rr){if(C.tag===7){n(v,C.sibling),m=i(C,y.props.children),m.return=v,v=m;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sn&&Wu(T)===C.type){n(v,C.sibling),m=i(C,y.props),m.ref=Hr(v,C,y),m.return=v,v=m;break e}n(v,C);break}else t(v,C);C=C.sibling}y.type===rr?(m=Vn(y.props.children,v.mode,S,y.key),m.return=v,v=m):(S=Po(y.type,y.key,y.props,null,v.mode,S),S.ref=Hr(v,m,y),S.return=v,v=S)}return s(v);case nr:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=i(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=ca(y,v.mode,S),m.return=v,v=m}return s(v);case sn:return C=y._init,_(v,m,C(y._payload),S)}if(Zr(y))return p(v,m,y,S);if(zr(y))return g(v,m,y,S);io(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,y),m.return=v,v=m):(n(v,m),m=la(y,v.mode,S),m.return=v,v=m),s(v)):n(v,m)}return _}var xr=Jh(!0),Yh=Jh(!1),Ui={},Lt=bn(Ui),Pi=bn(Ui),Oi=bn(Ui);function zn(e){if(e===Ui)throw Error(w(174));return e}function Sc(e,t){switch(ee(Oi,t),ee(Pi,e),ee(Lt,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}ne(Lt),ee(Lt,t)}function Rr(){ne(Lt),ne(Pi),ne(Oi)}function Qh(e){zn(Oi.current);var t=zn(Lt.current),n=Ma(t,e.type);t!==n&&(ee(Pi,e),ee(Lt,n))}function Cc(e){Pi.current===e&&(ne(Lt),ne(Pi))}var ae=bn(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function kc(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var To=nn.ReactCurrentDispatcher,ra=nn.ReactCurrentBatchConfig,Kn=0,le=null,ye=null,ke=null,ts=!1,di=!1,Di=0,hy=0;function Ae(){throw Error(w(321))}function _c(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Ec(e,t,n,r,i,o){if(Kn=o,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?vy:yy,e=n(r,i),di){o=0;do{if(di=!1,Di=0,25<=o)throw Error(w(301));o+=1,ke=ye=null,t.updateQueue=null,To.current=Sy,e=n(r,i)}while(di)}if(To.current=ns,t=ye!==null&&ye.next!==null,Kn=0,ke=ye=le=null,ts=!1,t)throw Error(w(300));return e}function Tc(){var e=Di!==0;return Di=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?le.memoizedState=ke=e:ke=ke.next=e,ke}function mt(){if(ye===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ke===null?le.memoizedState:ke.next;if(t!==null)ke=t,ye=e;else{if(e===null)throw Error(w(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ke===null?le.memoizedState=ke=e:ke=ke.next=e}return ke}function Ni(e,t){return typeof t=="function"?t(e):t}function ia(e){var t=mt(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=ye,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var u=c.lane;if((Kn&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,le.lanes|=u,Jn|=u}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,xt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,le.lanes|=o,Jn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oa(e){var t=mt(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);xt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function qh(){}function Xh(e,t){var n=le,r=mt(),i=t(),o=!xt(r.memoizedState,i);if(o&&(r.memoizedState=i,Qe=!0),r=r.queue,wc(tp.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Ii(9,ep.bind(null,n,r,i,t),void 0,null),_e===null)throw Error(w(349));(Kn&30)!==0||Zh(n,t,i)}return i}function Zh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ep(e,t,n,r){t.value=n,t.getSnapshot=r,np(t)&&rp(e)}function tp(e,t,n){return n(function(){np(t)&&rp(e)})}function np(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function rp(e){var t=en(e,1);t!==null&&wt(t,e,1,-1)}function Gu(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},t.queue=e,e=e.dispatch=gy.bind(null,le,e),[t.memoizedState,e]}function Ii(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ip(){return mt().memoizedState}function wo(e,t,n,r){var i=Ot();le.flags|=e,i.memoizedState=Ii(1|t,n,void 0,r===void 0?null:r)}function Cs(e,t,n,r){var i=mt();r=r===void 0?null:r;var o=void 0;if(ye!==null){var s=ye.memoizedState;if(o=s.destroy,r!==null&&_c(r,s.deps)){i.memoizedState=Ii(t,n,o,r);return}}le.flags|=e,i.memoizedState=Ii(1|t,n,o,r)}function Ku(e,t){return wo(8390656,8,e,t)}function wc(e,t){return Cs(2048,8,e,t)}function op(e,t){return Cs(4,2,e,t)}function sp(e,t){return Cs(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lp(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4,4,ap.bind(null,t,e),n)}function xc(){}function cp(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_c(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function up(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_c(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fp(e,t,n){return(Kn&21)===0?(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n):(xt(n,t)||(n=ph(),le.lanes|=n,Jn|=n,e.baseState=!0),t)}function py(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=ra.transition;ra.transition={};try{e(!1),t()}finally{Y=n,ra.transition=r}}function dp(){return mt().memoizedState}function my(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hp(e))pp(t,n);else if(n=Hh(e,t,n,r),n!==null){var i=Ve();wt(n,e,r,i),mp(n,t,r)}}function gy(e,t,n){var r=En(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hp(e))pp(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,xt(l,s)){var a=t.interleaved;a===null?(i.next=i,vc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Hh(e,t,i,r),n!==null&&(i=Ve(),wt(n,e,r,i),mp(n,t,r))}}function hp(e){var t=e.alternate;return e===le||t!==null&&t===le}function pp(e,t){di=ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mp(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}var ns={readContext:pt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},vy={readContext:pt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wo(4194308,4,ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=my.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Gu,useDebugValue:xc,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Gu(!1),t=e[0];return e=py.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,i=Ot();if(ie){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),_e===null)throw Error(w(349));(Kn&30)!==0||Zh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ku(tp.bind(null,r,o,e),[e]),r.flags|=2048,Ii(9,ep.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ot(),t=_e.identifierPrefix;if(ie){var n=Kt,r=Gt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Di++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yy={readContext:pt,useCallback:cp,useContext:pt,useEffect:wc,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:sp,useMemo:up,useReducer:ia,useRef:ip,useState:function(){return ia(Ni)},useDebugValue:xc,useDeferredValue:function(e){var t=mt();return fp(t,ye.memoizedState,e)},useTransition:function(){var e=ia(Ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:qh,useSyncExternalStore:Xh,useId:dp,unstable_isNewReconciler:!1},Sy={readContext:pt,useCallback:cp,useContext:pt,useEffect:wc,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:sp,useMemo:up,useReducer:oa,useRef:ip,useState:function(){return oa(Ni)},useDebugValue:xc,useDeferredValue:function(e){var t=mt();return ye===null?t.memoizedState=e:fp(t,ye.memoizedState,e)},useTransition:function(){var e=oa(Ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:qh,useSyncExternalStore:Xh,useId:dp,unstable_isNewReconciler:!1};function br(e,t){try{var n="",r=t;do n+=Kg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function sa(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function il(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cy=typeof WeakMap=="function"?WeakMap:Map;function gp(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){is||(is=!0,pl=r),il(e,t)},n}function vp(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){il(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){il(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ju(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ly.bind(null,e,t,n),t.then(e,e))}function Yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qu(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ky=nn.ReactCurrentOwner,Qe=!1;function $e(e,t,n,r){t.child=e===null?Yh(t,null,n,r):xr(t,e.child,n,r)}function qu(e,t,n,r,i){n=n.render;var o=t.ref;return Cr(t,i),r=Ec(e,t,n,r,o,i),n=Tc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tn(e,t,i)):(ie&&n&&fc(t),t.flags|=1,$e(e,t,r,i),t.child)}function Xu(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,yp(e,t,o,r,i)):(e=Po(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(s,r)&&e.ref===t.ref)return tn(e,t,i)}return t.flags|=1,e=Tn(o,r),e.ref=t.ref,e.return=t,t.child=e}function yp(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(wi(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,tn(e,t,i)}return ol(e,t,n,r,i)}function Sp(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(hr,rt),rt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(hr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(hr,rt),rt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ee(hr,rt),rt|=r;return $e(e,t,i,n),t.child}function Cp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ol(e,t,n,r,i){var o=Xe(n)?Wn:Fe.current;return o=Tr(t,o),Cr(t,i),n=Ec(e,t,n,r,o,i),r=Tc(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tn(e,t,i)):(ie&&r&&fc(t),t.flags|=1,$e(e,t,n,i),t.child)}function Zu(e,t,n,r,i){if(Xe(n)){var o=!0;Jo(t)}else o=!1;if(Cr(t,i),t.stateNode===null)xo(e,t),Kh(t,n,r),rl(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Xe(n)?Wn:Fe.current,c=Tr(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Hu(t,s,r,c),an=!1;var f=t.memoizedState;s.state=f,Zo(t,r,s,i),a=t.memoizedState,l!==r||f!==a||qe.current||an?(typeof u=="function"&&(nl(t,n,u,r),a=t.memoizedState),(l=an||Vu(t,n,l,r,f,a,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Wh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:St(t.type,l),s.props=c,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Xe(n)?Wn:Fe.current,a=Tr(t,a));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Hu(t,s,r,a),an=!1,f=t.memoizedState,s.state=f,Zo(t,r,s,i);var p=t.memoizedState;l!==d||f!==p||qe.current||an?(typeof h=="function"&&(nl(t,n,h,r),p=t.memoizedState),(c=an||Vu(t,n,c,r,f,p,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,o,i)}function sl(e,t,n,r,i,o){Cp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Bu(t,n,!1),tn(e,t,o);r=t.stateNode,ky.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=xr(t,e.child,null,o),t.child=xr(t,null,l,o)):$e(e,t,l,o),t.memoizedState=r.state,i&&Bu(t,n,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ju(e,t.context,!1),Sc(e,t.containerInfo)}function ef(e,t,n,r,i){return wr(),hc(i),t.flags|=256,$e(e,t,n,r),t.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,n){var r=t.pendingProps,i=ae.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ae,i&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Es(s,r,0,null),e=Vn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ll(n),t.memoizedState=al,e):Rc(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _y(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return(s&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Tn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Tn(l,o):(o=Vn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ll(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=al,r}return o=e.child,e=o.sibling,r=Tn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rc(e,t){return t=Es({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oo(e,t,n,r){return r!==null&&hc(r),xr(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _y(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=sa(Error(w(422))),oo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Es({mode:"visible",children:r.children},i,0,null),o=Vn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&xr(t,e.child,null,s),t.child.memoizedState=ll(s),t.memoizedState=al,o);if((t.mode&1)===0)return oo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(w(419)),r=sa(o,r,void 0),oo(e,t,s,r)}if(l=(s&e.childLanes)!==0,Qe||l){if(r=_e,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,en(e,i),wt(r,e,i,-1))}return Ic(),r=sa(Error(w(421))),oo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=My.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,it=Cn(i.nextSibling),ot=t,ie=!0,_t=null,e!==null&&(ut[ft++]=Gt,ut[ft++]=Kt,ut[ft++]=Gn,Gt=e.id,Kt=e.overflow,Gn=t),t=Rc(t,r.children),t.flags|=4096,t)}function tf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tl(e.return,t,n)}function aa(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ep(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if($e(e,t,r.children,n),r=ae.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tf(e,n,t);else if(e.tag===19)tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ae,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&es(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&es(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aa(t,!0,n,null,o);break;case"together":aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ey(e,t,n){switch(t.tag){case 3:kp(t),wr();break;case 5:Qh(t);break;case 1:Xe(t.type)&&Jo(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(qo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?_p(e,t,n):(ee(ae,ae.current&1),e=tn(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Ep(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,n)}return tn(e,t,n)}var Tp,cl,wp,xp;Tp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cl=function(){};wp=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zn(Lt.current);var o=null;switch(n){case"input":i=Da(e,i),r=Da(e,r),o=[];break;case"select":i=ce({},i,{value:void 0}),r=ce({},r,{value:void 0}),o=[];break;case"textarea":i=La(e,i),r=La(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Go)}Aa(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&te("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ty(e,t,n){var r=t.pendingProps;switch(dc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Xe(t.type)&&Ko(),je(t),null;case 3:return r=t.stateNode,Rr(),ne(qe),ne(Fe),kc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(vl(_t),_t=null))),cl(e,t),je(t),null;case 5:Cc(t);var i=zn(Oi.current);if(n=t.type,e!==null&&t.stateNode!=null)wp(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(w(166));return je(t),null}if(e=zn(Lt.current),ro(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nt]=t,r[bi]=o,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<ti.length;i++)te(ti[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":uu(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":du(r,o),te("invalid",r)}Aa(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&no(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&no(r.textContent,l,e),i=["children",""+l]):yi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Ji(r),fu(r,o,!0);break;case"textarea":Ji(r),hu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Go)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nt]=t,e[bi]=r,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(s=ja(n,r),n){case"dialog":te("cancel",e),te("close",e),i=r;break;case"iframe":case"object":case"embed":te("load",e),i=r;break;case"video":case"audio":for(i=0;i<ti.length;i++)te(ti[i],e);i=r;break;case"source":te("error",e),i=r;break;case"img":case"image":case"link":te("error",e),te("load",e),i=r;break;case"details":te("toggle",e),i=r;break;case"input":uu(e,r),i=Da(e,r),te("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ce({},r,{value:void 0}),te("invalid",e);break;case"textarea":du(e,r),i=La(e,r),te("invalid",e);break;default:i=r}Aa(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?nh(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&eh(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Si(e,a):typeof a=="number"&&Si(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&te("scroll",e):a!=null&&ql(e,o,a,s))}switch(n){case"input":Ji(e),fu(e,r,!1);break;case"textarea":Ji(e),hu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gr(e,!!r.multiple,o,!1):r.defaultValue!=null&&gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(w(166));if(n=zn(Oi.current),zn(Lt.current),ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(o=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:no(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&no(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return je(t),null;case 13:if(ne(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&it!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Vh(),wr(),t.flags|=98560,o=!1;else if(o=ro(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(w(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[Nt]=t}else wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),o=!1}else _t!==null&&(vl(_t),_t=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ae.current&1)!==0?Se===0&&(Se=3):Ic())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Rr(),cl(e,t),e===null&&xi(t.stateNode.containerInfo),je(t),null;case 10:return gc(t.type._context),je(t),null;case 17:return Xe(t.type)&&Ko(),je(t),null;case 19:if(ne(ae),o=t.memoizedState,o===null)return je(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Wr(o,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=es(e),s!==null){for(t.flags|=128,Wr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&de()>Pr&&(t.flags|=128,r=!0,Wr(o,!1),t.lanes=4194304)}else{if(!r)if(e=es(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ie)return je(t),null}else 2*de()-o.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,Wr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=de(),t.sibling=null,n=ae.current,ee(ae,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return Nc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(rt&1073741824)!==0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(w(156,t.tag))}function wy(e,t){switch(dc(t),t.tag){case 1:return Xe(t.type)&&Ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr(),ne(qe),ne(Fe),kc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Cc(t),null;case 13:if(ne(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ae),null;case 4:return Rr(),null;case 10:return gc(t.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var so=!1,ze=!1,xy=typeof WeakSet=="function"?WeakSet:Set,D=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function ul(e,t,n){try{n()}catch(r){ue(e,t,r)}}var nf=!1;function Ry(e,t){if(Ka=Vo,e=Oh(),uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=s),f===o&&++u===r&&(a=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:e,selectionRange:n},Vo=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var p=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:St(t.type,g),_);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return p=nf,nf=!1,p}function hi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ul(t,n,o)}i=i.next}while(i!==r)}}function ks(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rp(e){var t=e.alternate;t!==null&&(e.alternate=null,Rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[bi],delete t[qa],delete t[cy],delete t[uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bp(e){return e.tag===5||e.tag===3||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Go));else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}var Te=null,Ct=!1;function on(e,t,n){for(n=n.child;n!==null;)Pp(e,t,n),n=n.sibling}function Pp(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(hs,n)}catch{}switch(n.tag){case 5:ze||dr(n,t);case 6:var r=Te,i=Ct;Te=null,on(e,t,n),Te=r,Ct=i,Te!==null&&(Ct?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(Ct?(e=Te,n=n.stateNode,e.nodeType===8?ea(e.parentNode,n):e.nodeType===1&&ea(e,n),Ei(e)):ea(Te,n.stateNode));break;case 4:r=Te,i=Ct,Te=n.stateNode.containerInfo,Ct=!0,on(e,t,n),Te=r,Ct=i;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&ul(n,t,s),i=i.next}while(i!==r)}on(e,t,n);break;case 1:if(!ze&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,t,l)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,on(e,t,n),ze=r):on(e,t,n);break;default:on(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xy),t.forEach(function(r){var i=Ay.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,Ct=!1;break e;case 3:Te=l.stateNode.containerInfo,Ct=!0;break e;case 4:Te=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Te===null)throw Error(w(160));Pp(o,s,i),Te=null,Ct=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ue(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Op(t,e),t=t.sibling}function Op(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Pt(e),r&4){try{hi(3,e,e.return),ks(3,e)}catch(g){ue(e,e.return,g)}try{hi(5,e,e.return)}catch(g){ue(e,e.return,g)}}break;case 1:yt(t,e),Pt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(yt(t,e),Pt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var i=e.stateNode;try{Si(i,"")}catch(g){ue(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&qd(i,o),ja(l,s);var c=ja(l,o);for(s=0;s<a.length;s+=2){var u=a[s],d=a[s+1];u==="style"?nh(i,d):u==="dangerouslySetInnerHTML"?eh(i,d):u==="children"?Si(i,d):ql(i,u,d,c)}switch(l){case"input":Na(i,o);break;case"textarea":Xd(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?gr(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?gr(i,!!o.multiple,o.defaultValue,!0):gr(i,!!o.multiple,o.multiple?[]:"",!1))}i[bi]=o}catch(g){ue(e,e.return,g)}}break;case 6:if(yt(t,e),Pt(e),r&4){if(e.stateNode===null)throw Error(w(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ue(e,e.return,g)}}break;case 3:if(yt(t,e),Pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(g){ue(e,e.return,g)}break;case 4:yt(t,e),Pt(e);break;case 13:yt(t,e),Pt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Oc=de())),r&4&&of(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(c=ze)||u,yt(t,e),ze=c):yt(t,e),Pt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&(e.mode&1)!==0)for(D=e,u=e.child;u!==null;){for(d=D=u;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:hi(4,f,f.return);break;case 1:dr(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ue(r,n,g)}}break;case 5:dr(f,f.return);break;case 22:if(f.memoizedState!==null){af(d);continue}}h!==null?(h.return=f,D=h):af(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=th("display",s))}catch(g){ue(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ue(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),Pt(e),r&4&&of(e);break;case 21:break;default:yt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bp(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Si(i,""),r.flags&=-33);var o=rf(e);hl(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=rf(e);dl(e,l,s);break;default:throw Error(w(161))}}catch(a){ue(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function by(e,t,n){D=e,Dp(e)}function Dp(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||so;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ze;l=so;var c=ze;if(so=s,(ze=a)&&!c)for(D=i;D!==null;)s=D,a=s.child,s.tag===22&&s.memoizedState!==null?lf(i):a!==null?(a.return=s,D=a):lf(i);for(;o!==null;)D=o,Dp(o),o=o.sibling;D=i,so=l,ze=c}sf(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,D=o):sf(e)}}function sf(e){for(;D!==null;){var t=D;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ze||ks(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$u(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$u(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ei(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}ze||t.flags&512&&fl(t)}catch(f){ue(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function af(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function lf(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ks(4,t)}catch(a){ue(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ue(t,i,a)}}var o=t.return;try{fl(t)}catch(a){ue(t,o,a)}break;case 5:var s=t.return;try{fl(t)}catch(a){ue(t,s,a)}}}catch(a){ue(t,t.return,a)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var Py=Math.ceil,rs=nn.ReactCurrentDispatcher,bc=nn.ReactCurrentOwner,ht=nn.ReactCurrentBatchConfig,W=0,_e=null,pe=null,be=0,rt=0,hr=bn(0),Se=0,Li=null,Jn=0,_s=0,Pc=0,pi=null,Ye=null,Oc=0,Pr=1/0,$t=null,is=!1,pl=null,_n=null,ao=!1,hn=null,os=0,mi=0,ml=null,Ro=-1,bo=0;function Ve(){return(W&6)!==0?de():Ro!==-1?Ro:Ro=de()}function En(e){return(e.mode&1)===0?1:(W&2)!==0&&be!==0?be&-be:dy.transition!==null?(bo===0&&(bo=ph()),bo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:kh(e.type)),e)}function wt(e,t,n,r){if(50<mi)throw mi=0,ml=null,Error(w(185));Bi(e,n,r),((W&2)===0||e!==_e)&&(e===_e&&((W&2)===0&&(_s|=n),Se===4&&cn(e,be)),Ze(e,r),n===1&&W===0&&(t.mode&1)===0&&(Pr=de()+500,ys&&Pn()))}function Ze(e,t){var n=e.callbackNode;dv(e,t);var r=$o(e,e===_e?be:0);if(r===0)n!==null&&gu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gu(n),t===1)e.tag===0?fy(cf.bind(null,e)):Fh(cf.bind(null,e)),ay(function(){(W&6)===0&&Pn()}),n=null;else{switch(mh(r)){case 1:n=nc;break;case 4:n=dh;break;case 16:n=Uo;break;case 536870912:n=hh;break;default:n=Uo}n=zp(n,Np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Np(e,t){if(Ro=-1,bo=0,(W&6)!==0)throw Error(w(327));var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var r=$o(e,e===_e?be:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=ss(e,r);else{t=r;var i=W;W|=2;var o=Lp();(_e!==e||be!==t)&&($t=null,Pr=de()+500,$n(e,t));do try{Ny();break}catch(l){Ip(e,l)}while(1);mc(),rs.current=o,W=i,pe!==null?t=0:(_e=null,be=0,t=Se)}if(t!==0){if(t===2&&(i=$a(e),i!==0&&(r=i,t=gl(e,i))),t===1)throw n=Li,$n(e,0),cn(e,r),Ze(e,de()),n;if(t===6)cn(e,r);else{if(i=e.current.alternate,(r&30)===0&&!Oy(i)&&(t=ss(e,r),t===2&&(o=$a(e),o!==0&&(r=o,t=gl(e,o))),t===1))throw n=Li,$n(e,0),cn(e,r),Ze(e,de()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(w(345));case 2:Mn(e,Ye,$t);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Oc+500-de(),10<t)){if($o(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qa(Mn.bind(null,e,Ye,$t),t);break}Mn(e,Ye,$t);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Tt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Py(r/1960))-r,10<r){e.timeoutHandle=Qa(Mn.bind(null,e,Ye,$t),r);break}Mn(e,Ye,$t);break;case 5:Mn(e,Ye,$t);break;default:throw Error(w(329))}}}return Ze(e,de()),e.callbackNode===n?Np.bind(null,e):null}function gl(e,t){var n=pi;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=ss(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&vl(t)),e}function vl(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Oy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Pc,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function cf(e){if((W&6)!==0)throw Error(w(327));kr();var t=$o(e,0);if((t&1)===0)return Ze(e,de()),null;var n=ss(e,t);if(e.tag!==0&&n===2){var r=$a(e);r!==0&&(t=r,n=gl(e,r))}if(n===1)throw n=Li,$n(e,0),cn(e,t),Ze(e,de()),n;if(n===6)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,Ye,$t),Ze(e,de()),null}function Dc(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Pr=de()+500,ys&&Pn())}}function Yn(e){hn!==null&&hn.tag===0&&(W&6)===0&&kr();var t=W;W|=1;var n=ht.transition,r=Y;try{if(ht.transition=null,Y=1,e)return e()}finally{Y=r,ht.transition=n,W=t,(W&6)===0&&Pn()}}function Nc(){rt=hr.current,ne(hr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sy(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(dc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ko();break;case 3:Rr(),ne(qe),ne(Fe),kc();break;case 5:Cc(r);break;case 4:Rr();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:gc(r.type._context);break;case 22:case 23:Nc()}n=n.return}if(_e=e,pe=e=Tn(e.current,null),be=rt=t,Se=0,Li=null,Pc=_s=Jn=0,Ye=pi=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Bn=null}return e}function Ip(e,t){do{var n=pe;try{if(mc(),To.current=ns,ts){for(var r=le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ts=!1}if(Kn=0,ke=ye=le=null,di=!1,Di=0,bc.current=null,n===null||n.return===null){Se=1,Li=t,pe=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,d=u.tag;if((u.mode&1)===0&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Yu(s);if(h!==null){h.flags&=-257,Qu(h,s,l,o,t),h.mode&1&&Ju(o,c,t),t=h,a=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if((t&1)===0){Ju(o,c,t),Ic();break e}a=Error(w(426))}}else if(ie&&l.mode&1){var _=Yu(s);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),Qu(_,s,l,o,t),hc(br(a,l));break e}}o=a=br(a,l),Se!==4&&(Se=2),pi===null?pi=[o]:pi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=gp(o,a,t);Uu(o,v);break e;case 1:l=a;var m=o.type,y=o.stateNode;if((o.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_n===null||!_n.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=vp(o,l,t);Uu(o,S);break e}}o=o.return}while(o!==null)}Ap(n)}catch(T){t=T,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(1)}function Lp(){var e=rs.current;return rs.current=ns,e===null?ns:e}function Ic(){(Se===0||Se===3||Se===2)&&(Se=4),_e===null||(Jn&268435455)===0&&(_s&268435455)===0||cn(_e,be)}function ss(e,t){var n=W;W|=2;var r=Lp();(_e!==e||be!==t)&&($t=null,$n(e,t));do try{Dy();break}catch(i){Ip(e,i)}while(1);if(mc(),W=n,rs.current=r,pe!==null)throw Error(w(261));return _e=null,be=0,Se}function Dy(){for(;pe!==null;)Mp(pe)}function Ny(){for(;pe!==null&&!rv();)Mp(pe)}function Mp(e){var t=Bp(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Ap(e):pe=t,bc.current=null}function Ap(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ty(n,t,rt),n!==null){pe=n;return}}else{if(n=wy(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,pe=null;return}}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Se===0&&(Se=5)}function Mn(e,t,n){var r=Y,i=ht.transition;try{ht.transition=null,Y=1,Iy(e,t,n,r)}finally{ht.transition=i,Y=r}return null}function Iy(e,t,n,r){do kr();while(hn!==null);if((W&6)!==0)throw Error(w(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(hv(e,o),e===_e&&(pe=_e=null,be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ao||(ao=!0,zp(Uo,function(){return kr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=ht.transition,ht.transition=null;var s=Y;Y=1;var l=W;W|=4,bc.current=null,Ry(e,n),Op(n,e),Zv(Ja),Vo=!!Ka,Ja=Ka=null,e.current=n,by(n),iv(),W=l,Y=s,ht.transition=o}else e.current=n;if(ao&&(ao=!1,hn=e,os=i),o=e.pendingLanes,o===0&&(_n=null),av(n.stateNode),Ze(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(is)throw is=!1,e=pl,pl=null,e;return(os&1)!==0&&e.tag!==0&&kr(),o=e.pendingLanes,(o&1)!==0?e===ml?mi++:(mi=0,ml=e):mi=0,Pn(),null}function kr(){if(hn!==null){var e=mh(os),t=ht.transition,n=Y;try{if(ht.transition=null,Y=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,os=0,(W&6)!==0)throw Error(w(331));var i=W;for(W|=4,D=e.current;D!==null;){var o=D,s=o.child;if((D.flags&16)!==0){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:hi(8,u,o)}var d=u.child;if(d!==null)d.return=u,D=d;else for(;D!==null;){u=D;var f=u.sibling,h=u.return;if(Rp(u),u===c){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}D=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,D=s;else e:for(;D!==null;){if(o=D,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:hi(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,D=v;break e}D=o.return}}var m=e.current;for(D=m;D!==null;){s=D;var y=s.child;if((s.subtreeFlags&2064)!==0&&y!==null)y.return=s,D=y;else e:for(s=m;D!==null;){if(l=D,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:ks(9,l)}}catch(T){ue(l,l.return,T)}if(l===s){D=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,D=S;break e}D=l.return}}if(W=i,Pn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(hs,e)}catch{}r=!0}return r}finally{Y=n,ht.transition=t}}return!1}function uf(e,t,n){t=br(n,t),t=gp(e,t,1),e=kn(e,t,1),t=Ve(),e!==null&&(Bi(e,1,t),Ze(e,t))}function ue(e,t,n){if(e.tag===3)uf(e,e,n);else for(;t!==null;){if(t.tag===3){uf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=br(n,e),e=vp(t,e,1),t=kn(t,e,1),e=Ve(),t!==null&&(Bi(t,1,e),Ze(t,e));break}}t=t.return}}function Ly(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(be&n)===n&&(Se===4||Se===3&&(be&130023424)===be&&500>de()-Oc?$n(e,0):Pc|=n),Ze(e,t)}function jp(e,t){t===0&&((e.mode&1)===0?t=1:(t=qi,qi<<=1,(qi&130023424)===0&&(qi=4194304)));var n=Ve();e=en(e,t),e!==null&&(Bi(e,t,n),Ze(e,n))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jp(e,n)}function Ay(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(t),jp(e,n)}var Bp;Bp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Qe=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Qe=!1,Ey(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,ie&&(t.flags&1048576)!==0&&Uh(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xo(e,t),e=t.pendingProps;var i=Tr(t,Fe.current);Cr(t,n),i=Ec(null,t,r,e,i,n);var o=Tc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(o=!0,Jo(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yc(t),i.updater=Ss,t.stateNode=i,i._reactInternals=t,rl(t,r,e,n),t=sl(null,t,r,!0,o,n)):(t.tag=0,ie&&o&&fc(t),$e(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=By(r),e=St(r,e),i){case 0:t=ol(null,t,r,e,n);break e;case 1:t=Zu(null,t,r,e,n);break e;case 11:t=qu(null,t,r,e,n);break e;case 14:t=Xu(null,t,r,St(r.type,e),n);break e}throw Error(w(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),ol(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Zu(e,t,r,i,n);case 3:e:{if(kp(t),e===null)throw Error(w(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Wh(e,t),Zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=br(Error(w(423)),t),t=ef(e,t,r,n,i);break e}else if(r!==i){i=br(Error(w(424)),t),t=ef(e,t,r,n,i);break e}else for(it=Cn(t.stateNode.containerInfo.firstChild),ot=t,ie=!0,_t=null,n=Yh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wr(),r===i){t=tn(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return Qh(t),e===null&&el(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ya(r,i)?s=null:o!==null&&Ya(r,o)&&(t.flags|=32),Cp(e,t),$e(e,t,s,n),t.child;case 6:return e===null&&el(t),null;case 13:return _p(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),qu(e,t,r,i,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ee(qo,r._currentValue),r._currentValue=s,o!==null)if(xt(o.value,s)){if(o.children===i.children&&!qe.current){t=tn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Yt(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tl(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(w(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),tl(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$e(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cr(t,n),i=pt(i),r=r(i),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,i=St(r,t.pendingProps),i=St(r.type,i),Xu(e,t,r,i,n);case 15:return yp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),xo(e,t),t.tag=1,Xe(r)?(e=!0,Jo(t)):e=!1,Cr(t,n),Kh(t,r,i),rl(t,r,i,n),sl(null,t,r,!0,e,n);case 19:return Ep(e,t,n);case 22:return Sp(e,t,n)}throw Error(w(156,t.tag))};function zp(e,t){return fh(e,t)}function jy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new jy(e,t,n,r)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function By(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zl)return 11;if(e===ec)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Po(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Lc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case rr:return Vn(n.children,i,o,t);case Xl:s=8,i|=8;break;case Ra:return e=dt(12,n,t,i|2),e.elementType=Ra,e.lanes=o,e;case ba:return e=dt(13,n,t,i),e.elementType=ba,e.lanes=o,e;case Pa:return e=dt(19,n,t,i),e.elementType=Pa,e.lanes=o,e;case Jd:return Es(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:s=10;break e;case Kd:s=9;break e;case Zl:s=11;break e;case ec:s=14;break e;case sn:s=16,r=null;break e}throw Error(w(130,e==null?e:typeof e,""))}return t=dt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Vn(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function Es(e,t,n,r){return e=dt(22,e,r,t),e.elementType=Jd,e.lanes=n,e.stateNode={isHidden:!1},e}function la(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function ca(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zy(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vs(0),this.expirationTimes=Vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,i,o,s,l,a){return e=new zy(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(o),e}function Fy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fp(e){if(!e)return xn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(w(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(w(171))}if(e.tag===1){var n=e.type;if(Xe(n))return zh(e,n,t)}return t}function Up(e,t,n,r,i,o,s,l,a){return e=Mc(n,r,!0,e,i,o,s,l,a),e.context=Fp(null),n=e.current,r=Ve(),i=En(n),o=Yt(r,i),o.callback=t!=null?t:null,kn(n,o,i),e.current.lanes=i,Bi(e,i,r),Ze(e,r),e}function Ts(e,t,n,r){var i=t.current,o=Ve(),s=En(i);return n=Fp(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(i,t,s),e!==null&&(wt(e,i,s,o),Eo(e,i,s)),s}function as(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ac(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function Uy(){return null}var $p=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}ws.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));Ts(e,t,null,null)};ws.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){Ts(null,e,null,null)}),t[Zt]=null}};function ws(e){this._internalRoot=e}ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Ch(e)}};function Bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function df(){}function $y(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=as(s);o.call(c)}}var s=Up(t,r,e,0,null,!1,!1,"",df);return e._reactRootContainer=s,e[Zt]=s.current,xi(e.nodeType===8?e.parentNode:e),Yn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=as(a);l.call(c)}}var a=Mc(e,0,!1,null,null,!1,!1,"",df);return e._reactRootContainer=a,e[Zt]=a.current,xi(e.nodeType===8?e.parentNode:e),Yn(function(){Ts(t,a,n,r)}),a}function Rs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=as(s);l.call(a)}}Ts(t,s,e,i)}else s=$y(n,t,e,i,r);return as(s)}gh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ei(t.pendingLanes);n!==0&&(rc(t,n|1),Ze(t,de()),(W&6)===0&&(Pr=de()+500,Pn()))}break;case 13:Yn(function(){var r=en(e,1);if(r!==null){var i=Ve();wt(r,e,1,i)}}),Ac(e,1)}};ic=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var n=Ve();wt(t,e,134217728,n)}Ac(e,134217728)}};vh=function(e){if(e.tag===13){var t=En(e),n=en(e,t);if(n!==null){var r=Ve();wt(n,e,t,r)}Ac(e,t)}};yh=function(){return Y};Sh=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};za=function(e,t,n){switch(t){case"input":if(Na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vs(r);if(!i)throw Error(w(90));Qd(r),Na(r,i)}}}break;case"textarea":Xd(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};oh=Dc;sh=Yn;var Vy={usingClientEntryPoint:!1,Events:[Fi,ar,vs,rh,ih,Dc]},Gr={findFiberByHostInstance:jn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hy={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ch(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||Uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{hs=lo.inject(Hy),It=lo}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(t))throw Error(w(200));return Fy(e,t,null,n)};at.createRoot=function(e,t){if(!Bc(e))throw Error(w(299));var n=!1,r="",i=$p;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mc(e,1,!1,null,null,n,!1,r,i),e[Zt]=t.current,xi(e.nodeType===8?e.parentNode:e),new jc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=ch(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Yn(e)};at.hydrate=function(e,t,n){if(!xs(t))throw Error(w(200));return Rs(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Bc(e))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=$p;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Up(t,null,e,1,n!=null?n:null,i,!1,o,s),e[Zt]=t.current,xi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ws(t)};at.render=function(e,t,n){if(!xs(t))throw Error(w(200));return Rs(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!xs(e))throw Error(w(40));return e._reactRootContainer?(Yn(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};at.unstable_batchedUpdates=Dc;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xs(n))throw Error(w(200));if(e==null||e._reactInternals===void 0)throw Error(w(38));return Rs(e,t,n,!1,r)};at.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=at})(Ud);var hf=Ud.exports;wa.createRoot=hf.createRoot,wa.hydrateRoot=hf.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ve;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ve||(ve={}));const pf="popstate";function Wy(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:l}=r.location;return Hn("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rt(i)}return Ky(t,n,null,e)}function Gy(){return Math.random().toString(36).substr(2,8)}function mf(e){return{usr:e.state,key:e.key}}function Hn(e,t,n,r){return n===void 0&&(n=null),se({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rn(t):t,{state:n,key:t&&t.key||r||Gy()})}function Rt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Mi(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof e=="string"?e:Rt(e);return new URL(n,t)}function Ky(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=ve.Pop,a=null;function c(){l=ve.Pop,a&&a({action:l,location:f.location})}function u(h,p){l=ve.Push;let g=Hn(f.location,h,p);n&&n(g,h);let _=mf(g),v=f.createHref(g);try{s.pushState(_,"",v)}catch{i.location.assign(v)}o&&a&&a({action:l,location:f.location})}function d(h,p){l=ve.Replace;let g=Hn(f.location,h,p);n&&n(g,h);let _=mf(g),v=f.createHref(g);s.replaceState(_,"",v),o&&a&&a({action:l,location:f.location})}let f={get action(){return l},get location(){return e(i,s)},listen(h){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(pf,c),a=h,()=>{i.removeEventListener(pf,c),a=null}},createHref(h){return t(i,h)},encodeLocation(h){let p=Mi(Rt(h));return se({},h,{pathname:p.pathname,search:p.search,hash:p.hash})},push:u,replace:d,go(h){return s.go(h)}};return f}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));function Jy(e){return e.index===!0}function Vp(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let o=[...t,i],s=typeof r.id=="string"?r.id:o.join("-");return F(r.index!==!0||!r.children,"Cannot specify children on an index route"),F(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),Jy(r)?se({},r,{id:s}):se({},r,{id:s,children:r.children?Vp(r.children,o,n):void 0})})}function ni(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?rn(t):t,i=Wp(r.pathname||"/",n);if(i==null)return null;let o=Hp(e);Yy(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=i0(o[l],a0(i));return s}function Hp(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(F(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let l=Qt([r,s.relativePath]),a=n.concat(s);i.children&&i.children.length>0&&(F(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Hp(i.children,t,a,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:n0(l,i.index),routesMeta:a})}),t}function Yy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qy=/^:\w+$/,qy=3,Xy=2,Zy=1,e0=10,t0=-2,gf=e=>e==="*";function n0(e,t){let n=e.split("/"),r=n.length;return n.some(gf)&&(r+=t0),t&&(r+=Xy),n.filter(i=>!gf(i)).reduce((i,o)=>i+(Qy.test(o)?qy:o===""?Zy:e0),r)}function r0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function i0(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",u=o0({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let d=l.route;o.push({params:r,pathname:Qt([i,u.pathname]),pathnameBase:f0(Qt([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Qt([i,u.pathnameBase]))}return o}function o0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s0(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=l[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=l0(l[d]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:e}}function s0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,l)=>(r.push(l),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function a0(e){try{return decodeURI(e)}catch(t){return zc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function l0(e,t){try{return decodeURIComponent(e)}catch(n){return zc(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Wp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function F(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?rn(e):e;return{pathname:n?n.startsWith("/")?n:u0(n,t):t,search:d0(r),hash:h0(i)}}function u0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ua(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bs(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=rn(e):(i=se({},e),F(!i.pathname||!i.pathname.includes("?"),ua("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),ua("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),ua("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=c0(i,l),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),f0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class vf extends Error{}class p0{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,F(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((i,o)=>n=o),this.controller=new AbortController;let r=()=>n(new vf("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(t).reduce((i,o)=>{let[s,l]=o;return Object.assign(i,{[s]:this.trackPromise(s,l)})},{})}trackPromise(t,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){if(this.controller.signal.aborted&&r instanceof vf)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const o=this.subscriber;return r?(Object.defineProperty(t,"_error",{get:()=>r}),o&&o(!1),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),o&&o(!1),i)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let t=this.subscriber;t&&t(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return F(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:g0(i)})},{})}}function m0(e){return e instanceof Promise&&e._tracked===!0}function g0(e){if(!m0(e))return e;if(e._error)throw e._error;return e._data}class Ir{constructor(t,n,r){this.status=t,this.statusText=n||"",this.data=r}}function Gp(e){return e instanceof Ir}const fa={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},v0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S0=!y0;function C0(e){F(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=Vp(e.routes),n=null,r=new Set,i=null,o=null,s=null,l=!1,a=ni(t,e.history.location,e.basename),c=null;if(a==null){let{matches:E,route:R,error:O}=_f(t);a=E,c={[R.id]:O}}let u=!a.some(E=>E.route.loader)||e.hydrationData!=null,d,f={historyAction:e.history.action,location:e.history.location,matches:a,initialized:u,navigation:fa,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map},h=ve.Pop,p=!1,g,_=!1,v=!1,m=[],y=[],S=new Map,T=0,C=-1,k=new Map,x=new Set,M=new Map,b=new Map;function he(){return n=e.history.listen(E=>{let{action:R,location:O}=E;return P(R,O)}),f.initialized||P(ve.Pop,f.location),d}function Ne(){n&&n(),r.clear(),g&&g.abort(),f.fetchers.forEach((E,R)=>Ce(R))}function ge(E){return r.add(E),()=>r.delete(E)}function H(E){f=se({},f,E),r.forEach(R=>R(f))}function et(E,R){var O;let A=f.actionData!=null&&f.navigation.formMethod!=null&&f.navigation.state==="loading"&&((O=f.navigation.formAction)==null?void 0:O.split("?")[0])===E.pathname,z=R.loaderData?{loaderData:ha(f.loaderData,R.loaderData,R.matches||[])}:{};H(se({},A?{}:{actionData:null},R,z,{historyAction:h,location:E,initialized:!0,navigation:fa,revalidation:"idle",restoreScrollPosition:f.navigation.formData?!1:eu(E,R.matches||f.matches),preventScrollReset:p})),_||h===ve.Pop||(h===ve.Push?e.history.push(E,E.state):h===ve.Replace&&e.history.replace(E,E.state)),h=ve.Pop,p=!1,_=!1,v=!1,m=[],y=[]}async function tt(E,R){if(typeof E=="number"){e.history.go(E);return}let{path:O,submission:A,error:z}=yf(E,R),G=Hn(f.location,O,R&&R.state);G=e.history.encodeLocation(G);let J=(R&&R.replace)===!0||A!=null?ve.Replace:ve.Push,q=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0;return await P(J,G,{submission:A,pendingError:z,preventScrollReset:q,replace:R&&R.replace})}function gt(){if(bt(),H({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){P(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}P(h||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function P(E,R,O){g&&g.abort(),g=null,h=E,_=(O&&O.startUninterruptedRevalidation)===!0,_g(f.location,f.matches),p=(O&&O.preventScrollReset)===!0;let A=O&&O.overrideNavigation,z=ni(t,R,e.basename);if(!z){let{matches:Le,route:Xn,error:Ft}=_f(t);As(),et(R,{matches:Le,loaderData:{},errors:{[Xn.id]:Ft}});return}if(x0(f.location,R)){et(R,{matches:z});return}g=new AbortController;let G=Jr(R,g.signal,O&&O.submission),J,q;if(O&&O.pendingError)q={[pr(z).route.id]:O.pendingError};else if(O&&O.submission){let Le=await L(G,R,O.submission,z,{replace:O.replace});if(Le.shortCircuited)return;J=Le.pendingActionData,q=Le.pendingActionError,A=se({state:"loading",location:R},O.submission)}let{shortCircuited:X,loaderData:Z,errors:re}=await j(G,R,z,A,O&&O.submission,O&&O.replace,J,q);X||(g=null,et(R,{matches:z,loaderData:Z,errors:re}))}async function L(E,R,O,A,z){bt();let G=se({state:"submitting",location:R},O);H({navigation:G});let J,q=Rf(A,R);if(!q.route.action)J=Ef(R);else if(J=await Kr("action",E,q,A,d.basename),E.signal.aborted)return{shortCircuited:!0};if(_r(J)){let X=se({state:"loading",location:Hn(f.location,J.location)},O);return await nt(J,X,z&&z.replace),{shortCircuited:!0}}if(gi(J)){let X=pr(A,q.route.id);return(z&&z.replace)!==!0&&(h=ve.Push),{pendingActionError:{[X.route.id]:J.error}}}if(Fn(J))throw new Error("defer() is not supported in actions");return{pendingActionData:{[q.route.id]:J.data}}}async function j(E,R,O,A,z,G,J,q){let X=A;X||(X={state:"loading",location:R,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[Z,re]=Sf(f,O,z,R,v,m,y,J,q,M);if(As(Me=>!(O&&O.some(Ke=>Ke.route.id===Me))||Z&&Z.some(Ke=>Ke.route.id===Me)),Z.length===0&&re.length===0)return et(R,{matches:O,loaderData:ha(f.loaderData,{},O),errors:q||null,actionData:J||null}),{shortCircuited:!0};_||(re.forEach(Me=>{let[Ke]=Me,er=f.fetchers.get(Ke),Br={state:"loading",data:er&&er.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};f.fetchers.set(Ke,Br)}),H(se({navigation:X,actionData:J||f.actionData||null},re.length>0?{fetchers:new Map(f.fetchers)}:{}))),C=++T,re.forEach(Me=>{let[Ke]=Me;return S.set(Ke,g)});let{results:Le,loaderResults:Xn,fetcherResults:Ft}=await Ee(f.matches,O,Z,re,E);if(E.signal.aborted)return{shortCircuited:!0};re.forEach(Me=>{let[Ke]=Me;return S.delete(Ke)});let Dn=Tf(Le);if(Dn){let Me=da(f,Dn);return await nt(Dn,Me,G),{shortCircuited:!0}}let{loaderData:js,errors:Wi}=kf(f,O,Z,Xn,q,re,Ft,b);b.forEach((Me,Ke)=>{Me.subscribe(er=>{(er||Me.done)&&b.delete(Ke)})}),Cg();let Zn=Zc(C);return se({loaderData:js,errors:Wi},Zn||re.length>0?{fetchers:new Map(f.fetchers)}:{})}function Q(E){return f.fetchers.get(E)||v0}function oe(E,R,O,A){if(S0)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");S.has(E)&&On(E);let z=ni(t,O,e.basename);if(!z){jr(E,R,new Ir(404,"Not Found",null));return}let{path:G,submission:J}=yf(O,A,!0),q=Rf(z,G);if(J){zt(E,R,G,q,z,J);return}M.set(E,[G,q,z]),Ie(E,R,G,q,z)}async function zt(E,R,O,A,z,G){if(bt(),M.delete(E),!A.route.action){let{error:vt}=Ef(O);jr(E,R,vt);return}let J=f.fetchers.get(E),q=se({state:"submitting"},G,{data:J&&J.data});f.fetchers.set(E,q),H({fetchers:new Map(f.fetchers)});let X=new AbortController,Z=Jr(O,X.signal,G);S.set(E,X);let re=await Kr("action",Z,A,z,d.basename);if(Z.signal.aborted){S.get(E)===X&&S.delete(E);return}if(_r(re)){S.delete(E),x.add(E);let vt=se({state:"loading"},G,{data:void 0});f.fetchers.set(E,vt),H({fetchers:new Map(f.fetchers)});let Ut=se({state:"loading",location:Hn(f.location,re.location)},G);await nt(re,Ut);return}if(gi(re)){jr(E,R,re.error);return}Fn(re)&&F(!1,"defer() is not supported in actions");let Le=f.navigation.location||f.location,Xn=Jr(Le,X.signal),Ft=f.navigation.state!=="idle"?ni(t,f.navigation.location,e.basename):f.matches;F(Ft,"Didn't find any matches after fetcher action");let Dn=++T;k.set(E,Dn);let js=se({state:"loading",data:re.data},G);f.fetchers.set(E,js);let[Wi,Zn]=Sf(f,Ft,G,Le,v,m,y,{[A.route.id]:re.data},void 0,M);Zn.filter(vt=>{let[Ut]=vt;return Ut!==E}).forEach(vt=>{let[Ut]=vt,ru=f.fetchers.get(Ut),wg={state:"loading",data:ru&&ru.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};f.fetchers.set(Ut,wg),S.set(Ut,X)}),H({fetchers:new Map(f.fetchers)});let{results:Me,loaderResults:Ke,fetcherResults:er}=await Ee(f.matches,Ft,Wi,Zn,Xn);if(X.signal.aborted)return;k.delete(E),S.delete(E),Zn.forEach(vt=>{let[Ut]=vt;return S.delete(Ut)});let Br=Tf(Me);if(Br){let vt=da(f,Br);await nt(Br,vt);return}let{loaderData:tu,errors:nu}=kf(f,f.matches,Wi,Ke,void 0,Zn,er,b),Eg={state:"idle",data:re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};f.fetchers.set(E,Eg);let Tg=Zc(Dn);f.navigation.state==="loading"&&Dn>C?(F(h,"Expected pending action"),g&&g.abort(),et(f.navigation.location,{matches:Ft,loaderData:tu,errors:nu,fetchers:new Map(f.fetchers)})):(H(se({errors:nu,loaderData:ha(f.loaderData,tu,Ft)},Tg?{fetchers:new Map(f.fetchers)}:{})),v=!1)}async function Ie(E,R,O,A,z){let G=f.fetchers.get(E),J={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:G&&G.data};f.fetchers.set(E,J),H({fetchers:new Map(f.fetchers)});let q=new AbortController,X=Jr(O,q.signal);S.set(E,q);let Z=await Kr("loader",X,A,z,d.basename);if(Fn(Z)&&(Z=await Qp(Z,X.signal,!0)||Z),S.get(E)===q&&S.delete(E),X.signal.aborted)return;if(_r(Z)){let Le=da(f,Z);await nt(Z,Le);return}if(gi(Z)){let Le=pr(f.matches,R);f.fetchers.delete(E),H({fetchers:new Map(f.fetchers),errors:{[Le.route.id]:Z.error}});return}F(!Fn(Z),"Unhandled fetcher deferred data");let re={state:"idle",data:Z.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};f.fetchers.set(E,re),H({fetchers:new Map(f.fetchers)})}async function nt(E,R,O){E.revalidate&&(v=!0),F(R.location,"Expected a location on the redirect navigation"),g=null;let A=O===!0?ve.Replace:ve.Push;await P(A,R.location,{overrideNavigation:R})}async function Ee(E,R,O,A,z){let G=await Promise.all([...O.map(X=>Kr("loader",z,X,R,d.basename)),...A.map(X=>{let[,Z,re,Le]=X;return Kr("loader",Jr(Z,z.signal),re,Le,d.basename)})]),J=G.slice(0,O.length),q=G.slice(O.length);return await Promise.all([wf(E,O,J,z.signal,!1,f.loaderData),wf(E,A.map(X=>{let[,,Z]=X;return Z}),q,z.signal,!0)]),{results:G,loaderResults:J,fetcherResults:q}}function bt(){v=!0,m.push(...As()),M.forEach((E,R)=>{S.has(R)&&(y.push(R),On(R))})}function jr(E,R,O){let A=pr(f.matches,R);Ce(E),H({errors:{[A.route.id]:O},fetchers:new Map(f.fetchers)})}function Ce(E){S.has(E)&&On(E),M.delete(E),k.delete(E),x.delete(E),f.fetchers.delete(E)}function On(E){let R=S.get(E);F(R,"Expected fetch controller: "+E),R.abort(),S.delete(E)}function Hi(E){for(let R of E){let A={state:"idle",data:Q(R).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};f.fetchers.set(R,A)}}function Cg(){let E=[];for(let R of x){let O=f.fetchers.get(R);F(O,"Expected fetcher: "+R),O.state==="loading"&&(x.delete(R),E.push(R))}Hi(E)}function Zc(E){let R=[];for(let[O,A]of k)if(A<E){let z=f.fetchers.get(O);F(z,"Expected fetcher: "+O),z.state==="loading"&&(On(O),k.delete(O),R.push(O))}return Hi(R),R.length>0}function As(E){let R=[];return b.forEach((O,A)=>{(!E||E(A))&&(O.cancel(),R.push(A),b.delete(A))}),R}function kg(E,R,O){if(i=E,s=R,o=O||(A=>A.key),!l&&f.navigation===fa){l=!0;let A=eu(f.location,f.matches);A!=null&&H({restoreScrollPosition:A})}return()=>{i=null,s=null,o=null}}function _g(E,R){if(i&&o&&s){let O=R.map(z=>xf(z,f.loaderData)),A=o(E,O)||E.key;i[A]=s()}}function eu(E,R){if(i&&o&&s){let O=R.map(G=>xf(G,f.loaderData)),A=o(E,O)||E.key,z=i[A];if(typeof z=="number")return z}return null}return d={get basename(){return e.basename},get state(){return f},get routes(){return t},initialize:he,subscribe:ge,enableScrollRestoration:kg,navigate:tt,fetch:oe,revalidate:gt,createHref:E=>e.history.createHref(E),getFetcher:Q,deleteFetcher:Ce,dispose:Ne,_internalFetchControllers:S,_internalActiveDeferreds:b},d}const k0=new Set(["POST","PUT","PATCH","DELETE"]);[...k0];function yf(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Rt(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(t.formMethod!=null&&t.formMethod!=="get")return{path:r,submission:{formMethod:t.formMethod,formAction:Yp(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};let i=rn(r);try{let o=Jp(t.formData);n&&i.search&&qp(i.search)&&o.append("index",""),i.search="?"+o}catch{return{path:r,error:new Ir(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:Rt(i)}}function da(e,t){let{formMethod:n,formAction:r,formEncType:i,formData:o}=e.navigation;return{state:"loading",location:Hn(e.location,t.location),formMethod:n||void 0,formAction:r||void 0,formEncType:i||void 0,formData:o||void 0}}function _0(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Sf(e,t,n,r,i,o,s,l,a,c){let u=a?Object.values(a)[0]:l?Object.values(l)[0]:null,d=a?Object.keys(a)[0]:void 0,h=_0(t,d).filter((g,_)=>g.route.loader!=null&&(E0(e.loaderData,e.matches[_],g)||o.some(v=>v===g.route.id)||Cf(e.location,e.matches[_],n,r,g,i,u))),p=[];return c&&c.forEach((g,_)=>{let[v,m,y]=g;s.includes(_)?p.push([_,v,m,y]):i&&Cf(v,m,n,v,m,i,u)&&p.push([_,v,m,y])}),[h,p]}function E0(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function Kp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Cf(e,t,n,r,i,o,s){let l=Mi(e),a=t.params,c=Mi(r),u=i.params,d=Kp(t,i)||l.toString()===c.toString()||l.search!==c.search||o;if(i.route.shouldRevalidate){let f=i.route.shouldRevalidate(se({currentUrl:l,currentParams:a,nextUrl:c,nextParams:u},n,{actionResult:s,defaultShouldRevalidate:d}));if(typeof f=="boolean")return f}return d}async function Kr(e,t,n,r,i,o,s){o===void 0&&(o=!1),s===void 0&&(s=!1);let l,a,c,u=new Promise((f,h)=>c=h),d=()=>c();t.signal.addEventListener("abort",d);try{let f=n.route[e];F(f,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),a=await Promise.race([f({request:t,params:n.params}),u])}catch(f){l=we.error,a=f}finally{t.signal.removeEventListener("abort",d)}if(a instanceof Response){let f=a.status;if(f>=300&&f<=399){let g=a.headers.get("Location");F(g,"Redirects returned/thrown from loaders/actions must have a Location header");let _=r.slice(0,r.indexOf(n)+1),v=bs(_).map(S=>S.pathnameBase),m=Mi(t.url).pathname,y=Fc(g,v,m);if(F(Rt(y),"Unable to resolve redirect location: "+a.headers.get("Location")),i){let S=y.pathname;y.pathname=S==="/"?i:Qt([i,S])}if(g=Rt(y),o)throw a.headers.set("Location",g),a;return{type:we.redirect,status:f,location:g,revalidate:a.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||we.data,response:a};let h,p=a.headers.get("Content-Type");return p&&p.startsWith("application/json")?h=await a.json():h=await a.text(),l===we.error?{type:l,error:new Ir(f,a.statusText,h),headers:a.headers}:{type:we.data,data:h,statusCode:a.status,headers:a.headers}}return l===we.error?{type:l,error:a}:a instanceof p0?{type:we.deferred,deferredData:a}:{type:we.data,data:a}}function Jr(e,t,n){let r=Mi(Yp(e)).toString(),i={signal:t};if(n){let{formMethod:o,formEncType:s,formData:l}=n;i.method=o.toUpperCase(),i.body=s==="application/x-www-form-urlencoded"?Jp(l):l}return new Request(r,i)}function Jp(e){let t=new URLSearchParams;for(let[n,r]of e.entries())F(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function T0(e,t,n,r,i){let o={},s=null,l,a=!1,c={};return n.forEach((u,d)=>{let f=t[d].route.id;if(F(!_r(u),"Cannot handle redirect results in processLoaderData"),gi(u)){let h=pr(e,f),p=u.error;r&&(p=Object.values(r)[0],r=void 0),s=Object.assign(s||{},{[h.route.id]:p}),a||(a=!0,l=Gp(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else Fn(u)?(i&&i.set(f,u.deferredData),o[f]=u.deferredData.data):(o[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!a&&(l=u.statusCode),u.headers&&(c[f]=u.headers))}),r&&(s=r),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function kf(e,t,n,r,i,o,s,l){let{loaderData:a,errors:c}=T0(t,n,r,i,l);for(let u=0;u<o.length;u++){let[d,,f]=o[u];F(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let h=s[u];if(gi(h)){let p=pr(e.matches,f.route.id);c&&c[p.route.id]||(c=se({},c,{[p.route.id]:h.error})),e.fetchers.delete(d)}else{if(_r(h))throw new Error("Unhandled fetcher revalidation redirect");if(Fn(h))throw new Error("Unhandled fetcher deferred data");{let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(d,p)}}}return{loaderData:a,errors:c}}function ha(e,t,n){let r=se({},t);return n.forEach(i=>{let o=i.route.id;t[o]===void 0&&e[o]!==void 0&&(r[o]=e[o])}),r}function pr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function w0(e,t,n){let r=e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+t+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new Ir(t,n,null)}}function _f(e){return w0(e,404,"Not Found")}function Ef(e){let t=typeof e=="string"?e:Rt(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+t+"]")),{type:we.error,error:new Ir(405,"Method Not Allowed","")}}function Tf(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(_r(n))return n}}function Yp(e){let t=typeof e=="string"?rn(e):e;return Rt(se({},t,{hash:""}))}function x0(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Fn(e){return e.type===we.deferred}function gi(e){return e.type===we.error}function _r(e){return(e&&e.type)===we.redirect}async function wf(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=t[s],c=e.find(d=>d.route.id===a.route.id),u=c!=null&&!Kp(c,a)&&(o&&o[a.route.id])!==void 0;Fn(l)&&(i||u)&&await Qp(l,r,i).then(d=>{d&&(n[s]=d||n[s])})}}async function Qp(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(i){return{type:we.error,error:i}}return{type:we.data,data:e.deferredData.data}}}function qp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function xf(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Rf(e,t){let n=typeof t=="string"?rn(t).search:t.search;if(e[e.length-1].route.index&&qp(n||""))return e[e.length-1];let r=bs(e);return r[r.length-1]}var Ps={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0=B.exports,b0=Symbol.for("react.element"),P0=Symbol.for("react.fragment"),O0=Object.prototype.hasOwnProperty,D0=R0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N0={key:!0,ref:!0,__self:!0,__source:!0};function Xp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)O0.call(t,r)&&!N0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:b0,type:e,key:o,ref:s,props:i,_owner:D0.current}}Os.Fragment=P0;Os.jsx=Xp;Os.jsxs=Xp;(function(e){e.exports=Os})(Ps);const I0=Ps.exports.Fragment,$=Ps.exports.jsx,pn=Ps.exports.jsxs;/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ls.apply(this,arguments)}function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const M0=typeof Object.is=="function"?Object.is:L0,{useState:A0,useEffect:j0,useLayoutEffect:B0,useDebugValue:z0}=Ta;function F0(e,t,n){const r=t(),[{inst:i},o]=A0({inst:{value:r,getSnapshot:t}});return B0(()=>{i.value=r,i.getSnapshot=t,pa(i)&&o({inst:i})},[e,r,t]),j0(()=>(pa(i)&&o({inst:i}),e(()=>{pa(i)&&o({inst:i})})),[e]),z0(r),r}function pa(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!M0(n,r)}catch{return!0}}function U0(e,t,n){return t()}const $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V0=!$0,H0=V0?U0:F0,W0="useSyncExternalStore"in Ta?(e=>e.useSyncExternalStore)(Ta):H0,G0=B.exports.createContext(null),Zp=B.exports.createContext(null),Uc=B.exports.createContext(null),$c=B.exports.createContext(null),Ds=B.exports.createContext(null),Lr=B.exports.createContext({outlet:null,matches:[]}),em=B.exports.createContext(null);function K0(e,t){let{relative:n}=t===void 0?{}:t;$i()||F(!1);let{basename:r,navigator:i}=B.exports.useContext($c),{hash:o,pathname:s,search:l}=tm(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Qt([r,s])),i.createHref({pathname:a,search:l,hash:o})}function $i(){return B.exports.useContext(Ds)!=null}function Ns(){return $i()||F(!1),B.exports.useContext(Ds).location}function J0(){$i()||F(!1);let{basename:e,navigator:t}=B.exports.useContext($c),{matches:n}=B.exports.useContext(Lr),{pathname:r}=Ns(),i=JSON.stringify(bs(n).map(l=>l.pathnameBase)),o=B.exports.useRef(!1);return B.exports.useEffect(()=>{o.current=!0}),B.exports.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let c=Fc(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:Qt([e,c.pathname])),(a.replace?t.replace:t.push)(c,a.state,a)},[e,t,i,r])}const Y0=B.exports.createContext(null);function Q0(e){let t=B.exports.useContext(Lr).outlet;return t&&$(Y0.Provider,{value:e,children:t})}function tm(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=B.exports.useContext(Lr),{pathname:i}=Ns(),o=JSON.stringify(bs(r).map(s=>s.pathnameBase));return B.exports.useMemo(()=>Fc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function q0(e,t){$i()||F(!1);let n=B.exports.useContext(Uc),{matches:r}=B.exports.useContext(Lr),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let l=Ns(),a;if(t){var c;let p=typeof t=="string"?rn(t):t;s==="/"||((c=p.pathname)==null?void 0:c.startsWith(s))||F(!1),a=p}else a=l;let u=a.pathname||"/",d=s==="/"?u:u.slice(s.length)||"/",f=ni(e,{pathname:d}),h=tS(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:Qt([s,p.pathname]),pathnameBase:p.pathnameBase==="/"?s:Qt([s,p.pathnameBase])})),r,n||void 0);return t&&h?$(Ds.Provider,{value:{location:ls({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:ve.Pop},children:h}):h}function X0(){let e=rS(),t=Gp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return pn(I0,{children:[$("h2",{children:"Unhandled Thrown Error!"}),$("h3",{style:{fontStyle:"italic"},children:t}),n?$("pre",{style:i,children:n}):null,$("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),pn("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",$("code",{style:o,children:"errorElement"})," props on\xA0",$("code",{style:o,children:"<Route>"})]})]})}class Z0 extends B.exports.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?$(em.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function eS(e){let{routeContext:t,match:n,children:r}=e,i=B.exports.useContext(G0);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),$(Lr.Provider,{value:t,children:r})}function tS(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||F(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,l)=>{let a=s.route.id?i==null?void 0:i[s.route.id]:null,c=n?s.route.errorElement||$(X0,{}):null,u=()=>$(eS,{match:s,routeContext:{outlet:o,matches:t.concat(r.slice(0,l+1))},children:a?c:s.route.element!==void 0?s.route.element:o});return n&&(s.route.errorElement||l===0)?$(Z0,{location:n.location,component:c,error:a,children:u()}):u()},null)}var bf;(function(e){e.UseRevalidator="useRevalidator"})(bf||(bf={}));var yl;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(yl||(yl={}));function nS(e){let t=B.exports.useContext(Uc);return t||F(!1),t}function rS(){var e;let t=B.exports.useContext(em),n=nS(yl.UseRouteError),r=B.exports.useContext(Lr),i=r.matches[r.matches.length-1];return t||(r||F(!1),i.route.id||F(!1),(e=n.errors)==null?void 0:e[i.route.id])}function iS(e){let{fallbackElement:t,router:n}=e,r=W0(n.subscribe,()=>n.state,()=>n.state),i=B.exports.useMemo(()=>({createHref:n.createHref,go:s=>n.navigate(s),push:(s,l,a)=>n.navigate(s,{state:l,preventScrollReset:a==null?void 0:a.preventScrollReset}),replace:(s,l,a)=>n.navigate(s,{replace:!0,state:l,preventScrollReset:a==null?void 0:a.preventScrollReset})}),[n]),o=n.basename||"/";return $(Zp.Provider,{value:{router:n,navigator:i,static:!1,basename:o},children:$(Uc.Provider,{value:r,children:$(aS,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i,children:n.state.initialized?$(lS,{}):t})})})}function oS(e){return Q0(e.context)}function sS(e){F(!1)}function aS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ve.Pop,navigator:o,static:s=!1}=e;$i()&&F(!1);let l=t.replace(/^\/*/,"/"),a=B.exports.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=rn(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=B.exports.useMemo(()=>{let g=Wp(c,l);return g==null?null:{pathname:g,search:u,hash:d,state:f,key:h}},[l,c,u,d,f,h]);return p==null?null:$($c.Provider,{value:a,children:$(Ds.Provider,{children:n,value:{location:p,navigationType:i}})})}function lS(e){let{children:t,location:n}=e,r=B.exports.useContext(Zp),i=r&&!t?r.router.routes:Sl(t);return q0(i,n)}var Pf;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Pf||(Pf={}));new Promise(()=>{});function Sl(e,t){t===void 0&&(t=[]);let n=[];return B.exports.Children.forEach(e,(r,i)=>{if(!B.exports.isValidElement(r))return;if(r.type===B.exports.Fragment){n.push.apply(n,Sl(r.props.children,t));return}r.type!==sS&&F(!1),!r.props.index||!r.props.children||F(!1);let o=[...t,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=Sl(r.props.children,o)),n.push(s)}),n}function nm(e){return e.map(t=>{let n=ls({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=nm(n.children)),n})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fS(e,t){return e.button===0&&(!t||t==="_self")&&!uS(e)}const dS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function hS(e,t){var n;return C0({basename:t==null?void 0:t.basename,history:Wy({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||((n=window)==null?void 0:n.__staticRouterHydrationData),routes:nm(e)}).initialize()}const Of=B.exports.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:c,preventScrollReset:u}=t,d=cS(t,dS),f=K0(c,{relative:i}),h=pS(c,{replace:s,state:l,target:a,preventScrollReset:u,relative:i});function p(g){r&&r(g),g.defaultPrevented||h(g)}return $("a",{...d,href:f,onClick:o?r:p,ref:n,target:a})});var Df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Df||(Df={}));var Nf;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nf||(Nf={}));function pS(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,l=J0(),a=Ns(),c=tm(e,{relative:s});return B.exports.useCallback(u=>{if(fS(u,n)){u.preventDefault();let d=r!==void 0?r:Rt(a)===Rt(c);l(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[a,l,c,r,i,n,e,o,s])}function mS(e){return[0,e]}function gS(e,t,n){return[4,e,t,n]}function vS(e,t){return[5,e,t]}function yS(e,t){return[6,e,t]}function SS(){return[7]}function CS(e,t,n,r,i){return[8,e,t,n,r,i]}function kS(e,t,n){return[9,e,t,n]}function _S(e,t,n){return[10,e,t,n]}function ES(e){return[11,e]}function mr(e,t,n){return[12,e,t,n]}function If(e,t){return[13,e,t]}function TS(e,t){return[14,e,t]}function wS(e,t,n){return[16,e,t,n]}function xS(e,t){return[17,e,t]}function RS(e,t,n){return[18,e,t,n]}function Lf(e,t){return[19,e,t]}function bS(e,t){return[20,e,t]}function PS(e,t){return[22,e,t]}function OS(e,t,n,r,i,o,s,l,a){return[23,e,t,n,r,i,o,s,l,a]}function DS(e,t,n){return[24,e,t,n]}function Cl(e,t,n){return[25,e,t,n]}function NS(e,t){return[27,e,t]}function IS(e){return[28,e]}function LS(e){return[29,e]}function MS(e,t){return[30,e,t]}function AS(e,t,n,r){return[49,e,t,n,r]}function rm(e,t,n,r,i,o,s,l){return[53,e,t,n,r,i,o,s,l]}function jS(e,t){return[54,e,t]}function BS(e){return[55,e]}function kl(e,t,n,r){return[60,e,t,n,r]}function zS(e,t,n){return[61,e,t,n]}function im(e,t){return[63,e,t]}function FS(e,t){return[64,e,t]}function US(e,t,n,r){return[69,e,t,n,r]}function om(e,t){return[70,e,t]}function Mf(e,t,n){return[71,e,t,n]}function _l(e,t,n,r){return[73,e,t,n,r]}function Af(e,t){return[75,e,t]}function sm(e,t){return[76,e,t]}function $S(e,t){return[77,e,t]}const jf={htmlmasked:"hidden",masked:"obscured"},At=!(typeof window>"u"),VS=At&&navigator.userAgent.match(/firefox|fxios/i),HS=1e5,Bf=At&&(performance.timing.navigationStart||performance.timeOrigin),El=At&&performance.now()&&Bf?()=>Math.round(performance.now()+Bf):()=>Date.now(),ma="repeat"in String.prototype?e=>"*".repeat(e.length):e=>e.replace(/./g,"*");function am(e){return e.trim().replace(/\s+/g," ")}function lm(e){return e.startsWith("https://")||e.startsWith("http://")}const cs="https://docs.openreplay.com",zf={};function mn(e,t,n="/"){zf[e]||(console.warn(`OpenReplay: ${e} is deprecated. ${t?`Please, use ${t} instead.`:""} Visit ${cs}${n} for more information.`),zf[e]=!0)}function Vc(e){let t=e.getAttribute("data-openreplay-label");return t!==null||(t=e.getAttribute("data-asayer-label"),t!==null&&mn('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),t}function Un(e,t){const n=`data-openreplay-${t}`;return e.hasAttribute(n)?(jf[t]&&mn(`"${n}" attribute`,`"${jf[t]}" attribute`,"/installation/sanitize-data"),!0):!1}class WS{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachNodeListener(t,n,r){const i=this.getID(t);if(i===void 0)return;t.addEventListener(n,r);let o=this.elementListeners.get(i);o===void 0&&(o=[],this.elementListeners.set(i,o)),o.push([n,r])}registerNode(t){let n=t[this.node_id];const r=n===void 0;return r&&(n=this.nodes.length,this.nodes[n]=t,t[this.node_id]=n),[n,r]}unregisterNode(t){const n=t[this.node_id];if(n!==void 0){delete t[this.node_id],delete this.nodes[n];const r=this.elementListeners.get(n);r!==void 0&&(this.elementListeners.delete(n),r.forEach(i=>t.removeEventListener(i[0],i[1])))}return n}cleanTree(){for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t];n&&!document.contains(n)&&this.unregisterNode(n)}}callNodeCallbacks(t,n){this.nodeCallbacks.forEach(r=>r(t,n))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t];n!==void 0&&this.unregisterNode(n)}this.nodes.length=0}}function GS(e){return!!e&&e.nodeType!=null}function Tl(e){return e.namespaceURI==="http://www.w3.org/2000/svg"}function qt(e){return e.nodeType===Node.ELEMENT_NODE}function wl(e){return e.nodeType===Node.TEXT_NODE}function xl(e){return e.nodeType===Node.DOCUMENT_NODE}function Is(e){return e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Re(e,t){return e.nodeName===t}function Rl(e){if(wl(e))return!1;if(!qt(e))return!0;const t=e.tagName.toUpperCase();if(t==="LINK"){const n=e.getAttribute("rel"),r=e.getAttribute("as");return!((n==null?void 0:n.includes("stylesheet"))||r==="style"||r==="font")}return t==="SCRIPT"||t==="NOSCRIPT"||t==="META"||t==="TITLE"||t==="BASE"}function ga(e){return Is(e)?!0:!Rl(e)}var Dt;(function(e){e[e.New=0]="New",e[e.Removed=1]="Removed",e[e.Changed=2]="Changed"})(Dt||(Dt={}));class Hc{constructor(t,n=!1){this.app=t,this.isTopContext=n,this.commited=[],this.recents=new Map,this.indexes=[],this.attributesMap=new Map,this.textSet=new Set,this.observer=new MutationObserver(this.app.safe(r=>{for(const i of r){const o=i.target,s=i.type;if(!ga(o))continue;if(s==="childList"){for(let a=0;a<i.removedNodes.length;a++)ga(i.removedNodes[a])&&this.bindNode(i.removedNodes[a]);for(let a=0;a<i.addedNodes.length;a++)this.bindTree(i.addedNodes[a]);continue}const l=this.app.nodes.getID(o);if(l!==void 0){if(this.recents.has(l)||this.recents.set(l,Dt.Changed),s==="attributes"){const a=i.attributeName;if(a===null)continue;let c=this.attributesMap.get(l);c===void 0&&this.attributesMap.set(l,c=new Set),c.add(a);continue}if(s==="characterData"){this.textSet.add(l);continue}}}this.commitNodes()}))}clear(){this.commited.length=0,this.recents.clear(),this.indexes.length=1,this.attributesMap.clear(),this.textSet.clear()}sendNodeAttribute(t,n,r,i){if(Tl(n)){r.substr(0,6)==="xlink:"&&(r=r.substr(6)),i===null?this.app.send(If(t,r)):r==="href"?(i.length>1e5&&(i=""),this.app.send(kl(t,r,i,this.app.getBaseHref()))):this.app.send(mr(t,r,i));return}if(!(r==="src"||r==="srcset"||r==="integrity"||r==="crossorigin"||r==="autocomplete"||r.substr(0,2)==="on")&&!(r==="value"&&Re(n,"INPUT")&&n.type!=="button"&&n.type!=="reset"&&n.type!=="submit")){if(i===null){this.app.send(If(t,r));return}if(r==="style"||r==="href"&&Re(n,"LINK")){this.app.send(kl(t,r,i,this.app.getBaseHref()));return}(r==="href"||i.length>1e5)&&(i=""),this.app.send(mr(t,r,i))}}sendNodeData(t,n,r){if(Re(n,"STYLE")||Re(n,"style")){this.app.send(zS(t,r,this.app.getBaseHref()));return}r=this.app.sanitizer.sanitize(t,r),this.app.send(TS(t,r))}bindNode(t){const[n,r]=this.app.nodes.registerNode(t);r?this.recents.set(n,Dt.New):this.recents.get(n)!==Dt.New&&this.recents.set(n,Dt.Removed)}bindTree(t){if(!ga(t))return;this.bindNode(t);const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:r=>Rl(r)||this.app.nodes.getID(r)!==void 0?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;n.nextNode();)this.bindNode(n.currentNode)}unbindTree(t){const n=this.app.nodes.unregisterNode(t);if(n!==void 0&&this.recents.get(n)===Dt.Removed){this.app.send(ES(n));const r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:i=>Rl(i)||this.app.nodes.getID(i)===void 0?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;r.nextNode();)this.app.nodes.unregisterNode(r.currentNode)}}_commitNode(t,n){if(Is(n))return!0;const r=n.parentNode;let i;if(!Re(n,"HTML")||!this.isTopContext){if(r===null)return this.unbindTree(n),!1;if(i=this.app.nodes.getID(r),i===void 0)return this.unbindTree(n),!1;if(!this.commitNode(i))return this.unbindTree(n),!1;if(this.app.sanitizer.handleNode(t,i,n),this.app.sanitizer.isHidden(i))return!1}let o=n.previousSibling;for(;o!==null;){const u=this.app.nodes.getID(o);if(u!==void 0){this.commitNode(u),this.indexes[t]=this.indexes[u]+1;break}o=o.previousSibling}o===null&&(this.indexes[t]=0);const s=this.recents.get(t),l=s===Dt.New,a=this.indexes[t];if(a===void 0)throw"commitNode: missing node index";if(l){if(qt(n)){let u=n;if(i!==void 0){if(this.app.sanitizer.isHidden(t)){const d=u.clientWidth,f=u.clientHeight;u=n.cloneNode(),u.style.width=`${d}px`,u.style.height=`${f}px`}this.app.send(CS(t,i,a,u.tagName,Tl(n)))}for(let d=0;d<u.attributes.length;d++){const f=u.attributes[d];this.sendNodeAttribute(t,u,f.nodeName,f.value)}}else wl(n)&&(this.app.send(kS(t,i,a)),this.sendNodeData(t,r,n.data));return!0}s===Dt.Removed&&i!==void 0&&this.app.send(_S(t,i,a));const c=this.attributesMap.get(t);if(c!==void 0){if(!qt(n))throw"commitNode: node is not an element";for(const u of c)this.sendNodeAttribute(t,n,u,n.getAttribute(u))}if(this.textSet.has(t)){if(!wl(n))throw"commitNode: node is not a text";this.sendNodeData(t,r,n.data)}return!0}commitNode(t){const n=this.app.nodes.getNode(t);if(n===void 0)return!1;const r=this.commited[t];return r!==void 0?r:this.commited[t]=this._commitNode(t,n)}commitNodes(t=!1){let n;this.recents.forEach((r,i)=>{this.commitNode(i),r===Dt.New&&(n=this.app.nodes.getNode(i))&&this.app.nodes.callNodeCallbacks(n,t)}),this.clear()}observeRoot(t,n,r=t){this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(r),n(this.app.nodes.getID(t)),this.commitNodes(!0)}disconnect(){this.observer.disconnect(),this.clear()}}class KS extends Hc{observe(t){const n=t.contentDocument,r=this.app.nodes.getID(t);!n||r===void 0||this.observeRoot(n,i=>{if(i===void 0){console.log("OpenReplay: Iframe document not bound");return}this.app.send(om(r,i))})}}class JS extends Hc{observe(t){const n=t.shadowRoot,r=this.app.nodes.getID(t);!n||r===void 0||this.observeRoot(n,i=>{if(i===void 0){console.log("OpenReplay: Shadow Root was not bound");return}this.app.send(om(r,i))})}}class YS{constructor(){this.states=new Map}calcOffset(t){let n=0,r=0;if(t.parent&&([n,r]=this.calcOffset(t.parent)),!t.offset){const{left:s,top:l}=t.iFrame.getBoundingClientRect();t.offset=[s,l]}const[i,o]=t.offset;return[n+i,r+o]}getDocumentOffset(t){const n=this.states.get(t);return n?this.calcOffset(n):[0,0]}observe(t){var n;const r=t.contentDocument;if(!r)return;const i=t.ownerDocument,o=this.states.get(i),s={offset:null,iFrame:t,parent:o||null,clear:()=>{var a;i.removeEventListener("scroll",l),(a=i.defaultView)===null||a===void 0||a.removeEventListener("resize",l)}},l=()=>{s.offset=null};i.addEventListener("scroll",l),(n=i.defaultView)===null||n===void 0||n.addEventListener("resize",l),this.states.set(r,s)}clear(){this.states.forEach(t=>t.clear()),this.states.clear()}}const Ff=At?Element.prototype.attachShadow:()=>new ShadowRoot;class QS extends Hc{constructor(t,n){super(t,!0),this.iframeOffsets=new YS,this.contextCallbacks=[],this.contextsSet=new Set,this.iframeObservers=[],this.shadowRootObservers=[],this.options=Object.assign({captureIFrames:!0},n),this.app.nodes.attachNodeCallback(r=>{Re(r,"IFRAME")&&(this.options.captureIFrames&&!Un(r,"obscured")||Un(r,"capture"))&&this.handleIframe(r)}),this.app.nodes.attachNodeCallback(r=>{qt(r)&&r.shadowRoot!==null&&this.handleShadowRoot(r.shadowRoot)})}attachContextCallback(t){this.contextCallbacks.push(t)}getDocumentOffset(t){return this.iframeOffsets.getDocumentOffset(t)}handleIframe(t){let n=null;const r=this.app.safe(()=>setTimeout(()=>{if(this.app.nodes.getID(t)===void 0)return;const o=t.contentWindow,s=t.contentDocument;if(s&&s!==n){const l=new KS(this.app);this.iframeObservers.push(l),l.observe(t),n=s,this.iframeOffsets.observe(t)}o&&o===o.window&&!this.contextsSet.has(o)&&(this.contextsSet.add(o),this.contextCallbacks.forEach(l=>l(o)))},0));t.addEventListener("load",r),r()}handleShadowRoot(t){const n=new JS(this.app);this.shadowRootObservers.push(n),n.observe(t.host)}observe(){const t=this;Element.prototype.attachShadow=function(){const n=Ff.apply(this,arguments);return t.handleShadowRoot(n),n},this.observeRoot(window.document,()=>{this.app.send(SS())},window.document.documentElement)}disconnect(){this.iframeOffsets.clear(),Element.prototype.attachShadow=Ff,this.iframeObservers.forEach(t=>t.disconnect()),this.iframeObservers=[],this.shadowRootObservers.forEach(t=>t.disconnect()),this.shadowRootObservers=[],super.disconnect()}}var us;(function(e){e[e.Plain=0]="Plain",e[e.Obscured=1]="Obscured",e[e.Hidden=2]="Hidden"})(us||(us={}));class qS{constructor(t,n){this.app=t,this.obscured=new Set,this.hidden=new Set,this.options=Object.assign({obscureTextEmails:!0,obscureTextNumbers:!1},n)}handleNode(t,n,r){if((this.obscured.has(n)||qt(r)&&(Un(r,"masked")||Un(r,"obscured")))&&this.obscured.add(t),(this.hidden.has(n)||qt(r)&&(Un(r,"htmlmasked")||Un(r,"hidden")))&&this.hidden.add(t),this.options.domSanitizer!==void 0&&qt(r)){const i=this.options.domSanitizer(r);i===us.Obscured&&this.obscured.add(t),i===us.Hidden&&this.hidden.add(t)}}sanitize(t,n){return this.obscured.has(t)?n.trim().replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"\u2588"):(this.options.obscureTextNumbers&&(n=n.replace(/\d/g,"0")),this.options.obscureTextEmails&&(n=n.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,(...r)=>ma(r[1])+"@"+ma(r[2])+"."+ma(r[3]))),n)}isObscured(t){return this.obscured.has(t)}isHidden(t){return this.hidden.has(t)}getInnerTextSecure(t){const n=this.app.nodes.getID(t);return n?this.sanitize(n,t.innerText):""}clear(){this.obscured.clear(),this.hidden.clear()}}function XS(e,t){let n=0;return()=>{n++>=t&&(n=0,e())}}class ZS{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,n=0,r=!0,i){i&&(t=t.bind(i)),r&&(t=this.app.safe(t)),this.callbacks.unshift(n?XS(t,n):t)-1}start(){this.timer===null&&(this.timer=setInterval(()=>this.callbacks.forEach(t=>{t&&t()}),30))}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}}const An={Verbose:5,Log:4,Warnings:3,Errors:2,Silent:0};function va(e){return typeof e=="object"}class Uf{constructor(t=An.Silent){this.options=t===!0?{level:An.Verbose}:typeof t=="number"?{level:t}:t}log(...t){(va(this.options.level)?this.options.level.log:this.options.level>=An.Log)&&console.log(...t)}warn(...t){(va(this.options.level)?this.options.level.warn:this.options.level>=An.Warnings)&&console.warn(...t)}error(...t){(va(this.options.level)?this.options.level.error:this.options.level>=An.Errors)&&console.error(...t)}}class e1{constructor(t,n){this.app=t,this.options=n,this.metadata={},this.userID=null,this.callbacks=[],this.timestamp=0}attachUpdateCallback(t){this.callbacks.push(t)}handleUpdate(t){t.userID==null&&delete t.userID,t.sessionID==null&&delete t.sessionID,this.callbacks.forEach(n=>n(t))}update(t){t.userID!==void 0&&(this.userID=t.userID),t.metadata!==void 0&&Object.entries(t.metadata).forEach(([n,r])=>this.metadata[n]=r),t.sessionID!==void 0&&(this.sessionID=t.sessionID),t.timestamp!==void 0&&(this.timestamp=t.timestamp),t.projectID!==void 0&&(this.projectID=t.projectID),this.handleUpdate(t)}setMetadata(t,n){this.metadata[t]=n,this.handleUpdate({metadata:{[t]:n}})}setUserID(t){this.userID=t,this.handleUpdate({userID:t})}getPageNumber(){const t=this.app.sessionStorage.getItem(this.options.session_pageno_key);if(t!=null)return parseInt(t)}incPageNo(){let t=this.getPageNumber();return t===void 0?t=0:t++,this.app.sessionStorage.setItem(this.options.session_pageno_key,t.toString()),t}getSessionToken(){return this.app.sessionStorage.getItem(this.options.session_token_key)||void 0}setSessionToken(t){this.app.sessionStorage.setItem(this.options.session_token_key,t)}applySessionHash(t){const n=decodeURI(t).split("&");let r=t,i="100500";n.length==2&&([i,r]=n),!(!i||!r)&&(this.app.sessionStorage.setItem(this.options.session_token_key,r),this.app.sessionStorage.setItem(this.options.session_pageno_key,i))}getSessionHash(){const t=this.getPageNumber(),n=this.getSessionToken();if(!(t===void 0||n===void 0))return encodeURI(String(t)+"&"+n)}getInfo(){return{sessionID:this.sessionID,metadata:this.metadata,userID:this.userID,timestamp:this.timestamp,projectID:this.projectID}}reset(){this.app.sessionStorage.removeItem(this.options.session_token_key),this.metadata={},this.userID=null,this.sessionID=void 0,this.timestamp=0}}const bl=At&&"performance"in window&&"memory"in performance?performance:{memory:{}},t1=At?(navigator.deviceMemory||0)*1024:0,n1=bl.memory.jsHeapSizeLimit||0;function r1(e,t){if(!Object.assign({capturePerformance:!0},t).capturePerformance)return;let r,i;const o=()=>{r===void 0||r===-1||(r++,requestAnimationFrame(o))};e.ticker.attach(()=>{i===void 0||i===-1||i++},0,!1);const s=()=>{r===void 0||i===void 0||(e.send(AS(r,i,bl.memory.totalJSHeapSize||0,bl.memory.usedJSHeapSize||0)),i=r=document.hidden?-1:0)};e.attachStartCallback(()=>{i=r=-1,s(),o()}),e.attachStopCallback(()=>{i=r=void 0}),e.ticker.attach(s,40,!1),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",s,!1,!1)}const co="canceled",i1=":(",uo=e=>({reason:e,success:!1}),o1=e=>Object.assign(Object.assign({},e),{success:!0});var ct;(function(e){e[e.NotActive=0]="NotActive",e[e.Starting=1]="Starting",e[e.Active=2]="Active"})(ct||(ct={}));const Pl="https://api.openreplay.com/ingest";class s1{constructor(t,n,r){this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this.activityState=ct.NotActive,this.version="4.1.5",this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",session_reset_key:"__openreplay_reset",local_uuid_key:"__openreplay_uuid",ingestPoint:Pl,resourceBaseHref:null,verbose:!1,__is_snippet:!1,__debug_report_edp:null,localStorage:window==null?void 0:window.localStorage,sessionStorage:window==null?void 0:window.sessionStorage},r),this.revID=this.options.revID,this.sanitizer=new qS(this,r),this.nodes=new WS(this.options.node_id),this.observer=new QS(this,r),this.ticker=new ZS(this),this.ticker.attach(()=>this.commit()),this.debug=new Uf(this.options.__debug__),this.notify=new Uf(this.options.verbose?An.Warnings:An.Silent),this.localStorage=this.options.localStorage||window.localStorage,this.sessionStorage=this.options.sessionStorage||window.sessionStorage,this.session=new e1(this,this.options),this.session.attachUpdateCallback(({userID:i,metadata:o})=>{i!=null&&this.send(IS(i)),o!=null&&Object.entries(o).forEach(([s,l])=>this.send(MS(s,l)))}),n!=null&&this.session.applySessionHash(n);try{this.worker=new Worker(URL.createObjectURL(new Blob(['"use strict";class t{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+"/v1/web/i"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:"POST",headers:{Authorization:"Bearer "+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn("OpenReplay:",i),this.retry(t)})}clean(){this.queue.length=0}}const i="function"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(let n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(r=t.charCodeAt(h),!(r>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(n=1024*(n-55296)+r-56320+65536,h+=1,n>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class s extends class{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}getCurrentOffset(){return this.offset}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}skip(t){return this.offset+=t,this.offset<=this.size}set(t,i){this.data.set(t,i)}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const s=i.encode(t),e=s.byteLength;return!(!this.uint(e)||this.offset+e>this.size)&&(this.data.set(s,this.offset),this.offset+=e,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}{encode(t){switch(t[0]){case 81:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.int(t[4])&&this.string(t[5]);case 82:return this.uint(t[1])&&this.uint(t[2]);case 0:return this.uint(t[1]);case 4:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 5:return this.uint(t[1])&&this.uint(t[2]);case 6:return this.int(t[1])&&this.int(t[2]);case 7:return!0;case 8:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.string(t[4])&&this.boolean(t[5]);case 9:case 10:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 11:return this.uint(t[1]);case 12:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 13:case 14:return this.uint(t[1])&&this.string(t[2]);case 16:return this.uint(t[1])&&this.int(t[2])&&this.int(t[3]);case 17:return this.uint(t[1])&&this.string(t[2]);case 18:return this.uint(t[1])&&this.string(t[2])&&this.int(t[3]);case 19:return this.uint(t[1])&&this.boolean(t[2]);case 20:return this.uint(t[1])&&this.uint(t[2]);case 22:return this.string(t[1])&&this.string(t[2]);case 23:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7])&&this.uint(t[8])&&this.uint(t[9]);case 24:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 25:return this.string(t[1])&&this.string(t[2])&&this.string(t[3]);case 27:return this.string(t[1])&&this.string(t[2]);case 28:case 29:return this.string(t[1]);case 30:return this.string(t[1])&&this.string(t[2]);case 37:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3]);case 38:return this.uint(t[1])&&this.uint(t[2]);case 39:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7]);case 40:return this.string(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 41:return this.string(t[1])&&this.string(t[2]);case 42:return this.string(t[1]);case 44:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 45:case 46:return this.string(t[1])&&this.string(t[2]);case 47:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 48:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 49:return this.int(t[1])&&this.int(t[2])&&this.uint(t[3])&&this.uint(t[4]);case 53:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.string(t[7])&&this.string(t[8]);case 54:return this.uint(t[1])&&this.string(t[2]);case 55:return this.boolean(t[1]);case 59:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.string(t[5])&&this.string(t[6])&&this.string(t[7]);case 60:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 61:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 63:case 64:return this.string(t[1])&&this.string(t[2]);case 67:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 69:return this.uint(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 70:return this.uint(t[1])&&this.uint(t[2]);case 71:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 73:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 75:case 76:case 77:return this.uint(t[1])&&this.uint(t[2]);case 79:return this.string(t[1])&&this.string(t[2])}}}class e{constructor(t,i,e,n){this.pageNo=t,this.timestamp=i,this.url=e,this.onBatch=n,this.nextIndex=0,this.beaconSize=2e5,this.encoder=new s(this.beaconSize),this.sizeBuffer=new Uint8Array(3),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}writeType(t){return this.encoder.uint(t[0])}writeFields(t){return this.encoder.encode(t)}writeSizeAt(t,i){for(let i=0;i<3;i++)this.sizeBuffer[i]=t>>8*i;this.encoder.set(this.sizeBuffer,i)}prepare(){if(!this.encoder.isEmpty())return;const t=[81,1,this.pageNo,this.nextIndex,this.timestamp,this.url];this.writeType(t),this.writeFields(t),this.isEmpty=!0}writeWithSize(t){const i=this.encoder;if(!this.writeType(t)||!i.skip(3))return!1;const s=i.getCurrentOffset(),e=this.writeFields(t);if(e){const e=i.getCurrentOffset()-s;if(e>16777215)return console.warn("OpenReplay: max message size overflow."),!1;this.writeSizeAt(e,s-3),i.checkpoint(),this.isEmpty=this.isEmpty&&0===t[0],this.nextIndex++}return e}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){if(0===t[0]&&(this.timestamp=t[1]),4===t[0]&&(this.url=t[1]),!this.writeWithSize(t))for(this.finaliseBatch();!this.writeWithSize(t);){if(this.beaconSize===this.beaconSizeLimit)return console.warn("OpenReplay: beacon size overflow. Skipping large message.",t,this),this.encoder.reset(),void this.prepare();this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.encoder=new s(this.beaconSize),this.prepare()}}finaliseBatch(){this.isEmpty||(this.onBatch(this.encoder.flush()),this.prepare())}clean(){this.encoder.reset()}}var n;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Stopping=2]="Stopping",t[t.Active=3]="Active"}(n||(n={}));let r=null,h=null;function u(){h&&h.finaliseBatch()}function a(){n.Stopping,null!==f&&(clearInterval(f),f=null),h&&(h.clean(),h=null),r&&(r.clean(),r=null),n.NotActive}function o(){self.postMessage("restart"),a()}n.NotActive;let c,f=null;self.onmessage=({data:i})=>{if(null!=i){if("stop"===i)return u(),void a();if(Array.isArray(i)){if(!h)throw new Error("WebWorker: writer not initialised. Service Should be Started.");const t=h;i.forEach(i=>{55===i[0]&&(i[1]?c=setTimeout(()=>o(),18e5):clearTimeout(c)),t.writeMessage(i)})}else{if("start"===i.type)return n.Starting,r=new t(i.ingestPoint,()=>{o()},()=>{self.postMessage("failed"),a()},i.connAttemptCount,i.connAttemptGap),h=new e(i.pageNo,i.timestamp,i.url,t=>r&&r.push(t)),null===f&&(f=setInterval(u,1e4)),n.Active;if("auth"===i.type){if(!r)throw new Error("WebWorker: sender not initialised. Received auth.");if(!h)throw new Error("WebWorker: writer not initialised. Received auth.");return r.authorise(i.token),void(i.beaconSizeLimit&&h.setBeaconSizeLimit(i.beaconSizeLimit))}}}else u()};'],{type:"text/javascript"}))),this.worker.onerror=o=>{this._debug("webworker_error",o)},this.worker.onmessage=({data:o})=>{o==="failed"?(this.stop(!1),this._debug("worker_failed",{})):o==="restart"&&(this.stop(!1),this.start({forceNew:!0}))};const i=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",i,!1),this.attachEventListener(document.body,"mouseleave",i,!1,!1),this.attachEventListener(document,"visibilitychange",i,!1)}catch(i){this._debug("worker_start",i)}}_debug(t,n){this.options.__debug_report_edp!==null&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:`${n}`})}),this.debug.error("OpenReplay error: ",t,n)}send(t,n=!1){this.activityState!==ct.NotActive&&(this.messages.push(t),this.activityState===ct.Active&&n&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift(mS(El())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach(t=>t(this.messages)),this.messages.length=0)}safe(t){const n=this;return function(...r){try{t.apply(this,r)}catch(i){n._debug("safe_fn_call",i)}}}attachCommitCallback(t){this.commitCallbacks.push(t)}attachStartCallback(t,n=!1){n&&(t=this.safe(t)),this.startCallbacks.push(t)}attachStopCallback(t,n=!1){n&&(t=this.safe(t)),this.stopCallbacks.push(t)}attachEventListener(t,n,r,i=!0,o=!0){i&&(r=this.safe(r)),this.attachStartCallback(()=>t.addEventListener(n,r,o),i),this.attachStopCallback(()=>t.removeEventListener(n,r,o),i)}checkRequiredVersion(t){const n=t.split(/[.-]/),r=this.version.split(/[.-]/);for(let i=0;i<3;i++){if(isNaN(Number(r[i]))||isNaN(Number(n[i])))return!1;if(Number(r[i])>Number(n[i]))return!0;if(Number(r[i])<Number(n[i]))return!1}return!0}getTrackerInfo(){return{userUUID:this.localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,trackerVersion:this.version,isSnippet:this.options.__is_snippet}}getSessionInfo(){return Object.assign(Object.assign({},this.session.getInfo()),this.getTrackerInfo())}getSessionToken(){return this.session.getSessionToken()}getSessionID(){return this.session.getInfo().sessionID||void 0}getSessionURL(){const{projectID:t,sessionID:n}=this.session.getInfo();if(!t||!n){this.debug.error("OpenReplay error: Unable to build session URL");return}const r=this.options.ingestPoint;return(r===Pl?r.replace("api","app"):r).replace(/ingest$/,`${t}/session/${n}`)}getHost(){return new URL(this.options.ingestPoint).host}getProjectKey(){return this.projectKey}getBaseHref(){var t,n;return typeof this.options.resourceBaseHref=="string"?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:((n=(t=document.head)===null||t===void 0?void 0:t.getElementsByTagName("base")[0])===null||n===void 0?void 0:n.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){const n=new URL(this.getBaseHref());return n.pathname+="/"+new URL(t).pathname,n.pathname.replace(/\/+/g,"/"),n.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.activityState===ct.Active}resetNextPageSession(t){t?this.sessionStorage.setItem(this.options.session_reset_key,"t"):this.sessionStorage.removeItem(this.options.session_reset_key)}_start(t){if(!this.worker)return Promise.resolve(uo("No worker found: perhaps, CSP is not set."));if(this.activityState!==ct.NotActive)return Promise.resolve(uo("OpenReplay: trying to call `start()` on the instance that has been started already."));this.activityState=ct.Starting,t.sessionHash&&this.session.applySessionHash(t.sessionHash);const n=El(),r={type:"start",pageNo:this.session.incPageNo(),ingestPoint:this.options.ingestPoint,timestamp:n,url:document.URL,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap};this.worker.postMessage(r),this.session.update({metadata:t.metadata||this.session.getInfo().metadata,userID:t.userID});const i=this.sessionStorage.getItem(this.options.session_reset_key);this.sessionStorage.removeItem(this.options.session_reset_key);const o=t.forceNew||i!==null;return window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},this.getTrackerInfo()),{timestamp:n,userID:this.session.getInfo().userID,token:o?void 0:this.session.getSessionToken(),deviceMemory:t1,jsHeapSizeLimit:n1}))}).then(s=>s.status===200?s.json():s.text().then(l=>l===co?Promise.reject(co):Promise.reject(`Server error: ${s.status}. ${l}`))).then(s=>{if(!this.worker)return Promise.reject("no worker found after start request (this might not happen)");if(this.activityState===ct.NotActive)return Promise.reject("Tracker stopped during authorisation");const{token:l,userUUID:a,sessionID:c,projectID:u,beaconSizeLimit:d,startTimestamp:f}=s;if(typeof l!="string"||typeof a!="string"||typeof d!="number"&&typeof d<"u")return Promise.reject(`Incorrect server response: ${JSON.stringify(s)}`);const h=this.session.getInfo().sessionID;h&&h!==c&&this.session.reset(),this.session.setSessionToken(l),this.session.update({sessionID:c,timestamp:f||n,projectID:u}),this.localStorage.setItem(this.options.local_uuid_key,a);const p={type:"auth",token:l,beaconSizeLimit:d};this.worker.postMessage(p);const g={sessionToken:l,userUUID:a,sessionID:c};return this.startCallbacks.forEach(_=>_(g)),this.observer.observe(),this.ticker.start(),this.activityState=ct.Active,this.notify.log("OpenReplay tracking started."),typeof this.options.onStart=="function"&&this.options.onStart(g),o1(g)}).catch(s=>(this.stop(),this.session.reset(),s===co?uo(co):(this.notify.log("OpenReplay was unable to start. ",s),this._debug("session_start",s),uo(i1))))}start(t={}){return document.hidden?new Promise(n=>{const r=()=>{document.hidden||(document.removeEventListener("visibilitychange",r),n(this._start(t)))};document.addEventListener("visibilitychange",r)}):this._start(t)}stop(t=!0){if(this.activityState!==ct.NotActive)try{this.sanitizer.clear(),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach(n=>n()),this.notify.log("OpenReplay tracking stopped."),this.worker&&t&&this.worker.postMessage("stop")}finally{this.activityState=ct.NotActive}}restart(){this.stop(!1),this.start({forceNew:!1})}}function a1(e){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t===void 0)return;const n=()=>e.send(jS(Math.round(t.downlink*1e3),t.type||"unknown"));n(),t.addEventListener("change",n)}const cm=At&&"InstallTrigger"in window?e=>e.message+`
`+e.stack:e=>e.stack||e.message;function Ol(e){return e===void 0?"undefined":e===null?"null":e instanceof Error?cm(e):Array.isArray(e)?`Array(${e.length})`:String(e)}function l1(e){return typeof e!="number"?"NaN":e.toString()}function c1(e){return typeof e!="number"?"NaN":Math.floor(e).toString()}function $f(e){if(e===void 0)return"undefined";if(e===null)return"null";if(e instanceof Error)return cm(e);if(Array.isArray(e)){const t=e.length,n=e.slice(0,10).map(Ol).join(", ");return`Array(${t})[${n}]`}if(typeof e=="object"){const t=[];let n=0;for(const r in e){if(++n===10)break;const i=e[r];t.push(r+": "+Ol(i))}return"{"+t.join(", ")+"}"}return e.toString()}function u1(e){return typeof e[0]=="string"&&e.unshift(e.shift().replace(/%(o|s|f|d|i)/g,(t,n)=>{const r=e.shift();if(r===void 0)return t;switch(n){case"o":return $f(r);case"s":return Ol(r);case"f":return l1(r);case"d":case"i":return c1(r);default:return t}})),e.map($f).join(" ")}const Vf=["log","info","warn","error","debug","assert"];function f1(e,t){const n=Object.assign({consoleMethods:Vf,consoleThrottling:30},t);if(!Array.isArray(n.consoleMethods)||n.consoleMethods.length===0)return;const r=e.safe((a,c)=>e.send(PS(a,u1(c))));let i;const o=()=>{i=0};e.attachStartCallback(o),e.ticker.attach(o,33,!1);const s=a=>n.consoleMethods.forEach(c=>{if(Vf.indexOf(c)===-1){e.debug.error(`OpenReplay: unsupported console method "${c}"`);return}const u=a[c];a[c]=function(...d){u.apply(this,d),!(i++>n.consoleThrottling)&&r(c,d)}}),l=e.safe(a=>s(a.console));l(window),e.observer.attachContextCallback(l)}var um={exports:{}},ya={exports:{}},Hf;function d1(){return Hf||(Hf=1,function(e,t){(function(n,r){e.exports=r()})(Nd,function(){function n(g){return!isNaN(parseFloat(g))&&isFinite(g)}function r(g){return g.charAt(0).toUpperCase()+g.substring(1)}function i(g){return function(){return this[g]}}var o=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],l=["fileName","functionName","source"],a=["args"],c=["evalOrigin"],u=o.concat(s,l,a,c);function d(g){if(!!g)for(var _=0;_<u.length;_++)g[u[_]]!==void 0&&this["set"+r(u[_])](g[u[_]])}d.prototype={getArgs:function(){return this.args},setArgs:function(g){if(Object.prototype.toString.call(g)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=g},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(g){if(g instanceof d)this.evalOrigin=g;else if(g instanceof Object)this.evalOrigin=new d(g);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var g=this.getFileName()||"",_=this.getLineNumber()||"",v=this.getColumnNumber()||"",m=this.getFunctionName()||"";return this.getIsEval()?g?"[eval] ("+g+":"+_+":"+v+")":"[eval]:"+_+":"+v:m?m+" ("+g+":"+_+":"+v+")":g+":"+_+":"+v}},d.fromString=function(_){var v=_.indexOf("("),m=_.lastIndexOf(")"),y=_.substring(0,v),S=_.substring(v+1,m).split(","),T=_.substring(m+1);if(T.indexOf("@")===0)var C=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(T,""),k=C[1],x=C[2],M=C[3];return new d({functionName:y,args:S||void 0,fileName:k,lineNumber:x||void 0,columnNumber:M||void 0})};for(var f=0;f<o.length;f++)d.prototype["get"+r(o[f])]=i(o[f]),d.prototype["set"+r(o[f])]=function(g){return function(_){this[g]=Boolean(_)}}(o[f]);for(var h=0;h<s.length;h++)d.prototype["get"+r(s[h])]=i(s[h]),d.prototype["set"+r(s[h])]=function(g){return function(_){if(!n(_))throw new TypeError(g+" must be a Number");this[g]=Number(_)}}(s[h]);for(var p=0;p<l.length;p++)d.prototype["get"+r(l[p])]=i(l[p]),d.prototype["set"+r(l[p])]=function(g){return function(_){this[g]=String(_)}}(l[p]);return d})}(ya)),ya.exports}(function(e,t){(function(n,r){e.exports=r(d1())})(Nd,function(r){var i=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(a){if(typeof a.stacktrace<"u"||typeof a["opera#sourceloc"]<"u")return this.parseOpera(a);if(a.stack&&a.stack.match(o))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=c.exec(a.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(o)},this);return c.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var d=u.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),f=d.match(/ (\(.+\)$)/);d=f?d.replace(f[0],""):d;var h=this.extractLocation(f?f[1]:d),p=f&&d||void 0,g=["eval","<anonymous>"].indexOf(h[0])>-1?void 0:h[0];return new r({functionName:p,fileName:g,lineNumber:h[1],columnNumber:h[2],source:u})},this)},parseFFOrSafari:function(a){var c=a.stack.split(`
`).filter(function(u){return!u.match(s)},this);return c.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new r({functionName:u});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=u.match(d),h=f&&f[1]?f[1]:void 0,p=this.extractLocation(u.replace(d,""));return new r({functionName:h,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:u})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf(`
`)>-1&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,u=a.message.split(`
`),d=[],f=2,h=u.length;f<h;f+=2){var p=c.exec(u[f]);p&&d.push(new r({fileName:p[2],lineNumber:p[1],source:u[f]}))}return d},parseOpera10:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=a.stacktrace.split(`
`),d=[],f=0,h=u.length;f<h;f+=2){var p=c.exec(u[f]);p&&d.push(new r({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:u[f]}))}return d},parseOpera11:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(i)&&!u.match(/^Error created at/)},this);return c.map(function(u){var d=u.split("@"),f=this.extractLocation(d.pop()),h=d.shift()||"",p=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,g;h.match(/\(([^)]*)\)/)&&(g=h.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var _=g===void 0||g==="[arguments not available]"?void 0:g.split(",");return new r({functionName:p,args:_,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:u})},this)}}})})(um);const h1=um.exports;function Wf(e){return[{columnNumber:e.colno,lineNumber:e.lineno,fileName:e.filename,functionName:"",source:""}]}function Dl(e,t){let n=t;try{n=h1.parse(e)}catch{}return Cl(e.name,e.message,JSON.stringify(n))}function fm(e,t=window){if(e instanceof ErrorEvent){if(e.error instanceof Error)return Dl(e.error,Wf(e));{let[n,r]=e.message.split(":");return r||(n="Error",r=e.message),Cl(n,r,JSON.stringify(Wf(e)))}}else if("PromiseRejectionEvent"in t&&e instanceof t.PromiseRejectionEvent){if(e.reason instanceof Error)return Dl(e.reason,[]);{let n;try{n=JSON.stringify(e.reason)}catch{n=String(e.reason)}return Cl("Unhandled Promise Rejection",n,"[]")}}return null}function p1(e,t){const n=Object.assign({captureExceptions:!0},t);function r(i){function o(s){const l=fm(s,i);l!=null&&e.send(l)}e.attachEventListener(i,"unhandledrejection",o),e.attachEventListener(i,"error",o)}n.captureExceptions&&(e.observer.attachContextCallback(r),r(window))}function Gf(e,t=document.location){return e=e.trim(),e.startsWith("/")?t.origin+e:e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")?e:t.origin+t.pathname+e}function m1(e){return VS&&(e.startsWith("data:image/svg+xml")||e.match(/.svg$|/i))}const g1="https://static.openreplay.com/tracker/placeholder.jpeg";function v1(e){function t(l,a){e.send(mr(l,"src",g1));const{width:c,height:u}=a.getBoundingClientRect();a.hasAttribute("width")||e.send(mr(l,"width",String(c))),a.hasAttribute("height")||e.send(mr(l,"height",String(u)))}const n=function(l,a){const{srcset:c}=a;if(!c)return;const u=c.split(",").map(d=>Gf(d)).join(",");e.send(mr(l,"srcset",u))},r=function(l,a){a.src.length>HS&&t(l,a),e.send(kl(l,"src",a.src,e.getBaseHref()))},i=e.safe(function(l){const a=Gf(l.src||"");lm(a)&&e.send(rm(El(),0,0,0,0,0,a,"img"))}),o=e.safe(function(l){const a=e.nodes.getID(l);a!==void 0&&(!l.complete||(l.naturalHeight===0&&l.naturalWidth===0&&!m1(l.src)?i(l):e.sanitizer.isHidden(a)||e.sanitizer.isObscured(a)?t(a,l):(r(a,l),n(a,l))))}),s=new MutationObserver(l=>{for(const a of l)if(a.type==="attributes"){const c=a.target,u=e.nodes.getID(c);if(u===void 0)return;a.attributeName==="src"&&r(u,c),a.attributeName==="srcset"&&n(u,c)}});e.attachStopCallback(()=>{s.disconnect()}),e.nodes.attachNodeCallback(l=>{!Re(l,"IMG")||(e.nodes.attachNodeListener(l,"error",()=>i(l)),e.nodes.attachNodeListener(l,"load",()=>o(l)),o(l),s.observe(l,{attributes:!0,attributeFilter:["src","srcset"]}))})}const y1=["text","password","email","search","number","range","date"];function Kf(e){return Re(e,"TEXTAREA")?!0:Re(e,"INPUT")?y1.includes(e.type):!1}function Jf(e){if(!Re(e,"INPUT"))return!1;const t=e.type;return t==="checkbox"||t==="radio"}const S1=At&&"labels"in HTMLInputElement.prototype?e=>{let t=e;for(;(t=t.parentNode)!==null;)if(Re(t,"LABEL"))return t;const n=e.labels;if(n!==null&&n.length===1)return n[0]}:e=>{let t=e;for(;(t=t.parentNode)!==null;)if(Re(t,"LABEL"))return t;const n=e.id;if(n){const r=e.ownerDocument.querySelectorAll('label[for="'+n+'"]');if(r!==null&&r.length===1)return r[0]}};function dm(e){let t=Vc(e);if(t===null){const n=S1(e);t=n&&n.innerText||e.placeholder||e.name||e.id||e.className||e.type}return am(t).slice(0,100)}function C1(e,t){const n=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0,obscureInputDates:!1},t);function r(a,c){const u=dm(c);u!==""&&e.send(xS(a,u))}function i(a,c){let u=c.value,d=n.defaultInputMode;c.type==="password"||e.sanitizer.isHidden(a)?d=2:(e.sanitizer.isObscured(a)||d===0&&(n.obscureInputNumbers&&c.type!=="date"&&/\d\d\d\d/.test(u)||n.obscureInputDates&&c.type==="date"||n.obscureInputEmails&&(c.type==="email"||!!~u.indexOf("@"))))&&(d=1);let f=0;switch(d){case 2:f=-1,u="";break;case 1:f=u.length,u="";break}e.send(RS(a,u,f))}const o=new Map,s=new Map,l=new Set;e.attachStopCallback(()=>{o.clear(),s.clear(),l.clear()}),e.ticker.attach(()=>{o.forEach((a,c)=>{const u=e.nodes.getNode(c);if(!!u){if(!Kf(u)){o.delete(c);return}a!==u.value&&(o.set(c,u.value),l.has(c)||(l.add(c),r(c,u)),i(c,u))}}),s.forEach((a,c)=>{const u=e.nodes.getNode(c);if(!!u){if(!Jf(u)){s.delete(c);return}a!==u.checked&&(s.set(c,u.checked),e.send(Lf(c,u.checked)))}})}),e.ticker.attach(Set.prototype.clear,100,!1,l),e.nodes.attachNodeCallback(e.safe(a=>{const c=e.nodes.getID(a);if(c!==void 0){if(Re(a,"SELECT")&&(i(c,a),e.attachEventListener(a,"change",()=>{i(c,a)})),Kf(a)){o.set(c,a.value),i(c,a);return}if(Jf(a)){s.set(c,a.checked),e.send(Lf(c,a.checked));return}}}))}function k1(e,t){let n=e,r=null;do{if(n.id)return`#${n.id}`+(r?` > ${r}`:"");if(r=n.className.split(" ").map(i=>i.trim()).filter(i=>i!=="").reduce((i,o)=>`${i}.${o}`,n.tagName.toLowerCase())+(r?` > ${r}`:""),n===t.body)return r;n=n.parentElement}while(n!==t.body&&n!==null);return r}function hm(e){const t=e.tagName.toUpperCase();return t==="BUTTON"||t==="A"||t==="LI"||t==="SELECT"||e.onclick!=null||e.getAttribute("role")==="button"}function Yf(e,t){return e instanceof Element?_1(e,t):null}function _1(e,t){let n=e;for(;n!==null&&n!==t.documentElement;){if(Un(n,"masked"))return null;n=n.parentElement}if(Tl(e)){let r=e.ownerSVGElement;for(;r!==null;)e=r,r=r.ownerSVGElement}for(n=e;n!==null&&n!==t.documentElement;){const r=n.tagName.toUpperCase();if(r==="LABEL")return null;if(r==="INPUT"||hm(n)||Vc(n)!==null)return n;n=n.parentElement}return e===t.documentElement?null:e}function E1(e){function t(u){const d=Vc(u);if(d!==null)return d;if(Re(u,"INPUT"))return dm(u);if(hm(u)){let f="";return u instanceof HTMLElement&&(f=e.sanitizer.getInnerTextSecure(u)),f=f||u.id||u.className,am(f).slice(0,100)}return""}let n=-1,r=-1,i=!1,o=null,s=0,l={};e.attachStopCallback(()=>{n=-1,r=-1,i=!1,o=null,l={}});const a=()=>{i&&(e.send(bS(n,r)),i=!1)},c=(u,d=!1)=>{function f(p,g){return l[p]=l[p]||k1(g,u)}const h=d?e.attachEventListener.bind(e):e.nodes.attachNodeListener.bind(e.nodes);h(u.documentElement,"mouseover",p=>{const g=Yf(p.target,u);g!==o&&(o=g,s=performance.now())}),h(u,"mousemove",p=>{const[g,_]=e.observer.getDocumentOffset(u);n=p.clientX+g,r=p.clientY+_,i=!0},!1),h(u,"click",p=>{const g=Yf(p.target,u);if(!p.clientX&&!p.clientY||g===null)return;const _=e.nodes.getID(g);_!==void 0&&(a(),e.send(US(_,o===g?Math.round(performance.now()-s):0,t(g),f(_,g)),!0)),o=null})};e.nodes.attachNodeCallback(u=>{xl(u)&&c(u)}),c(document,!0),e.ticker.attach(a,10)}function T1(e){const t=[],n=document.getElementsByTagName("*"),r=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let i=0;i<n.length;i++){const o=n[i];let s="";if(Re(o,"IMG")&&(s=o.currentSrc||o.src),!s){const p=getComputedStyle(o).getPropertyValue("background-image");if(p){const g=r.exec(p);g!==null&&(s=g[1],(s.startsWith('"')||s.startsWith("'"))&&(s=s.substr(1,s.length-2)))}}if(!s)continue;const l=s.substr(0,10)==="data:image"?0:e[s];if(l===void 0)continue;const a=o.getBoundingClientRect(),c=Math.max(a.top,0),u=Math.max(a.left,0),d=Math.min(a.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),f=Math.min(a.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(d<=c||f<=u)continue;const h=(d-c)*(f-u);t.push({time:l,area:h})}return t}function w1(e,t){let n=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,r=n*e;for(let i=0;i<t.length;i++){const{time:o,area:s}=t[i];n+=s,r+=s*(o>e?o:e)}return n===0?0:r/n}function x1(e,t){const n=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},t);if("PerformanceObserver"in window||(n.captureResourceTimings=!1),!n.captureResourceTimings)return;let r={};function i(c){c.duration<0||!lm(c.name)||e.isServiceURL(c.name)||(r!==null&&(r[c.name]=c.startTime+c.duration),e.send(rm(c.startTime+performance.timing.navigationStart,c.duration,c.responseStart&&c.startTime?c.responseStart-c.startTime:0,c.transferSize>c.encodedBodySize?c.transferSize-c.encodedBodySize:0,c.encodedBodySize||0,c.decodedBodySize||0,c.name,c.initiatorType)))}const o=new PerformanceObserver(c=>c.getEntries().forEach(i));let s;e.attachStartCallback(function({sessionID:c}){c!==s&&(performance.getEntriesByType("resource").forEach(i),s=c),o.observe({entryTypes:["resource"]})}),e.attachStopCallback(function(){o.disconnect()});let l=0,a=0;if(n.capturePageLoadTimings){let c=!1;e.ticker.attach(()=>{if(!c&&((l===0||a===0)&&performance.getEntriesByType("paint").forEach(u=>{const{name:d,startTime:f}=u;switch(d){case"first-paint":l=f;break;case"first-contentful-paint":a=f;break}}),performance.timing.loadEventEnd||performance.now()>3e4)){c=!0;const{navigationStart:u,requestStart:d,responseStart:f,responseEnd:h,domContentLoadedEventStart:p,domContentLoadedEventEnd:g,loadEventStart:_,loadEventEnd:v}=performance.timing;e.send(OS(d-u||0,f-u||0,h-u||0,p-u||0,g-u||0,_-u||0,v-u||0,l,a))}},30)}if(n.capturePageRenderTimings){let c=0,u=0,d=0,f=null,h=!1;e.ticker.attach(()=>{if(h)return;const p=performance.now();if(r!==null&&(c=Math.max.apply(null,Object.keys(r).map(g=>r[g])),p-c>1e3&&(f=T1(r),r=null)),d!==null&&(p-d>50&&(u=p),d=p-u>5e3?null:p),f!==null&&d===null||p>3e4){h=!0,r=null;const g=f===null?0:w1(a||l,f),_=d===null?Math.max(u,a,performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart||0):0;e.send(DS(g,a>c?a:c,_))}})}}function Sa(e){const t=e.defaultView;return[t&&t.pageXOffset||e.documentElement&&e.documentElement.scrollLeft||e.body&&e.body.scrollLeft||0,t&&t.pageYOffset||e.documentElement&&e.documentElement.scrollTop||e.body&&e.body.scrollTop||0]}function R1(e){let t=!1;const n=new Map;function r(s){!GS(s)||(qt(s)&&n.set(s,[s.scrollLeft,s.scrollTop]),xl(s)&&n.set(s,Sa(s)))}const i=e.safe(()=>e.send(yS(...Sa(document)))),o=e.safe((s,l)=>{const a=e.nodes.getID(l);a!==void 0&&e.send(wS(a,s[0],s[1]))});e.attachStartCallback(i),e.attachStopCallback(()=>{t=!1,n.clear()}),e.nodes.attachNodeCallback((s,l)=>{l&&(qt(s)&&s.scrollLeft+s.scrollTop>0?n.set(s,[s.scrollLeft,s.scrollTop]):xl(s)&&n.set(s,Sa(s))),Is(s)&&e.nodes.attachNodeListener(s,"scroll",a=>{r(a.target)})}),e.attachEventListener(document,"scroll",s=>{const l=s.target;if(l===document){t=!0;return}r(l)}),e.ticker.attach(()=>{t&&(i(),t=!1),n.forEach(o),n.clear()},5,!1)}function b1(e){let t,n,r,i=performance.timing.navigationStart;const o=e.safe(()=>{const{URL:a}=document;a!==t&&(t=a,e.send(gS(t,document.referrer,i)),i=0)}),s=e.safe(()=>{const{innerWidth:a,innerHeight:c}=window;(a!==n||c!==r)&&(n=a,r=c,e.send(vS(n,r)))}),l=document.hidden===void 0?Function.prototype:e.safe(()=>e.send(BS(document.hidden)));e.attachStartCallback(()=>{t="",n=r=-1,o(),s(),l()}),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",l,!1,!1),e.ticker.attach(o,1,!1),e.ticker.attach(s,5,!1)}function Qf(e){return Is(e)&&!!e.adoptedStyleSheets}let P1=15;function pm(){return P1++}const fo=new Map;function O1(e){if(e===null)return;if(!Qf(document)){e.attachStartCallback(()=>{e.send(im("no_adopted_stylesheets",""))});return}const t=new Map,n=new Map,r=s=>setTimeout(()=>{let l=e.nodes.getID(s);if(s===document&&(l=0),l===void 0)return;let a=n.get(l);a||(a=[]);const c=[],u=s.adoptedStyleSheets;for(const d of u){let f=t.get(d);const h=!f;if(f||(f=pm(),t.set(d,f)),a.includes(f)||e.send(sm(f,l)),h){const p=d.cssRules;for(let g=0;g<p.length;g++)e.send(_l(f,p[g].cssText,g,e.getBaseHref()))}c.push(f)}for(const d of a)c.includes(d)||e.send($S(d,l));n.set(l,c)},20);function i(s){const l=Object.getOwnPropertyDescriptor(s,"adoptedStyleSheets");l&&Object.defineProperty(s,"adoptedStyleSheets",Object.assign(Object.assign({},l),{set:function(a){const c=l.set.call(this,a);return r(this),c}}))}const o=s=>{if(s.__openreplay_adpss_patched__)return;s.__openreplay_adpss_patched__=!0,i(s.Document.prototype),i(s.ShadowRoot.prototype);const{replace:l,replaceSync:a}=s.CSSStyleSheet.prototype;s.CSSStyleSheet.prototype.replace=function(c){return l.call(this,c).then(u=>{const d=t.get(this);return d&&e.send(Mf(d,c,e.getBaseHref())),u})},s.CSSStyleSheet.prototype.replaceSync=function(c){const u=t.get(this);return u&&e.send(Mf(u,c,e.getBaseHref())),a.call(this,c)}};o(window),e.observer.attachContextCallback(e.safe(o)),e.attachStopCallback(()=>{t.clear(),n.clear()}),e.attachStartCallback(()=>{r(document)}),e.nodes.attachNodeCallback(s=>{Qf(s)&&r(s)})}function D1(e){if(e===null)return;if(!window.CSSStyleSheet){e.send(im("no_stylesheet_prototype_in_window",""));return}const t=e.safe((i,o,s)=>{const l=fo.get(i);!l||(typeof s=="string"?e.send(_l(l,s,o,e.getBaseHref())):e.send(Af(l,o)))}),n=e.safe(i=>{let o=i;for(;o.parentRule;)o=o.parentRule;const s=o.parentStyleSheet;if(!s){e.debug.warn("No parent StyleSheet found for",o,i);return}const l=fo.get(s);if(!l){e.debug.warn("No sheedID found for",s,fo);return}const a=o.cssText,c=s.cssRules,u=Array.from(c).indexOf(o);u>=0?(e.send(_l(l,a,u,e.getBaseHref())),e.send(Af(l,u+1))):e.debug.warn("Rule index not found in",s,o)}),r=e.safe(i=>{const{insertRule:o,deleteRule:s}=i.CSSStyleSheet.prototype,{insertRule:l,deleteRule:a}=i.CSSGroupingRule.prototype;i.CSSStyleSheet.prototype.insertRule=function(c,u=0){return t(this,u,c),o.call(this,c,u)},i.CSSStyleSheet.prototype.deleteRule=function(c){return t(this,c),s.call(this,c)},i.CSSGroupingRule.prototype.insertRule=function(c,u=0){const d=l.call(this,c,u);return n(this),d},i.CSSGroupingRule.prototype.deleteRule=function(c=0){const u=a.call(this,c);return n(this),u}});r(window),e.observer.attachContextCallback(r),e.nodes.attachNodeCallback(i=>{if(!(Re(i,"STYLE")||Re(i,"style"))||!i.sheet||i.textContent!==null&&i.textContent.trim().length>0)return;const o=e.nodes.getID(i);if(!o)return;const s=i.sheet,l=pm();fo.set(s,l),e.send(sm(l,o));const a=s.cssRules;for(let c=0;c<a.length;c++)t(s,c,a[c].cssText)})}const Oo="/installation/setup-or";function N1(e){if(e==null)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${cs}${Oo}`),!1;if(typeof e.projectKey!="string")if(typeof e.projectKey!="number"){if(typeof e.projectID!="number")return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${cs}${Oo} for more information.`),!1;e.projectKey=e.projectID.toString(),mn("`projectID` option","`projectKey` option",Oo)}else console.warn("OpenReplay: projectKey is expected to have a string type."),e.projectKey=e.projectKey.toString();return e.sessionToken!=null&&mn("`sessionToken` option","`sessionHash` start() option","/"),!0}class I1{constructor(t){if(this.options=t,this.app=null,this.handleError=i=>{if(this.app!==null){if(i instanceof Error)this.app.send(Dl(i,[]));else if(i instanceof ErrorEvent||"PromiseRejectionEvent"in window&&i instanceof PromiseRejectionEvent){const o=fm(i);o!=null&&this.app.send(o)}}},!At||!N1(t))return;if(window.__OPENREPLAY__){console.error("OpenReplay: one tracker instance has been initialised already");return}if(!t.__DISABLE_SECURE_MODE&&location.protocol!=="https:"){console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");return}const n=t.respectDoNotTrack&&(navigator.doNotTrack=="1"||window.doNotTrack=="1"),r=this.app=n||!("Map"in window)||!("Set"in window)||!("MutationObserver"in window)||!("performance"in window)||!("timing"in performance)||!("startsWith"in String.prototype)||!("Blob"in window)||!("Worker"in window)?null:new s1(t.projectKey,t.sessionToken,t);if(r!==null){if(b1(r),D1(r),O1(r),a1(r),f1(r,t),p1(r,t),v1(r),C1(r,t),E1(r),x1(r,t),r1(r,t),R1(r),window.__OPENREPLAY__=this,t.autoResetOnWindowOpen){const i=window.open;r.attachStartCallback(()=>{window.open=function(...o){r.resetNextPageSession(!0),i.call(window,...o),r.resetNextPageSession(!1)}}),r.attachStopCallback(()=>{window.open=i})}}else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");const i=new XMLHttpRequest,o=t.ingestPoint||Pl;i.open("POST",o+"/v1/web/not-started"),i.send(JSON.stringify({trackerVersion:"4.1.5",projectKey:t.projectKey,doNotTrack:n}))}}use(t){return t(this.app,this.options)}isActive(){return this.app===null?!1:this.app.active()}start(t){return At?this.app===null?Promise.reject("Browser doesn't support required api, or doNotTrack is active."):this.app.start(t):(console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${cs}${Oo}`),Promise.reject("Trying to start not in browser."))}stop(){if(this.app!==null)return this.app.stop(),this.app.session.getSessionHash()}getSessionToken(){return this.app===null?null:this.app.getSessionToken()}getSessionID(){return this.app===null?null:this.app.getSessionID()}sessionID(){return mn("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}getSessionURL(){if(this.app!==null)return this.app.getSessionURL()}setUserID(t){typeof t=="string"&&this.app!==null&&this.app.session.setUserID(t)}userID(t){mn("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){typeof t=="string"&&this.app!==null&&this.app.send(LS(t))}userAnonymousID(t){mn("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,n){typeof t=="string"&&typeof n=="string"&&this.app!==null&&this.app.session.setMetadata(t,n)}metadata(t,n){mn("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,n)}event(t,n,r=!1){if(typeof t=="string"&&this.app!==null){if(r)return this.issue(t,n);try{n=JSON.stringify(n)}catch{return}this.app.send(NS(t,n))}}issue(t,n){if(typeof t=="string"&&this.app!==null){try{n=JSON.stringify(n)}catch{return}this.app.send(FS(t,n))}}}typeof window<"u"&&(window.parcelRequire=window.parcelRequire||void 0);const jt=Object.create(null);jt.open="0";jt.close="1";jt.ping="2";jt.pong="3";jt.message="4";jt.upgrade="5";jt.noop="6";const Do=Object.create(null);Object.keys(jt).forEach(e=>{Do[jt[e]]=e});const L1={type:"error",data:"parser error"},M1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",A1=typeof ArrayBuffer=="function",j1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,mm=({type:e,data:t},n,r)=>M1&&t instanceof Blob?n?r(t):qf(t,r):A1&&(t instanceof ArrayBuffer||j1(t))?n?r(t):qf(new Blob([t]),r):r(jt[e]+(t||"")),qf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+r)},n.readAsDataURL(e)},Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ri=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Xf.length;e++)ri[Xf.charCodeAt(e)]=e;const B1=e=>{let t=e.length*.75,n=e.length,r,i=0,o,s,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=ri[e.charCodeAt(r)],s=ri[e.charCodeAt(r+1)],l=ri[e.charCodeAt(r+2)],a=ri[e.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|l>>2,u[i++]=(l&3)<<6|a&63;return c},z1=typeof ArrayBuffer=="function",gm=(e,t)=>{if(typeof e!="string")return{type:"message",data:vm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:F1(e.substring(1),t)}:Do[n]?e.length>1?{type:Do[n],data:e.substring(1)}:{type:Do[n]}:L1},F1=(e,t)=>{if(z1){const n=B1(e);return vm(n,t)}else return{base64:!0,data:e}},vm=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},ym=String.fromCharCode(30),U1=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,s)=>{mm(o,!1,l=>{r[s]=l,++i===n&&t(r.join(ym))})})},$1=(e,t)=>{const n=e.split(ym),r=[];for(let i=0;i<n.length;i++){const o=gm(n[i],t);if(r.push(o),o.type==="error")break}return r},Sm=4;function me(e){if(e)return V1(e)}function V1(e){for(var t in me.prototype)e[t]=me.prototype[t];return e}me.prototype.on=me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};me.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};me.prototype.emitReserved=me.prototype.emit;me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const gn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Cm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const H1=setTimeout,W1=clearTimeout;function Ls(e,t){t.useNativeTimers?(e.setTimeoutFn=H1.bind(gn),e.clearTimeoutFn=W1.bind(gn)):(e.setTimeoutFn=setTimeout.bind(gn),e.clearTimeoutFn=clearTimeout.bind(gn))}const G1=1.33;function K1(e){return typeof e=="string"?J1(e):Math.ceil((e.byteLength||e.size)*G1)}function J1(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Y1 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class km extends me{constructor(t){super(),this.writable=!1,Ls(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Y1(t,n,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=gm(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const _m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Nl=64,Q1={};let Zf=0,ho=0,ed;function td(e){let t="";do t=_m[e%Nl]+t,e=Math.floor(e/Nl);while(e>0);return t}function Em(){const e=td(+new Date);return e!==ed?(Zf=0,ed=e):e+"."+td(Zf++)}for(;ho<Nl;ho++)Q1[_m[ho]]=ho;function Tm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function q1(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}let wm=!1;try{wm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const X1=wm;function xm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||X1))return new XMLHttpRequest}catch{}if(!t)try{return new gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Z1(){}const eC=function(){return new xm({xdomain:!1}).responseType!=null}();class tC extends km{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=eC&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};$1(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,U1(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Em()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=Tm(t),o=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Mt(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Mt extends me{constructor(t,n){super(),Ls(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=Cm(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new xm(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Mt.requestsCount++,Mt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Z1,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Mt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Mt.requestsCount=0;Mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",nd);else if(typeof addEventListener=="function"){const e="onpagehide"in gn?"pagehide":"unload";addEventListener(e,nd,!1)}}function nd(){for(let e in Mt.requests)Mt.requests.hasOwnProperty(e)&&Mt.requests[e].abort()}const Rm=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),po=gn.WebSocket||gn.MozWebSocket,rd=!0,nC="arraybuffer",id=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class rC extends km{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=id?{}:Cm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=rd&&!id?n?new po(t,n):new po(t):new po(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||nC,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;mm(r,this.supportsBinary,o=>{const s={};try{rd&&this.ws.send(o)}catch{}i&&Rm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Em()),this.supportsBinary||(t.b64=1);const i=Tm(t),o=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!po}}const iC={websocket:rC,polling:tC},oC=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Il(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=oC.exec(e||""),o={},s=14;for(;s--;)o[sC[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=aC(o,o.path),o.queryKey=lC(o,o.query),o}function aC(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function lC(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}class un extends me{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=Il(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Il(n.host).host),Ls(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=q1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Sm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new iC[t](r)}open(){let t;if(this.opts.rememberUpgrade&&un.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;un.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;un.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const s=d=>{const f=new Error("probe error: "+d);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function l(){s("transport closed")}function a(){s("socket closed")}function c(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",l),this.off("close",a),this.off("upgrading",c)};n.once("open",i),n.once("error",s),n.once("close",l),this.once("close",a),this.once("upgrading",c),n.open()}onOpen(){if(this.readyState="open",un.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=K1(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){un.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}un.protocol=Sm;function cC(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Il(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const uC=typeof ArrayBuffer=="function",fC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bm=Object.prototype.toString,dC=typeof Blob=="function"||typeof Blob<"u"&&bm.call(Blob)==="[object BlobConstructor]",hC=typeof File=="function"||typeof File<"u"&&bm.call(File)==="[object FileConstructor]";function Wc(e){return uC&&(e instanceof ArrayBuffer||fC(e))||dC&&e instanceof Blob||hC&&e instanceof File}function No(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(No(e[n]))return!0;return!1}if(Wc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return No(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&No(e[n]))return!0;return!1}function pC(e){const t=[],n=e.data,r=e;return r.data=Ll(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ll(e,t){if(!e)return e;if(Wc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ll(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ll(e[r],t));return n}return e}function mC(e,t){return e.data=Ml(e.data,t),e.attachments=void 0,e}function Ml(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ml(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ml(e[n],t));return e}const gC=5;var V;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(V||(V={}));class vC{constructor(t){this.replacer=t}encode(t){return(t.type===V.EVENT||t.type===V.ACK)&&No(t)?(t.type=t.type===V.EVENT?V.BINARY_EVENT:V.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===V.BINARY_EVENT||t.type===V.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=pC(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Gc extends me{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t),n.type===V.BINARY_EVENT||n.type===V.BINARY_ACK?(this.reconstructor=new yC(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(V[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===V.BINARY_EVENT||r.type===V.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Gc.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case V.CONNECT:return typeof n=="object";case V.DISCONNECT:return n===void 0;case V.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case V.EVENT:case V.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case V.ACK:case V.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class yC{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=mC(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const SC=Object.freeze(Object.defineProperty({__proto__:null,protocol:gC,get PacketType(){return V},Encoder:vC,Decoder:Gc},Symbol.toStringTag,{value:"Module"}));function kt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const CC=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pm extends me{constructor(t,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[kt(t,"open",this.onopen.bind(this)),kt(t,"packet",this.onpacket.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(CC.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');n.unshift(t);const r={type:V.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,l=n.pop();this._registerAckCallback(s,l),r.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...o])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:V.CONNECT,data:t})}):this.packet({type:V.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case V.CONNECT:if(t.data&&t.data.sid){const i=t.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case V.EVENT:case V.BINARY_EVENT:this.onevent(t);break;case V.ACK:case V.BINARY_ACK:this.onack(t);break;case V.DISCONNECT:this.ondisconnect();break;case V.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:V.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:V.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Mr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Mr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Mr.prototype.reset=function(){this.attempts=0};Mr.prototype.setMin=function(e){this.ms=e};Mr.prototype.setMax=function(e){this.max=e};Mr.prototype.setJitter=function(e){this.jitter=e};class Al extends me{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ls(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Mr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||SC;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new un(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=kt(n,"open",function(){r.onopen(),t&&t()}),o=kt(n,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),t?t(s):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const s=this._timeout;s===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(kt(t,"ping",this.onping.bind(this)),kt(t,"data",this.ondata.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this)),kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Rm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new Pm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yr={};function Io(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=cC(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Yr[i]&&o in Yr[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let a;return l?a=new Al(r,t):(Yr[i]||(Yr[i]=new Al(r,t)),a=Yr[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Io,{Manager:Al,Socket:Pm,io:Io,connect:Io});var Kc={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function r(){this._pieces=[],this._parts=[]}r.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},r.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new n,o=0,s=this._parts.length;o<s;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=r})(Kc);var kC=Kc.exports.BufferBuilder,od=Kc.exports.binaryFeatures,_C={unpack:function(e){var t=new Oe(e);return t.unpack()},pack:function(e){var t=new De;t.pack(e);var n=t.getBuffer();return n}},sd=_C;function Oe(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}Oe.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};Oe.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};Oe.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};Oe.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};Oe.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};Oe.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};Oe.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};Oe.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};Oe.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};Oe.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};Oe.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,r="",i,o;n<e;)i=t[n],i<128?(r+=String.fromCharCode(i),n++):(i^192)<32?(o=(i^192)<<6|t[n+1]&63,r+=String.fromCharCode(o),n+=2):(o=(i&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,r+=String.fromCharCode(o),n+=3);return this.index+=e,r};Oe.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};Oe.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t};Oe.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*Math.pow(2,n-23)};Oe.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,r-20)+t*Math.pow(2,r-52);return(n===0?1:-1)*o};Oe.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function De(){this.bufferBuilder=new kC}De.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};De.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)od.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)od.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};De.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};De.prototype.pack_string=function(e){var t=TC(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};De.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};De.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};De.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)};De.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))};De.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};De.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};De.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};De.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};De.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};De.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};De.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};De.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function EC(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function TC(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,EC).length}let Om=!0,Dm=!0;function ii(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Ar(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const a=c=>{const u=n(c);u&&(l.handleEvent?l.handleEvent(u):l(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,a),i.apply(this,[s,a])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const a=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,a])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function wC(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Om=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function xC(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Dm=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Jc(){if(typeof window=="object"){if(Om)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ms(e,t){!Dm||console.warn(e+" is deprecated, please use "+t+" instead.")}function RC(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=ii(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=ii(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=ii(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=ii(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function ad(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nm(e){return ad(e)?Object.keys(e).reduce(function(t,n){const r=ad(e[n]),i=r?Nm(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function jl(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?jl(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{jl(e,e.get(i),n)})}))}function ld(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===r&&l.trackId===s.id&&jl(e,l,i)})}),i}const cd=Jc;function Im(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof l[c]=="object"?l[c]:{ideal:l[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const d=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){a.optional=a.optional||[];let f={};typeof u.ideal=="number"?(f[d("min",c)]=u.ideal,a.optional.push(f),f={},f[d("max",c)]=u.ideal,a.optional.push(f)):(f[d("",c)]=u.ideal,a.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[d("",c)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[d(f,c)]=u[f])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},i=function(l,a){if(t.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete l.video.facingMode;let d;if(c.exact==="environment"||c.ideal==="environment"?d=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(d=["front"]),d)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(p=>p.kind==="videoinput");let h=f.find(p=>d.some(g=>p.label.toLowerCase().includes(g)));return!h&&f.length&&d.includes("back")&&(h=f[f.length-1]),h&&(l.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),l.video=r(l.video),cd("chrome: "+JSON.stringify(l)),a(l)})}l.video=r(l.video)}return cd("chrome: "+JSON.stringify(l)),a(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,a,c){i(l,u=>{n.webkitGetUserMedia(u,a,d=>{c&&c(o(d))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return i(a,c=>l(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function bC(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,l=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(r)})}}}function Lm(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Mm(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ar(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Am(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(a=>a.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function jm(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const s=function(a){const c={};return a.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(h=>{f[h]=d.stat(h)}),c[f.id]=f}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){i(l(s(c)))};return t.apply(this,[a,r])}return new Promise((a,c)=>{t.apply(this,[function(u){a(l(s(u)))},c])}).then(i,o)}}function Bm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>ld(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Ar(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>ld(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function zm(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(d=>d.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(a)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(s);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function Fm(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return zm(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(d=>this._reverseStreams[d.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const d=new e.MediaStream(u.getTracks());this._streams[u.id]=d,this._reverseStreams[d.id]=u,u=d}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(g=>g===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[d.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new e.MediaStream([u]);this._streams[d.id]=g,this._reverseStreams[g.id]=d,this.addStream(g)}return this.getSenders().find(g=>g.track===u)};function o(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],p=c._streams[h.id];d=d.replace(new RegExp(p.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:d})}function s(c,u){let d=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const h=c._reverseStreams[f],p=c._streams[h.id];d=d.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:d})}["createOffer","createAnswer"].forEach(function(c){const u=e.RTCPeerConnection.prototype[c],d={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[p=>{const g=o(this,p);f[0].apply(null,[g])},p=>{f[1]&&f[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>o(this,p))}};e.RTCPeerConnection.prototype[c]=d[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(g=>u.track===g)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Bl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function Um(e,t){Ar(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const ud=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:Lm,shimOnTrack:Mm,shimGetSendersWithDtmf:Am,shimGetStats:jm,shimSenderReceiverGetStats:Bm,shimAddTrackRemoveTrackWithNative:zm,shimAddTrackRemoveTrack:Fm,shimPeerConnection:Bl,fixNegotiationNeeded:Um,shimGetUserMedia:Im,shimGetDisplayMedia:bC},Symbol.toStringTag,{value:"Module"}));function PC(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&Ms("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(s=>{if(s.indexOf("stun:")===0)return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}var Yc={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(r){return r.trim()})},t.splitSections=function(n){var r=n.split(`
m=`);return r.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(n){var r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){var r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(function(i){return i.indexOf(r)===0})},t.parseCandidate=function(n){var r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");for(var i={foundation:r[0],component:parseInt(r[1],10),protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]},o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]=r[o+1];break}return i},t.writeCandidate=function(n){var r=[];r.push(n.foundation),r.push(n.component),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);var i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var r=n.substr(9).split(" "),i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){var r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);var i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){var r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var r={},i,o=n.substr(n.indexOf(" ")+1).split(";"),s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){var r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var o=[];Object.keys(n.parameters).forEach(function(s){n.parameters[s]?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){var r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){var r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(o){r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){var r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substr(r+1,o-r-1),i.value=n.substr(o+1)):i.attribute=n.substr(r+1),i},t.parseSsrcGroup=function(n){var r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(function(i){return parseInt(i,10)})}},t.getMid=function(n){var r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(n){var r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1]}},t.getDtlsParameters=function(n,r){var i=t.matchPrefix(n+r,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){var i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){var r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){var i=t.matchPrefix(n+r,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(n,r){var i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n),o=i[0].split(" "),s=3;s<o.length;s++){var l=o[s],a=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(a){var c=t.parseRtpMap(a),u=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(d){r.headerExtensions.push(t.parseExtmap(d))}),r},t.writeRtpDescription=function(n,r){var i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(function(s){i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});var o=0;return r.codecs.forEach(function(s){s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,r.headerExtensions&&r.headerExtensions.forEach(function(s){i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){var r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(function(f){return t.parseSsrcMedia(f)}).filter(function(f){return f.attribute==="cname"}),a=l.length>0&&l[0].ssrc,c,u=t.matchPrefix(n,"a=ssrc-group:FID").map(function(f){var h=f.substr(17).split(" ");return h.map(function(p){return parseInt(p,10)})});u.length>0&&u[0].length>1&&u[0][0]===a&&(c=u[0][1]),i.codecs.forEach(function(f){if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){var h={ssrc:a,codecPayloadType:parseInt(f.parameters.apt,10)};a&&c&&(h.rtx={ssrc:c}),r.push(h),o&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&a&&r.push({ssrc:a});var d=t.matchPrefix(n,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substr(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substr(5),10)*1e3*.95-50*40*8:d=void 0,r.forEach(function(f){f.maxBitrate=d})),r},t.parseRtcpParameters=function(n){var r={},i=t.matchPrefix(n,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);var o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;var s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.parseMsid=function(n){var r,i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};var o=t.matchPrefix(n,"a=ssrc:").map(function(s){return t.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){var r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:r.fmt,maxMessageSize:o};var l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){var a=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){var i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,r,i){var o,s=r!==void 0?r:2;n?o=n:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,r,i,o){var s=t.writeRtpDescription(n.kind,r);if(s+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),s+="a=mid:"+n.mid+`\r
`,n.direction?s+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var l="msid:"+o.id+" "+n.rtpSender.track.id+`\r
`;s+="a="+l,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+l,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),s},t.getDirection=function(n,r){for(var i=t.splitLines(n),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){var r=t.splitLines(n),i=r[0].split(" ");return i[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var r=t.splitLines(n),i=r[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){var r=t.matchPrefix(n,"o=")[0],i=r.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var r=t.splitLines(n),i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(Yc);const Lo=Yc.exports;var I=Yc.exports;function OC(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function fd(e,t,n,r,i){var o=I.writeRtpDescription(e.kind,t);if(o+=I.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=I.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(r?r.id:"-")+" "+s+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+I.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+I.localCName+`\r
`),o}function DC(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(r){if(r&&(r.urls||r.url)){var i=r.urls||r.url;r.url&&!r.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(s){var l=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!n;return l?(n=!0,!0):s.indexOf("stun:")===0&&t>=14393&&s.indexOf("?transport=udp")===-1}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}function mo(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(o,s){o=parseInt(o,10);for(var l=0;l<s.length;l++)if(s[l].payloadType===o||s[l].preferredPayloadType===o)return s[l]},i=function(o,s,l,a){var c=r(o.parameters.apt,l),u=r(s.parameters.apt,a);return c&&u&&c.name.toLowerCase()===u.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var l=t.codecs[s];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),n.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(a){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===a.type&&o.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var s=0;s<t.headerExtensions.length;s++){var l=t.headerExtensions[s];if(o.uri===l.uri){n.headerExtensions.push(l);break}}}),n}function dd(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function Ca(e,t){var n=e.getRemoteCandidates().find(function(r){return t.foundation===r.foundation&&t.ip===r.ip&&t.port===r.port&&t.priority===r.priority&&t.protocol===r.protocol&&t.type===r.type});return n||e.addRemoteCandidate(t),!n}function Be(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var NC=function(e,t){function n(a,c){c.addTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:a}))}function r(a,c){c.removeTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:a}))}function i(a,c,u,d){var f=new Event("track");f.track=c,f.receiver=u,f.transceiver={receiver:u},f.streams=d,e.setTimeout(function(){a._dispatchEvent("track",f)})}var o=function(a){var c=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(f){c[f]=u[f].bind(u)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle=a.bundlePolicy==="max-bundle",a.rtcpMuxPolicy==="negotiate")throw Be("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all";break}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced";break}if(a.iceServers=DC(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var d=a.iceCandidatePoolSize;d>0;d--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=I.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(a,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+a]=="function"&&this["on"+a](c))},o.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(a,c){var u=this.transceivers.length>0,d={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&u)d.iceTransport=this.transceivers[0].iceTransport,d.dtlsTransport=this.transceivers[0].dtlsTransport;else{var f=this._createIceAndDtlsTransports();d.iceTransport=f.iceTransport,d.dtlsTransport=f.dtlsTransport}return c||this.transceivers.push(d),d},o.prototype.addTrack=function(a,c){if(this._isClosed)throw Be("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var u=this.transceivers.find(function(h){return h.track===a});if(u)throw Be("InvalidAccessError","Track already exists.");for(var d,f=0;f<this.transceivers.length;f++)!this.transceivers[f].track&&this.transceivers[f].kind===a.kind&&(d=this.transceivers[f]);return d||(d=this._createTransceiver(a.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),d.track=a,d.stream=c,d.rtpSender=new e.RTCRtpSender(a,d.dtlsTransport),d.rtpSender},o.prototype.addStream=function(a){var c=this;if(t>=15025)a.getTracks().forEach(function(d){c.addTrack(d,a)});else{var u=a.clone();a.getTracks().forEach(function(d,f){var h=u.getTracks()[f];d.addEventListener("enabled",function(p){h.enabled=p.enabled})}),u.getTracks().forEach(function(d){c.addTrack(d,u)})}},o.prototype.removeTrack=function(a){if(this._isClosed)throw Be("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(f){return f.rtpSender===a});if(!c)throw Be("InvalidAccessError","Sender was not created by this connection.");var u=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var d=this.transceivers.map(function(f){return f.stream});d.indexOf(u)===-1&&this.localStreams.indexOf(u)>-1&&this.localStreams.splice(this.localStreams.indexOf(u),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(u){var d=c.getSenders().find(function(f){return f.track===u});d&&c.removeTrack(d)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},o.prototype._createIceGatherer=function(a,c){var u=this;if(c&&a>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var d=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(d,"state",{value:"new",writable:!0}),this.transceivers[a].bufferedCandidateEvents=[],this.transceivers[a].bufferCandidates=function(f){var h=!f.candidate||Object.keys(f.candidate).length===0;d.state=h?"completed":"gathering",u.transceivers[a].bufferedCandidateEvents!==null&&u.transceivers[a].bufferedCandidateEvents.push(f)},d.addEventListener("localcandidate",this.transceivers[a].bufferCandidates),d},o.prototype._gather=function(a,c){var u=this,d=this.transceivers[c].iceGatherer;if(!d.onlocalcandidate){var f=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,d.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),d.onlocalcandidate=function(h){if(!(u.usingBundle&&c>0)){var p=new Event("icecandidate");p.candidate={sdpMid:a,sdpMLineIndex:c};var g=h.candidate,_=!g||Object.keys(g).length===0;if(_)(d.state==="new"||d.state==="gathering")&&(d.state="completed");else{d.state==="new"&&(d.state="gathering"),g.component=1,g.ufrag=d.getLocalParameters().usernameFragment;var v=I.writeCandidate(g);p.candidate=Object.assign(p.candidate,I.parseCandidate(v)),p.candidate.candidate=v,p.candidate.toJSON=function(){return{candidate:p.candidate.candidate,sdpMid:p.candidate.sdpMid,sdpMLineIndex:p.candidate.sdpMLineIndex,usernameFragment:p.candidate.usernameFragment}}}var m=I.getMediaSections(u._localDescription.sdp);_?m[p.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:m[p.candidate.sdpMLineIndex]+="a="+p.candidate.candidate+`\r
`,u._localDescription.sdp=I.getDescription(u._localDescription.sdp)+m.join("");var y=u.transceivers.every(function(S){return S.iceGatherer&&S.iceGatherer.state==="completed"});u.iceGatheringState!=="gathering"&&(u.iceGatheringState="gathering",u._emitGatheringStateChange()),_||u._dispatchEvent("icecandidate",p),y&&(u._dispatchEvent("icecandidate",new Event("icecandidate")),u.iceGatheringState="complete",u._emitGatheringStateChange())}},e.setTimeout(function(){f.forEach(function(h){d.onlocalcandidate(h)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var a=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState(),a._updateConnectionState()};var u=new e.RTCDtlsTransport(c);return u.ondtlsstatechange=function(){a._updateConnectionState()},u.onerror=function(){Object.defineProperty(u,"state",{value:"failed",writable:!0}),a._updateConnectionState()},{iceTransport:c,dtlsTransport:u}},o.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);var u=this.transceivers[a].iceTransport;u&&(delete u.onicestatechange,delete this.transceivers[a].iceTransport);var d=this.transceivers[a].dtlsTransport;d&&(delete d.ondtlsstatechange,delete d.onerror,delete this.transceivers[a].dtlsTransport)},o.prototype._transceive=function(a,c,u){var d=mo(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(d.encodings=a.sendEncodingParameters,d.rtcp={cname:I.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(d.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(d)),u&&a.rtpReceiver&&d.codecs.length>0&&(a.kind==="video"&&a.recvEncodingParameters&&t<15019&&a.recvEncodingParameters.forEach(function(f){delete f.rtx}),a.recvEncodingParameters.length?d.encodings=a.recvEncodingParameters:d.encodings=[{}],d.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(d.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(d.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(d))},o.prototype.setLocalDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Be("TypeError",'Unsupported type "'+a.type+'"'));if(!dd("setLocalDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Be("InvalidStateError","Can not set local "+a.type+" in state "+c.signalingState));var u,d;if(a.type==="offer")u=I.splitSections(a.sdp),d=u.shift(),u.forEach(function(h,p){var g=I.parseRtpParameters(h);c.transceivers[p].localCapabilities=g}),c.transceivers.forEach(function(h,p){c._gather(h.mid,p)});else if(a.type==="answer"){u=I.splitSections(c._remoteDescription.sdp),d=u.shift();var f=I.matchPrefix(d,"a=ice-lite").length>0;u.forEach(function(h,p){var g=c.transceivers[p],_=g.iceGatherer,v=g.iceTransport,m=g.dtlsTransport,y=g.localCapabilities,S=g.remoteCapabilities,T=I.isRejected(h)&&I.matchPrefix(h,"a=bundle-only").length===0;if(!T&&!g.rejected){var C=I.getIceParameters(h,d),k=I.getDtlsParameters(h,d);f&&(k.role="server"),(!c.usingBundle||p===0)&&(c._gather(g.mid,p),v.state==="new"&&v.start(_,C,f?"controlling":"controlled"),m.state==="new"&&m.start(k));var x=mo(y,S);c._transceive(g,x.codecs.length>0,!1)}})}return c._localDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Be("TypeError",'Unsupported type "'+a.type+'"'));if(!dd("setRemoteDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Be("InvalidStateError","Can not set remote "+a.type+" in state "+c.signalingState));var u={};c.remoteStreams.forEach(function(v){u[v.id]=v});var d=[],f=I.splitSections(a.sdp),h=f.shift(),p=I.matchPrefix(h,"a=ice-lite").length>0,g=I.matchPrefix(h,"a=group:BUNDLE ").length>0;c.usingBundle=g;var _=I.matchPrefix(h,"a=ice-options:")[0];return _?c.canTrickleIceCandidates=_.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,f.forEach(function(v,m){var y=I.splitLines(v),S=I.getKind(v),T=I.isRejected(v)&&I.matchPrefix(v,"a=bundle-only").length===0,C=y[0].substr(2).split(" ")[2],k=I.getDirection(v,h),x=I.parseMsid(v),M=I.getMid(v)||I.generateIdentifier();if(T||S==="application"&&(C==="DTLS/SCTP"||C==="UDP/DTLS/SCTP")){c.transceivers[m]={mid:M,kind:S,protocol:C,rejected:!0};return}!T&&c.transceivers[m]&&c.transceivers[m].rejected&&(c.transceivers[m]=c._createTransceiver(S,!0));var b,he,Ne,ge,H,et,tt,gt,P,L=I.parseRtpParameters(v),j,Q;T||(j=I.getIceParameters(v,h),Q=I.getDtlsParameters(v,h),Q.role="client"),tt=I.parseRtpEncodingParameters(v);var oe=I.parseRtcpParameters(v),zt=I.matchPrefix(v,"a=end-of-candidates",h).length>0,Ie=I.matchPrefix(v,"a=candidate:").map(function(Ce){return I.parseCandidate(Ce)}).filter(function(Ce){return Ce.component===1});if((a.type==="offer"||a.type==="answer")&&!T&&g&&m>0&&c.transceivers[m]&&(c._disposeIceAndDtlsTransports(m),c.transceivers[m].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[m].iceTransport=c.transceivers[0].iceTransport,c.transceivers[m].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[m].rtpSender&&c.transceivers[m].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[m].rtpReceiver&&c.transceivers[m].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),a.type==="offer"&&!T){b=c.transceivers[m]||c._createTransceiver(S),b.mid=M,b.iceGatherer||(b.iceGatherer=c._createIceGatherer(m,g)),Ie.length&&b.iceTransport.state==="new"&&(zt&&(!g||m===0)?b.iceTransport.setRemoteCandidates(Ie):Ie.forEach(function(Ce){Ca(b.iceTransport,Ce)})),gt=e.RTCRtpReceiver.getCapabilities(S),t<15019&&(gt.codecs=gt.codecs.filter(function(Ce){return Ce.name!=="rtx"})),et=b.sendEncodingParameters||[{ssrc:(2*m+2)*1001}];var nt=!1;if(k==="sendrecv"||k==="sendonly"){if(nt=!b.rtpReceiver,H=b.rtpReceiver||new e.RTCRtpReceiver(b.dtlsTransport,S),nt){var Ee;P=H.track,x&&x.stream==="-"||(x?(u[x.stream]||(u[x.stream]=new e.MediaStream,Object.defineProperty(u[x.stream],"id",{get:function(){return x.stream}})),Object.defineProperty(P,"id",{get:function(){return x.track}}),Ee=u[x.stream]):(u.default||(u.default=new e.MediaStream),Ee=u.default)),Ee&&(n(P,Ee),b.associatedRemoteMediaStreams.push(Ee)),d.push([P,H,Ee])}}else b.rtpReceiver&&b.rtpReceiver.track&&(b.associatedRemoteMediaStreams.forEach(function(Ce){var On=Ce.getTracks().find(function(Hi){return Hi.id===b.rtpReceiver.track.id});On&&r(On,Ce)}),b.associatedRemoteMediaStreams=[]);b.localCapabilities=gt,b.remoteCapabilities=L,b.rtpReceiver=H,b.rtcpParameters=oe,b.sendEncodingParameters=et,b.recvEncodingParameters=tt,c._transceive(c.transceivers[m],!1,nt)}else if(a.type==="answer"&&!T){b=c.transceivers[m],he=b.iceGatherer,Ne=b.iceTransport,ge=b.dtlsTransport,H=b.rtpReceiver,et=b.sendEncodingParameters,gt=b.localCapabilities,c.transceivers[m].recvEncodingParameters=tt,c.transceivers[m].remoteCapabilities=L,c.transceivers[m].rtcpParameters=oe,Ie.length&&Ne.state==="new"&&((p||zt)&&(!g||m===0)?Ne.setRemoteCandidates(Ie):Ie.forEach(function(Ce){Ca(b.iceTransport,Ce)})),(!g||m===0)&&(Ne.state==="new"&&Ne.start(he,j,"controlling"),ge.state==="new"&&ge.start(Q));var bt=mo(b.localCapabilities,b.remoteCapabilities),jr=bt.codecs.filter(function(Ce){return Ce.name.toLowerCase()==="rtx"}).length;!jr&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,c._transceive(b,k==="sendrecv"||k==="recvonly",k==="sendrecv"||k==="sendonly"),H&&(k==="sendrecv"||k==="sendonly")?(P=H.track,x?(u[x.stream]||(u[x.stream]=new e.MediaStream),n(P,u[x.stream]),d.push([P,H,u[x.stream]])):(u.default||(u.default=new e.MediaStream),n(P,u.default),d.push([P,H,u.default]))):delete b.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=a.type==="offer"?"active":"passive"),c._remoteDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(u).forEach(function(v){var m=u[v];if(m.getTracks().length){if(c.remoteStreams.indexOf(m)===-1){c.remoteStreams.push(m);var y=new Event("addstream");y.stream=m,e.setTimeout(function(){c._dispatchEvent("addstream",y)})}d.forEach(function(S){var T=S[0],C=S[1];m.id===S[2].id&&i(c,T,C,[m])})}}),d.forEach(function(v){v[2]||i(c,v[0],v[1],[])}),e.setTimeout(function(){!(c&&c.transceivers)||c.transceivers.forEach(function(v){v.iceTransport&&v.iceTransport.state==="new"&&v.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),v.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(a){this.signalingState=a;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var a=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var a,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(d){d.iceTransport&&!d.rejected&&c[d.iceTransport.state]++}),a="new",c.failed>0?a="failed":c.checking>0?a="checking":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0?a="connected":c.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var u=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",u)}},o.prototype._updateConnectionState=function(){var a,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(d){d.iceTransport&&d.dtlsTransport&&!d.rejected&&(c[d.iceTransport.state]++,c[d.dtlsTransport.state]++)}),c.connected+=c.completed,a="new",c.failed>0?a="failed":c.connecting>0?a="connecting":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var u=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",u)}},o.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(Be("InvalidStateError","Can not call createOffer after close"));var c=a.transceivers.filter(function(p){return p.kind==="audio"}).length,u=a.transceivers.filter(function(p){return p.kind==="video"}).length,d=arguments[0];if(d){if(d.mandatory||d.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");d.offerToReceiveAudio!==void 0&&(d.offerToReceiveAudio===!0?c=1:d.offerToReceiveAudio===!1?c=0:c=d.offerToReceiveAudio),d.offerToReceiveVideo!==void 0&&(d.offerToReceiveVideo===!0?u=1:d.offerToReceiveVideo===!1?u=0:u=d.offerToReceiveVideo)}for(a.transceivers.forEach(function(p){p.kind==="audio"?(c--,c<0&&(p.wantReceive=!1)):p.kind==="video"&&(u--,u<0&&(p.wantReceive=!1))});c>0||u>0;)c>0&&(a._createTransceiver("audio"),c--),u>0&&(a._createTransceiver("video"),u--);var f=I.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(p,g){var _=p.track,v=p.kind,m=p.mid||I.generateIdentifier();p.mid=m,p.iceGatherer||(p.iceGatherer=a._createIceGatherer(g,a.usingBundle));var y=e.RTCRtpSender.getCapabilities(v);t<15019&&(y.codecs=y.codecs.filter(function(T){return T.name!=="rtx"})),y.codecs.forEach(function(T){T.name==="H264"&&T.parameters["level-asymmetry-allowed"]===void 0&&(T.parameters["level-asymmetry-allowed"]="1"),p.remoteCapabilities&&p.remoteCapabilities.codecs&&p.remoteCapabilities.codecs.forEach(function(C){T.name.toLowerCase()===C.name.toLowerCase()&&T.clockRate===C.clockRate&&(T.preferredPayloadType=C.payloadType)})}),y.headerExtensions.forEach(function(T){var C=p.remoteCapabilities&&p.remoteCapabilities.headerExtensions||[];C.forEach(function(k){T.uri===k.uri&&(T.id=k.id)})});var S=p.sendEncodingParameters||[{ssrc:(2*g+1)*1001}];_&&t>=15019&&v==="video"&&!S[0].rtx&&(S[0].rtx={ssrc:S[0].ssrc+1}),p.wantReceive&&(p.rtpReceiver=new e.RTCRtpReceiver(p.dtlsTransport,v)),p.localCapabilities=y,p.sendEncodingParameters=S}),a._config.bundlePolicy!=="max-compat"&&(f+="a=group:BUNDLE "+a.transceivers.map(function(p){return p.mid}).join(" ")+`\r
`),f+=`a=ice-options:trickle\r
`,a.transceivers.forEach(function(p,g){f+=fd(p,p.localCapabilities,"offer",p.stream,a._dtlsRole),f+=`a=rtcp-rsize\r
`,p.iceGatherer&&a.iceGatheringState!=="new"&&(g===0||!a.usingBundle)&&(p.iceGatherer.getLocalCandidates().forEach(function(_){_.component=1,f+="a="+I.writeCandidate(_)+`\r
`}),p.iceGatherer.state==="completed"&&(f+=`a=end-of-candidates\r
`))});var h=new e.RTCSessionDescription({type:"offer",sdp:f});return Promise.resolve(h)},o.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(Be("InvalidStateError","Can not call createAnswer after close"));if(!(a.signalingState==="have-remote-offer"||a.signalingState==="have-local-pranswer"))return Promise.reject(Be("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var c=I.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(c+="a=group:BUNDLE "+a.transceivers.map(function(f){return f.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var u=I.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach(function(f,h){if(!(h+1>u)){if(f.rejected){f.kind==="application"?f.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+f.protocol+` webrtc-datachannel\r
`:f.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:f.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+f.mid+`\r
`;return}if(f.stream){var p;f.kind==="audio"?p=f.stream.getAudioTracks()[0]:f.kind==="video"&&(p=f.stream.getVideoTracks()[0]),p&&t>=15019&&f.kind==="video"&&!f.sendEncodingParameters[0].rtx&&(f.sendEncodingParameters[0].rtx={ssrc:f.sendEncodingParameters[0].ssrc+1})}var g=mo(f.localCapabilities,f.remoteCapabilities),_=g.codecs.filter(function(v){return v.name.toLowerCase()==="rtx"}).length;!_&&f.sendEncodingParameters[0].rtx&&delete f.sendEncodingParameters[0].rtx,c+=fd(f,g,"answer",f.stream,a._dtlsRole),f.rtcpParameters&&f.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var d=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(d)},o.prototype.addIceCandidate=function(a){var c=this,u;return a&&!(a.sdpMLineIndex!==void 0||a.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(d,f){if(c._remoteDescription)if(!a||a.candidate==="")for(var h=0;h<c.transceivers.length&&!(!c.transceivers[h].rejected&&(c.transceivers[h].iceTransport.addRemoteCandidate({}),u=I.getMediaSections(c._remoteDescription.sdp),u[h]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=I.getDescription(c._remoteDescription.sdp)+u.join(""),c.usingBundle));h++);else{var p=a.sdpMLineIndex;if(a.sdpMid){for(var g=0;g<c.transceivers.length;g++)if(c.transceivers[g].mid===a.sdpMid){p=g;break}}var _=c.transceivers[p];if(_){if(_.rejected)return d();var v=Object.keys(a.candidate).length>0?I.parseCandidate(a.candidate):{};if(v.protocol==="tcp"&&(v.port===0||v.port===9)||v.component&&v.component!==1)return d();if((p===0||p>0&&_.iceTransport!==c.transceivers[0].iceTransport)&&!Ca(_.iceTransport,v))return f(Be("OperationError","Can not add ICE candidate"));var m=a.candidate.trim();m.indexOf("a=")===0&&(m=m.substr(2)),u=I.getMediaSections(c._remoteDescription.sdp),u[p]+="a="+(v.type?m:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=I.getDescription(c._remoteDescription.sdp)+u.join("")}else return f(Be("OperationError","Can not add ICE candidate"))}else return f(Be("InvalidStateError","Can not add ICE candidate without a remote description"));d()})},o.prototype.getStats=function(a){if(a&&a instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(d){d.rtpSender&&d.rtpSender.track===a?c=d.rtpSender:d.rtpReceiver&&d.rtpReceiver.track===a&&(c=d.rtpReceiver)}),!c)throw Be("InvalidAccessError","Invalid selector.");return c.getStats()}var u=[];return this.transceivers.forEach(function(d){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(f){d[f]&&u.push(d[f].getStats())})}),Promise.all(u).then(function(d){var f=new Map;return d.forEach(function(h){h.forEach(function(p){f.set(p.id,p)})}),f})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(a){var c=e[a];if(c&&c.prototype&&c.prototype.getStats){var u=c.prototype.getStats;c.prototype.getStats=function(){return u.apply(this).then(function(d){var f=new Map;return Object.keys(d).forEach(function(h){d[h].type=OC(d[h]),f.set(h,d[h])}),f})}}});var l=["createOffer","createAnswer"];return l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[0]=="function"||typeof u[1]=="function"?c.apply(this,[arguments[2]]).then(function(d){typeof u[0]=="function"&&u[0].apply(null,[d])},function(d){typeof u[1]=="function"&&u[1].apply(null,[d])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[1]=="function"||typeof u[2]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)},function(d){typeof u[2]=="function"&&u[2].apply(null,[d])}):c.apply(this,arguments)}}),["getStats"].forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[1]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)}):c.apply(this,arguments)}}),o};function $m(e){const t=e&&e.navigator,n=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(n(o)))}}function Vm(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function zl(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=NC(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=PC(i.iceServers,t.version),Jc("ICE servers after filtering:",i.iceServers)),new n(i)},e.RTCPeerConnection.prototype=n.prototype}function Hm(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const hd=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:zl,shimReplaceTrack:Hm,shimGetUserMedia:$m,shimGetDisplayMedia:Vm},Symbol.toStringTag,{value:"Module"}));function Wm(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){Ms("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,a){l in s&&!(a in s)&&(s[a]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function IC(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Gm(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Fl(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(a=>{if(t.version<53&&!s)try{a.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((u,d)=>{a.set(d,Object.assign({},u,{type:n[u.type]||u.type}))})}return a}).then(s,l)}}function Km(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Jm(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Ar(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ym(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Ms("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Qm(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function qm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r.sendEncodings,s.sendEncodings=r.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function Xm(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Zm(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eg(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const pd=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:Gm,shimPeerConnection:Fl,shimSenderGetStats:Km,shimReceiverGetStats:Jm,shimRemoveStream:Ym,shimRTCDataChannel:Qm,shimAddTransceiver:qm,shimGetParameters:Xm,shimCreateOffer:Zm,shimCreateAnswer:eg,shimGetUserMedia:Wm,shimGetDisplayMedia:IC},Symbol.toStringTag,{value:"Module"}));function tg(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function ng(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function rg(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f},t.createAnswer=function(c,u){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return u?(f.then(c,u),Promise.resolve()):f};let l=function(a,c,u){const d=i.apply(this,[a]);return u?(d.then(c,u),Promise.resolve()):d};t.setLocalDescription=l,l=function(a,c,u){const d=o.apply(this,[a]);return u?(d.then(c,u),Promise.resolve()):d},t.setRemoteDescription=l,l=function(a,c,u){const d=s.apply(this,[a]);return u?(d.then(c,u),Promise.resolve()):d},t.addIceCandidate=l}function ig(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(og(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function og(e){return e&&e.video!==void 0?Object.assign({},e,{video:Nm(e.video)}):e}function sg(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(Ms("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function ag(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function lg(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function cg(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const md=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:tg,shimRemoteStreamsAPI:ng,shimCallbacksAPI:rg,shimGetUserMedia:ig,shimConstraints:og,shimRTCIceServerUrls:sg,shimTrackEventTransceiver:ag,shimCreateOfferLegacy:lg,shimAudioContext:cg},Symbol.toStringTag,{value:"Module"}));function Mo(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new t(r),o=Lo.parseCandidate(r.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Ar(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function oi(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const a=Lo.splitSections(l.sdp);return a.shift(),a.some(c=>{const u=Lo.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},i=function(l){let a=65536;return t.browser==="firefox"&&(t.version<57?l===-1?a=16384:a=2147483637:t.version<60?a=t.version===57?65535:65536:a=2147483637),a},o=function(l,a){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const u=Lo.matchPrefix(l.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substr(19),10):t.browser==="firefox"&&a!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=r(arguments[0]),c=i(a),u=o(arguments[0],a);let d;c===0&&u===0?d=Number.POSITIVE_INFINITY:c===0||u===0?d=Math.max(c,u):d=Math.min(c,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return s.apply(this,arguments)}}function si(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Ar(e,"datachannel",r=>(t(r.channel,r.target),r))}function Ul(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function $l(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Ao(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const LC=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:Mo,shimMaxMessageSize:oi,shimSendThrowTypeError:si,shimConnectionState:Ul,removeExtmapAllowMixed:$l,shimAddIceCandidateNullOrEmpty:Ao},Symbol.toStringTag,{value:"Module"}));function MC({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=Jc,r=RC(e),i={browserDetails:r,commonShim:LC,extractVersion:ii,disableLog:wC,disableWarnings:xC};switch(r.browser){case"chrome":if(!ud||!Bl||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=ud,Ao(e,r),Im(e,r),Lm(e),Bl(e,r),Mm(e),Fm(e,r),Am(e),jm(e),Bm(e),Um(e,r),Mo(e),Ul(e),oi(e,r),si(e),$l(e,r);break;case"firefox":if(!pd||!Fl||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=pd,Ao(e,r),Wm(e,r),Fl(e,r),Gm(e),Ym(e),Km(e),Jm(e),Qm(e),qm(e),Xm(e),Zm(e),eg(e),Mo(e),Ul(e),oi(e,r),si(e);break;case"edge":if(!hd||!zl||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=hd,$m(e),Vm(e),zl(e,r),Hm(e),oi(e,r),si(e);break;case"safari":if(!md||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=md,Ao(e,r),sg(e),lg(e),rg(e),tg(e),ng(e),ag(e),ig(e),cg(e),Mo(e),oi(e,r),si(e),$l(e,r);break;default:n("Unsupported browser!");break}return i}const gd=MC({window:typeof window>"u"?void 0:window});function Bt(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var ka=gd.default||gd,Qr=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),r=this.supportedBrowsers.includes(t);return r?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return ka.browserDetails.browser},e.prototype.getVersion=function(){return ka.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=ka.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),vd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},AC=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=vd,this.browser=Qr.getBrowser(),this.browserVersion=Qr.getVersion(),this.supports=function(){var t={browser:Qr.isBrowserSupported(),webRTC:Qr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(vd),t.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!Qr.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=sd.pack,this.unpack=sd.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],r=t.size,i=Math.ceil(r/K.chunkedMTU),o=0,s=0;s<r;){var l=Math.min(r,s+K.chunkedMTU),a=t.slice(s,l),c={__peerData:this._dataCount,n:o,data:a,total:i};n.push(c),s=l,o++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),K=new AC,ug={};Bt(ug,"Peer",()=>bd,e=>bd=e);var Vi={},jC=Object.prototype.hasOwnProperty,He="~";function Ai(){}Object.create&&(Ai.prototype=Object.create(null),new Ai().__proto__||(He=!1));function BC(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function fg(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new BC(n,r||e,i),s=He?He+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function jo(e,t){--e._eventsCount===0?e._events=new Ai:delete e._events[t]}function Ue(){this._events=new Ai,this._eventsCount=0}Ue.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)jC.call(n,r)&&t.push(He?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Ue.prototype.listeners=function(t){var n=He?He+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};Ue.prototype.listenerCount=function(t){var n=He?He+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Ue.prototype.emit=function(t,n,r,i,o,s){var l=He?He+t:t;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,u,d;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,i),!0;case 5:return a.fn.call(a.context,n,r,i,o),!0;case 6:return a.fn.call(a.context,n,r,i,o,s),!0}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];a.fn.apply(a.context,u)}else{var f=a.length,h;for(d=0;d<f;d++)switch(a[d].once&&this.removeListener(t,a[d].fn,void 0,!0),c){case 1:a[d].fn.call(a[d].context);break;case 2:a[d].fn.call(a[d].context,n);break;case 3:a[d].fn.call(a[d].context,n,r);break;case 4:a[d].fn.call(a[d].context,n,r,i);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];a[d].fn.apply(a[d].context,u)}}return!0};Ue.prototype.on=function(t,n,r){return fg(this,t,n,r,!1)};Ue.prototype.once=function(t,n,r){return fg(this,t,n,r,!0)};Ue.prototype.removeListener=function(t,n,r,i){var o=He?He+t:t;if(!this._events[o])return this;if(!n)return jo(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&jo(this,o);else{for(var l=0,a=[],c=s.length;l<c;l++)(s[l].fn!==n||i&&!s[l].once||r&&s[l].context!==r)&&a.push(s[l]);a.length?this._events[o]=a.length===1?a[0]:a:jo(this,o)}return this};Ue.prototype.removeAllListeners=function(t){var n;return t?(n=He?He+t:t,this._events[n]&&jo(this,n)):(this._events=new Ai,this._eventsCount=0),this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.addListener=Ue.prototype.on;Ue.prefixed=He;Ue.EventEmitter=Ue;Vi=Ue;var N={};Bt(N,"LogLevel",()=>Je,e=>Je=e);Bt(N,"default",()=>yd,e=>yd=e);var Nn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},In=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},zC="PeerJS: ",Je;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Je||(Je={}));var FC=function(){function e(){this._logLevel=Je.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Je.All&&this._print.apply(this,In([Je.All],Nn(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Je.Warnings&&this._print.apply(this,In([Je.Warnings],Nn(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Je.Errors&&this._print.apply(this,In([Je.Errors],Nn(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=In([zC],Nn(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=Je.All?console.log.apply(console,In([],Nn(i),!1)):t>=Je.Warnings?console.warn.apply(console,In(["WARNING"],Nn(i),!1)):t>=Je.Errors&&console.error.apply(console,In(["ERROR"],Nn(i),!1))},e}(),yd=new FC,dg={};Bt(dg,"Socket",()=>Sd,e=>Sd=e);var Et;(function(e){e.Data="data",e.Media="media"})(Et||(Et={}));var fe;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(fe||(fe={}));var Vt;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(Vt||(Vt={}));var Jt;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Jt||(Jt={}));var xe;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(xe||(xe={}));var Qc={};Qc=JSON.parse('{"name":"peerjs","version":"1.4.6","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"type":"module","sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.cjs","browser-unminified":"dist/peerjs.cjs","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"includeNodeModules":true,"context":"browser","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"includeNodeModules":true,"context":"browser","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build && cp dist/peerjs.cjs dist/peerjs.js && cp dist/peerjs.min.cjs dist/peerjs.min.js","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var UC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$C=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},VC=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},HC=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sd=function(e){UC(t,e);function t(n,r,i,o,s,l){l===void 0&&(l=5e3);var a=e.call(this)||this;a.pingInterval=l,a._disconnected=!0,a._messagesQueue=[];var c=n?"wss://":"ws://";return a._baseUrl=c+r+":"+i+o+"peerjs?key="+s,a}return t.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);!!this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+Qc.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),N.default.log("Server message received:",l)}catch{N.default.log("Invalid server message",s.data);return}i.emit(Jt.Message,l)},this._socket.onclose=function(s){i._disconnected||(N.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(Jt.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),N.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){N.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:xe.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,r,i=VC([],$C(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=HC(i),s=o.next();!s.done;s=o.next()){var l=s.value;this.send(l)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(Jt.Error,"Invalid message");return}if(!!this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(Vi.EventEmitter),Vl={};Bt(Vl,"MediaConnection",()=>_d,e=>_d=e);var qc={};Bt(qc,"Negotiator",()=>Cd,e=>Cd=e);var fs=function(){return fs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fs.apply(this,arguments)},go=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(d){s(d)}}function a(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},vo=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Cd=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Et.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===Et.Data){var r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){N.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;N.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(N.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),s.socket.send({type:xe.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":N.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":N.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":N.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=K.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},N.default.log("Listening for data channel"),t.ondatachannel=function(l){N.default.log("Received data channel");var a=l.channel,c=s.getConnection(r,i);c.initialize(a)},N.default.log("Listening for remote stream"),t.ontrack=function(l){N.default.log("Received remote stream");var a=l.streams[0],c=s.getConnection(r,i);if(c.type===Et.Media){var u=c;n._addStreamToMediaConnection(a,u)}}},e.prototype.cleanup=function(){N.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",r=!1;if(this.connection.type===Et.Data){var i=this.connection,o=i.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed")}(n||r)&&t.close()}},e.prototype._makeOffer=function(){return go(this,void 0,Promise,function(){var t,n,r,i,o,s,l;return vo(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=a.sent(),N.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return a.sent(),N.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:K.browser},this.connection.type===Et.Data&&(o=this.connection,i=fs(fs({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:xe.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return s=a.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(fe.WebRTC,s),N.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=a.sent(),n.emitError(fe.WebRTC,l),N.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return go(this,void 0,Promise,function(){var t,n,r,i,o;return vo(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=s.sent(),N.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return s.sent(),N.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:xe.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:K.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),n.emitError(fe.WebRTC,i),N.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),n.emitError(fe.WebRTC,o),N.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return go(this,void 0,Promise,function(){var r,i,o,s;return vo(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,N.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),N.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(fe.WebRTC,s),N.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return go(this,void 0,Promise,function(){var n,r,i,o,s,l;return vo(this,function(a){switch(a.label){case 0:N.default.log("handleCandidate:",t),n=t.candidate,r=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return a.sent(),N.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=a.sent(),s.emitError(fe.WebRTC,l),N.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(N.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return N.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(r){n.addTrack(r,t)})},e.prototype._addStreamToMediaConnection=function(t,n){N.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),Xc={};Bt(Xc,"BaseConnection",()=>kd,e=>kd=e);var WC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kd=function(e){WC(t,e);function t(n,r,i){var o=e.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(Vi.EventEmitter),GC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds=function(){return ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ds.apply(this,arguments)},KC=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_d=function(e){GC(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+K.randomToken(),o._negotiator=new qc.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Et.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){N.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case xe.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case xe.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:N.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,r){var i,o;if(r===void 0&&(r={}),this._localStream){N.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(ds(ds({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var l=KC(s),a=l.next();!a.done;a=l.next()){var c=a.value;this.handleMessage(c)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(Xc.BaseConnection),Hl={};Bt(Hl,"DataConnection",()=>Td,e=>Td=e);var hg={};Bt(hg,"EncodingQueue",()=>Ed,e=>Ed=e);var JC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ed=function(e){JC(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){N.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(Vi.EventEmitter),YC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QC=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Td=function(e){YC(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new hg.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+K.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||Vt.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){N.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new qc.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Et.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!K.supports.binaryBlob||K.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){N.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){N.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){N.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,s=this.serialization===Vt.Binary||this.serialization===Vt.BinaryUTF8,l=i;if(s){if(o===Blob){K.blobToArrayBuffer(i,function(c){var u=K.unpack(c);r.emit("data",u)});return}else if(o===ArrayBuffer)l=K.unpack(i);else if(o===String){var a=K.binaryStringToArrayBuffer(i);l=K.unpack(a)}}else this.serialization===Vt.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,r){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===Vt.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===Vt.Binary||this.serialization===Vt.BinaryUTF8){var i=K.pack(n);if(!r&&i.size>K.chunkedMTU){this._sendChunks(i);return}K.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return N.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var r,i,o=K.chunk(n);N.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=QC(o),l=s.next();!l.done;l=s.next()){var a=l.value;this.send(a,!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case xe.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case xe.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:N.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(Xc.BaseConnection),pg={};Bt(pg,"API",()=>Rd,e=>Rd=e);var wd=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(d){s(d)}}function a(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},xd=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Rd=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",r=this._options,i=r.host,o=r.port,s=r.path,l=r.key,a=new URL("".concat(n,"://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(t));return a.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),a.searchParams.set("version",Qc.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return wd(this,void 0,Promise,function(){var t,n,r;return xd(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=i.sent(),N.default.error("Error retrieving ID",n),r="",this._options.path==="/"&&this._options.host!==K.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return wd(this,void 0,Promise,function(){var t,n,r;return xd(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===K.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw r=i.sent(),N.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},e}(),qC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(){return vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vi.apply(this,arguments)},qr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},XC=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},bd=function(e){qC(t,e);function t(n,r){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=vi({debug:0,host:K.CLOUD_HOST,port:K.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:K.randomToken(),config:K.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==K.CLOUD_HOST?i._options.secure=K.isSecure():i._options.host==K.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&N.default.setLogFunction(i._options.logFunction),N.default.logLevel=i._options.debug||0,i._api=new pg.API(r),i._socket=i._createServerConnection(),!K.supports.audioVideo&&!K.supports.data?(i._delayedAbort(fe.BrowserIncompatible,"The current browser does not support WebRTC"),i):!!o&&!K.validateId(o)?(i._delayedAbort(fe.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(fe.ServerError,s)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=qr(this._connections),s=o.next();!s.done;s=o.next()){var l=XC(s.value,2),a=l[0],c=l[1];i[a]=c}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,r=new dg.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(Jt.Message,function(i){n._handleMessage(i)}),r.on(Jt.Error,function(i){n._abort(fe.SocketError,i)}),r.on(Jt.Disconnected,function(){n.disconnected||(n.emitError(fe.Network,"Lost connection to server."),n.disconnect())}),r.on(Jt.Close,function(){n.disconnected||n._abort(fe.SocketClosed,"Underlying socket is already closed.")}),r},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var r,i,o=n.type,s=n.payload,l=n.src;switch(o){case xe.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case xe.Error:this._abort(fe.ServerError,s.msg);break;case xe.IdTaken:this._abort(fe.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case xe.InvalidKey:this._abort(fe.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case xe.Leave:N.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case xe.Expire:this.emitError(fe.PeerUnavailable,"Could not connect to peer ".concat(l));break;case xe.Offer:var p=s.connectionId,g=this.getConnection(l,p);if(g&&(g.close(),N.default.warn("Offer received for existing Connection ID:".concat(p))),s.type===Et.Media){var a=new Vl.MediaConnection(l,this,{connectionId:p,_payload:s,metadata:s.metadata});g=a,this._addConnection(l,g),this.emit("call",a)}else if(s.type===Et.Data){var c=new Hl.DataConnection(l,this,{connectionId:p,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});g=c,this._addConnection(l,g),this.emit("connection",c)}else{N.default.warn("Received malformed connection type:".concat(s.type));return}var u=this._getMessages(p);try{for(var d=qr(u),f=d.next();!f.done;f=d.next()){var h=f.value;g.handleMessage(h)}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}break;default:if(!s){N.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var p=s.connectionId,g=this.getConnection(l,p);g&&g.peerConnection?g.handleMessage(n):p?this._storeMessage(p,n):N.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},t.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},t.prototype.connect=function(n,r){if(r===void 0&&(r={}),this.disconnected){N.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new Hl.DataConnection(n,this,r);return this._addConnection(n,i),i},t.prototype.call=function(n,r,i){if(i===void 0&&(i={}),this.disconnected){N.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(fe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){N.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new Vl.MediaConnection(n,this,vi(vi({},i),{_stream:r}));return this._addConnection(n,o),o},t.prototype._addConnection=function(n,r){N.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},t.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,r){var i,o,s=this._connections.get(n);if(!s)return null;try{for(var l=qr(s),a=l.next();!a.done;a=l.next()){var c=a.value;if(c.connectionId===r)return c}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},t.prototype._abort=function(n,r){N.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,r){N.default.error("Error:",r);var i;typeof r=="string"?i=new Error(r):i=r,i.type=n,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(N.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,r;try{for(var i=qr(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(!!o)try{for(var s=qr(o),l=s.next();!l.done;l=s.next()){var a=l.value;a.close()}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;N.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)N.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)N.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var r=this;n===void 0&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(fe.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(Vi.EventEmitter),ZC=ug.Peer;function ek(){const e=document.createElement("canvas");e.width=e.height=2;const t=e.getContext("2d");return t==null||t.fillRect(0,0,e.width,e.height),requestAnimationFrame(function n(){t==null||t.fillRect(0,0,e.width,e.height),requestAnimationFrame(n)}),e.captureStream(60).getTracks()[0]}function tk(){return navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{const t=e.getAudioTracks()[0];if(!t)throw new Error("No audio tracks provided");return new nk(t)})}class nk{constructor(t){this.mediaRequested=!1,this.onVideoTrackCb=null,this.vdTrack=ek(),this.stream=new MediaStream([t,this.vdTrack])}toggleVideo(){if(!this.mediaRequested)return navigator.mediaDevices.getUserMedia({video:!0}).then(n=>{const r=n.getVideoTracks()[0];if(!r)throw new Error("No video track provided");return this.stream.addTrack(r),this.stream.removeTrack(this.vdTrack),this.mediaRequested=!0,this.onVideoTrackCb&&this.onVideoTrackCb(r),!0}).catch(n=>(console.error(n),!1));let t=!0;return this.stream.getVideoTracks().forEach(n=>{n.enabled=t=t&&!n.enabled}),Promise.resolve(t)}toggleAudio(){let t=!0;return this.stream.getAudioTracks().forEach(n=>{n.enabled=t=t&&!n.enabled}),t}onVideoTrack(t){this.onVideoTrackCb=t}stop(){this.stream.getTracks().forEach(t=>t.stop())}}class rk{constructor(t){this.agentName=t,this.position=[0,0],this.pScrEl=document.scrollingElement||document.documentElement,this.lastScrEl=null,this.resetLastScrEl=()=>{this.lastScrEl=null},this.handleWScroll=o=>{o.target!==this.lastScrEl&&this.lastScrEl!=="window"&&this.resetLastScrEl()},this.mouse=document.createElement("div");const n=document.createElement("div"),r='<svg version="1.1" width="20" height="20" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="" viewBox="8.2 4.9 11.6 18.2"><polygon fill="#FFFFFF" points="8.2,20.9 8.2,4.9 19.8,16.5 13,16.5 12.6,16.6 "></polygon><polygon fill="#FFFFFF" points="17.3,21.6 13.7,23.1 9,12 12.7,10.5 "></polygon><rect x="12.5" y="13.6" transform="matrix(0.9221 -0.3871 0.3871 0.9221 -5.7605 6.5909)" width="2" height="8"></rect><polygon points="9.2,7.3 9.2,18.5 12.2,15.6 12.6,15.5 17.4,15.5 "></polygon></svg>';this.mouse.innerHTML=r,this.mouse.setAttribute("data-openreplay-hidden",""),Object.assign(n.style,{position:"absolute",padding:"4px 5px",borderRadius:"4px",backgroundColor:"#394EFF",color:"white",bottom:"-20px",left:"65%",fontSize:"12px",whiteSpace:"nowrap"});const i=this.agentName?this.agentName.length>10?this.agentName.slice(0,9)+"...":this.agentName:"Agent";n.innerHTML=`<span>${i}</span>`,this.mouse.appendChild(n),Object.assign(this.mouse.style,{position:"absolute",zIndex:"999998",pointerEvents:"none"})}mount(){document.body.appendChild(this.mouse),window.addEventListener("scroll",this.handleWScroll),window.addEventListener("resize",this.resetLastScrEl)}move(t){(this.position[0]!==t[0]||this.position[1]!==t[1])&&this.resetLastScrEl(),this.position=t,Object.assign(this.mouse.style,{left:`${t[0]||0}px`,top:`${t[1]||0}px`})}getPosition(){return this.position}click(t){const n=document.elementFromPoint(t[0],t[1]);return n instanceof HTMLElement?(n.click(),n.focus(),n):null}scroll(t){const[n,r]=this.position,[i,o]=t;let s=this.lastScrEl;if(s instanceof Element){s.scrollLeft+=i,s.scrollTop+=o;return}if(s==="window"){window.scroll(this.pScrEl.scrollLeft+i,this.pScrEl.scrollTop+o);return}for(s=document.elementFromPoint(n-this.pScrEl.scrollLeft,r-this.pScrEl.scrollTop);s;){if(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth){const l=getComputedStyle(s);if(l.overflow.indexOf("scroll")>=0||l.overflow.indexOf("auto")>=0){const a=s.scrollLeft,c=s.scrollTop;if(s.scrollLeft+=i,s.scrollTop+=o,a!==s.scrollLeft||c!==s.scrollTop){this.lastScrEl=s;return}}}s=s.parentElement}window.scroll(this.pScrEl.scrollLeft+i,this.pScrEl.scrollTop+o),this.lastScrEl="window"}remove(){this.mouse.parentElement&&document.body.removeChild(this.mouse),window.removeEventListener("scroll",this.handleWScroll),window.removeEventListener("resize",this.resetLastScrEl)}}function Pd(e,t){if(e instanceof HTMLButtonElement)return e;const n=document.createElement("button");return Object.assign(n.style,{padding:"10px 14px",fontSize:"14px",borderRadius:"3px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",textTransform:"uppercase",marginRight:"10px"},t),typeof e=="string"?n.innerHTML=e:(n.innerHTML=e.innerHTML,Object.assign(n.style,e.style)),n}class mg{constructor(t){this.resolve=()=>{},this.reject=()=>{};const n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("p");n.id="openreplay-confirm-window-wrapper",r.id="openreplay-confirm-window-popup",i.id="openreplay-confirm-window-p",i.innerText=t.text;const o=document.createElement("div");o.id="openreplay-confirm-window-buttons";const s=Pd(t.confirmBtn,{background:"rgba(0, 167, 47, 1)",color:"white"});s.id="openreplay-confirm-window-confirm-btn";const l=Pd(t.declineBtn,{background:"#FFE9E9",color:"#CC0000"});l.id="openreplay-confirm-window-decline-btn",o.appendChild(s),o.appendChild(l),r.appendChild(i),r.appendChild(o),Object.assign(o.style,{marginTop:"10px",display:"flex",alignItems:"center",backgroundColor:"white",padding:"10px",boxShadow:"0px 0px 3.99778px 1.99889px rgba(0, 0, 0, 0.1)",borderRadius:"6px"}),Object.assign(r.style,{font:"14px 'Roboto', sans-serif",position:"relative",pointerEvents:"auto",margin:"4em auto",width:"90%",maxWidth:"fit-content",padding:"20px",background:"#F3F3F3",color:"black",borderRadius:"3px",boxShadow:"0px 0px 3.99778px 1.99889px rgba(0, 0, 0, 0.1)"},t.style),Object.assign(n.style,{position:"fixed",left:0,top:0,height:"100%",width:"100%",pointerEvents:"none",zIndex:2147483647-1}),n.appendChild(r),n.setAttribute("data-openreplay-hidden",""),this.wrapper=n,s.onclick=()=>{this.resolve(!0)},l.onclick=()=>{this.resolve(!1)}}mount(){return document.body.appendChild(this.wrapper),new Promise((t,n)=>{this.resolve=t,this.reject=n})}_remove(){!this.wrapper.parentElement||this.wrapper.parentElement.removeChild(this.wrapper)}remove(){this._remove(),this.reject("no answer")}}const ik=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone" viewBox="0 0 16 16">
<path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
</svg>`,ok=ik.replace('fill="#ef5261"','fill="green"'),sk="Grant Remote Control",gg="Reject",ak=`${ok} &#xa0 Answer`;function vg(e,t,n,r){const i=typeof e=="string";return Object.assign({text:i?e:r,confirmBtn:t,declineBtn:n},i?void 0:e)}const lk=e=>vg(e,ak,gg,"You have an incoming call. Do you want to answer?"),ck=e=>vg(e,sk,gg,"Agent requested remote control. Allow?");var fn;(function(e){e[e.Disabled=0]="Disabled",e[e.Requesting=1]="Requesting",e[e.Enabled=2]="Enabled"})(fn||(fn={}));let yg=function(e){this.value=e};const _a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");_a&&_a.set&&(yg=_a.set);class uk{constructor(t,n,r){this.options=t,this.onGrand=n,this.onRelease=r,this.status=fn.Disabled,this.agentID=null,this.confirm=null,this.requestControl=i=>{if(this.agentID!==null){this.releaseControl();return}setTimeout(()=>{this.status===fn.Requesting&&this.releaseControl()},3e4),this.agentID=i,this.status=fn.Requesting,this.confirm=new mg(ck(this.options.controlConfirm)),this.confirm.mount().then(o=>{var s;o?this.grantControl(i):((s=this.confirm)===null||s===void 0||s.remove(),this.releaseControl())}).then(()=>{var o;(o=this.confirm)===null||o===void 0||o.remove()}).catch(o=>{var s;(s=this.confirm)===null||s===void 0||s.remove(),console.error(o)})},this.releaseControl=()=>{this.confirm&&(this.confirm.remove(),this.confirm=null),this.resetMouse(),this.status=fn.Disabled,sessionStorage.removeItem(this.options.session_control_peer_key),this.onRelease(this.agentID),this.agentID=null},this.grantControl=i=>{this.agentID=i,this.status=fn.Enabled,sessionStorage.setItem(this.options.session_control_peer_key,i);const o=this.onGrand(i);this.mouse&&this.resetMouse(),this.mouse=new rk(o),this.mouse.mount()},this.resetMouse=()=>{var i;(i=this.mouse)===null||i===void 0||i.remove(),this.mouse=null},this.scroll=(i,o)=>{var s;i===this.agentID&&((s=this.mouse)===null||s===void 0||s.scroll(o))},this.move=(i,o)=>{var s;i===this.agentID&&((s=this.mouse)===null||s===void 0||s.move(o))},this.focused=null,this.click=(i,o)=>{i!==this.agentID||!this.mouse||(this.focused=this.mouse.click(o))},this.focus=(i,o)=>{this.focused=o},this.input=(i,o)=>{if(!(i!==this.agentID||!this.mouse||!this.focused))if(this.focused instanceof HTMLTextAreaElement||this.focused instanceof HTMLInputElement){yg.call(this.focused,o);const s=new Event("input",{bubbles:!0});this.focused.dispatchEvent(s)}else this.focused.isContentEditable&&(this.focused.innerText=o)}}reconnect(t){const n=sessionStorage.getItem(this.options.session_control_peer_key);n!==null&&t.indexOf(n)!==-1?this.grantControl(n):sessionStorage.removeItem(this.options.session_control_peer_key)}}function fk(e,t,n){t.addEventListener("pointerdown",c,{passive:!0});let r,i,o,s,l=0,a=0;function c(h){i=h.clientX,o=h.clientY,r=e.getBoundingClientRect(),n.addEventListener("pointermove",u,{passive:!0}),n.addEventListener("pointerup",f,{passive:!0}),n.addEventListener("pointercancel",f,{passive:!0})}function u(h){s||(l+=h.clientX-i,a+=h.clientY-o,l=Math.min(Math.max(l,-r.left),window.innerWidth-r.right),a=Math.min(Math.max(a,-r.top),window.innerHeight-r.bottom),s=requestAnimationFrame(d))}function d(){e.style.transform="translate3d("+l+"px,"+a+"px, 0px)",s=null}function f(){n.removeEventListener("pointermove",u),n.removeEventListener("pointerup",f),n.removeEventListener("pointercancel",f),s&&(cancelAnimationFrame(s),s=null),e.style.left=r.left+l+"px",e.style.top=r.top+a+"px",e.style.transform="translate3d(0px,0px,0px)",l=a=0}}const Ea="__openreplay_assist_call_start_ts";class Od{constructor(t,n){this.logError=t,this.callUITemplate=n,this.vRemote=null,this.vLocal=null,this.audioBtn=null,this.videoBtn=null,this.endCallBtn=null,this.agentNameElem=null,this.videoContainer=null,this.vPlaceholder=null,this.remoteControlContainer=null,this.remoteControlEndBtn=null,this.controlsContainer=null,this.audioContainer=null,this.localStreams=[];const r=this.iframe=document.createElement("iframe");Object.assign(r.style,{position:"fixed",zIndex:2147483647-1,border:"none",bottom:"10px",right:"10px",height:"200px",width:"200px"}),r.setAttribute("data-openreplay-obscured",""),r.setAttribute("data-openreplay-hidden",""),r.setAttribute("data-openreplay-ignore",""),document.body.appendChild(r);const i=r.contentDocument;if(!i){console.error("OpenReplay: CallWindow iframe document is not reachable.");return}const o="https://static.openreplay.com/tracker-assist/4.0.0";this.load=fetch(this.callUITemplate||o+"/index.html").then(s=>s.text()).then(s=>{r.onload=()=>{const c=i.getElementById("or-assist");c==null||c.classList.remove("status-connecting"),this.adjustIframeSize(),r.onload=null},s=s.replace(/href="css/g,`href="${o}/css`),i.open(),i.write(s),i.close(),this.vLocal=i.getElementById("video-local"),this.vRemote=i.getElementById("video-remote"),this.videoContainer=i.getElementById("video-container"),this.audioBtn=i.getElementById("audio-btn"),this.audioBtn&&(this.audioBtn.onclick=()=>this.toggleAudio()),this.videoBtn=i.getElementById("video-btn"),this.videoBtn&&(this.videoBtn.onclick=()=>this.toggleVideo()),this.endCallBtn=i.getElementById("end-call-btn"),this.agentNameElem=i.getElementById("agent-name"),this.vPlaceholder=i.querySelector("#remote-stream p"),this.remoteControlContainer=i.getElementById("remote-control-row"),this.remoteControlEndBtn=i.getElementById("end-control-btn"),this.controlsContainer=i.getElementById("controls"),this.controlsContainer&&(this.controlsContainer.style.display="none");const l=i.getElementById("duration");if(l){const c=Number(sessionStorage.getItem(Ea))||Date.now();sessionStorage.setItem(Ea,c.toString()),this.tsInterval=setInterval(()=>{const d=~~((Date.now()-c)/1e3),f=~~(d/60),h=d-f*60;l.innerText=`${f}:${h<10?0:""}${h}`},500)}const a=i.querySelector(".drag-area");a&&fk(r,a,i.documentElement)})}adjustIframeSize(){const t=this.iframe.contentDocument;!t||(this.iframe.style.height=`${t.body.scrollHeight}px`,this.iframe.style.width=`${t.body.scrollWidth}px`)}addRemoteStream(t){this.load.then(()=>{if(this.vRemote&&!this.vRemote.srcObject){this.vRemote.srcObject=t,this.vPlaceholder&&(this.vPlaceholder.innerText="Video has been paused. Click anywhere to resume."),this.checkRemoteVideoInterval&&clearInterval(this.checkRemoteVideoInterval);let r=!1;this.checkRemoteVideoInterval=setInterval(()=>{var i;const o=(i=t.getVideoTracks()[0])===null||i===void 0?void 0:i.getSettings(),l=!(!!o&&(o.width===2||o.frameRate===0));r!==l&&this.toggleRemoteVideoUI(r=l)},1e3)}this.audioContainer||(this.audioContainer=document.createElement("div"),document.body.appendChild(this.audioContainer));const n=document.createElement("audio");n.autoplay=!0,n.style.display="none",n.srcObject=t,this.audioContainer.appendChild(n)}).catch(n=>this.logError(n))}toggleRemoteVideoUI(t){this.load.then(()=>{this.videoContainer&&(t?this.videoContainer.classList.add("remote"):this.videoContainer.classList.remove("remote"),this.adjustIframeSize())}).catch(n=>this.logError(n))}setLocalStreams(t){this.localStreams=t}playRemote(){this.vRemote&&this.vRemote.play()}setAssistentName(t){this.load.then(()=>{if(this.agentNameElem){const n=Array.from(t.values()).join(", "),r=n.length>20?n.substring(0,20)+"...":n;this.agentNameElem.innerText=r}}).catch(n=>this.logError(n))}toggleAudioUI(t){!this.audioBtn||(t?this.audioBtn.classList.remove("muted"):this.audioBtn.classList.add("muted"))}toggleAudio(){let t=!1;this.localStreams.forEach(n=>{t=n.toggleAudio()||!1}),this.toggleAudioUI(t)}toggleVideoUI(t){!this.videoBtn||!this.videoContainer||(t?(this.videoContainer.classList.add("local"),this.videoBtn.classList.remove("off")):(this.videoContainer.classList.remove("local"),this.videoBtn.classList.add("off")),this.adjustIframeSize())}toggleVideo(){this.localStreams.forEach(t=>{t.toggleVideo().then(n=>{this.toggleVideoUI(n),this.load.then(()=>{this.vLocal&&t&&!this.vLocal.srcObject&&(this.vLocal.srcObject=t.stream)}).catch(r=>this.logError(r))}).catch(n=>this.logError(n))})}showRemoteControl(t){this.load.then(()=>{this.remoteControlContainer&&(this.remoteControlContainer.style.display="flex"),this.remoteControlEndBtn&&(this.remoteControlEndBtn.onclick=t),this.adjustIframeSize()}).catch(n=>this.logError(n))}showControls(t){this.load.then(()=>{this.controlsContainer&&(this.controlsContainer.style.display="unset"),this.endCallBtn&&(this.endCallBtn.onclick=t),this.adjustIframeSize()}).catch(n=>this.logError(n))}hideControls(){this.controlsContainer&&(this.controlsContainer.style.display="none"),this.adjustIframeSize()}hideRemoteControl(){this.remoteControlContainer&&(this.remoteControlContainer.style.display="none"),this.adjustIframeSize()}remove(){clearInterval(this.tsInterval),clearInterval(this.checkRemoteVideoInterval),this.audioContainer&&this.audioContainer.parentElement&&(this.audioContainer.parentElement.removeChild(this.audioContainer),this.audioContainer=null),this.iframe.parentElement&&this.iframe.parentElement.removeChild(this.iframe),sessionStorage.removeItem(Ea),this.localStreams=[]}}class Dd{constructor(){this.ctx=null,this.painting=!1,this.resizeCanvas=()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight},this.lastPosition=[0,0],this.start=t=>{this.painting=!0,this.clrTmID&&clearTimeout(this.clrTmID),this.lastPosition=t},this.stop=()=>{!this.painting||(this.painting=!1,this.fadeOut())},this.move=t=>{!this.ctx||!this.painting||(this.ctx.globalAlpha=1,this.ctx.beginPath(),this.ctx.moveTo(this.lastPosition[0],this.lastPosition[1]),this.ctx.lineTo(t[0],t[1]),this.ctx.lineWidth=8,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.strokeStyle="red",this.ctx.stroke(),this.lastPosition=t)},this.clrTmID=null,this.canvas=document.createElement("canvas"),Object.assign(this.canvas.style,{position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:2147483647-2})}fadeOut(){let t;const n=()=>{!this.ctx||this.painting||(this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="rgba(255, 255, 255, 0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalCompositeOperation="source-over",t=setTimeout(n,100))};this.clrTmID=setTimeout(()=>{clearTimeout(t),this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},4e3),n()}mount(){document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas()}remove(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),window.removeEventListener("resize",this.resizeCanvas)}}var Ht;(function(e){e[e.Requesting=0]="Requesting",e[e.True=1]="True",e[e.False=2]="False"})(Ht||(Ht={}));class dk{constructor(t,n,r=!1){if(this.app=t,this.noSecureMode=r,this.version="4.1.1",this.socket=null,this.peer=null,this.assistDemandedRestart=!1,this.callingState=Ht.False,this.agents={},this.setCallingState=s=>{this.callingState=s},this.options=Object.assign({session_calling_peer_key:"__openreplay_calling_peer",session_control_peer_key:"__openreplay_control_peer",config:null,onCallStart:()=>{},onAgentConnect:()=>{},onRemoteControlStart:()=>{},callConfirm:{},controlConfirm:{}},n),document.hidden!==void 0){const s=()=>this.emit("UPDATE_SESSION",{active:!document.hidden});t.attachEventListener(document,"visibilitychange",s,!1,!1)}const i=document.querySelector("title"),o=i&&new MutationObserver(()=>{this.emit("UPDATE_SESSION",{pageTitle:document.title})});t.attachStartCallback(()=>{this.assistDemandedRestart||(this.onStart(),o&&o.observe(i,{subtree:!0,characterData:!0,childList:!0}))}),t.attachStopCallback(()=>{this.assistDemandedRestart||(this.clean(),o&&o.disconnect())}),t.attachCommitCallback(s=>{if(this.agentsConnected){if(s.length===2&&s[0]._id===0&&s[1]._id===49)return;this.emit("messages",s)}}),t.session.attachUpdateCallback(s=>this.emit("UPDATE_SESSION",s))}emit(t,...n){this.socket&&this.socket.emit(t,...n)}get agentsConnected(){return Object.keys(this.agents).length>0}onStart(){const t=this.app,n=t.getSessionID();if(!n)return t.debug.error("No session ID");const r=`${t.getProjectKey()}-${n}`,i=this.socket=Io(t.getHost(),{path:"/ws-assist/socket",query:{peerId:r,identity:"session",sessionInfo:JSON.stringify(Object.assign({pageTitle:document.title,active:!0},this.app.getSessionInfo()))},transports:["websocket"]});i.onAny((...C)=>t.debug.log("Socket:",...C));const o=new uk(this.options,C=>(h||(h=new Od(t.debug.error,this.options.callUITemplate)),h==null||h.showRemoteControl(o.releaseControl),this.agents[C].onControlReleased=this.options.onRemoteControlStart(),this.emit("control_granted",C),s=new Dd,s.mount(),l.get(C)),C=>{if(C){const k=this.agents[C].onControlReleased;delete this.agents[C].onControlReleased,typeof k=="function"&&k(),this.emit("control_rejected",C)}s!=null&&(s.remove(),s=null),h==null||h.hideRemoteControl(),this.callingState!==Ht.True&&(h==null||h.remove(),h=null)});i.on("request_control",o.requestControl),i.on("release_control",o.releaseControl),i.on("scroll",o.scroll),i.on("click",o.click),i.on("move",o.move),i.on("focus",(C,k)=>{const x=t.nodes.getNode(k);x instanceof HTMLElement&&o.focus(C,x)}),i.on("input",o.input);let s=null;i.on("moveAnnotation",(C,k)=>s&&s.move(k)),i.on("startAnnotation",(C,k)=>s&&s.start(k)),i.on("stopAnnotation",()=>s&&s.stop()),i.on("NEW_AGENT",(C,k)=>{var x,M;this.agents[C]=Object.assign({onDisconnect:(M=(x=this.options).onAgentConnect)===null||M===void 0?void 0:M.call(x)},k),this.assistDemandedRestart=!0,this.app.stop(),this.app.start().then(()=>{this.assistDemandedRestart=!1}).catch(b=>t.debug.error(b))}),i.on("AGENTS_CONNECTED",C=>{C.forEach(k=>{var x,M;this.agents[k]={onDisconnect:(M=(x=this.options).onAgentConnect)===null||M===void 0?void 0:M.call(x)}}),this.assistDemandedRestart=!0,this.app.stop(),this.app.start().then(()=>{this.assistDemandedRestart=!1}).catch(k=>t.debug.error(k)),o.reconnect(C)}),i.on("AGENT_DISCONNECTED",C=>{var k,x;o.releaseControl(),(x=(k=this.agents[C])===null||k===void 0?void 0:k.onDisconnect)===null||x===void 0||x.call(k),delete this.agents[C],u(C)}),i.on("NO_AGENT",()=>{Object.values(this.agents).forEach(C=>{var k;return(k=C.onDisconnect)===null||k===void 0?void 0:k.call(C)}),this.agents={}}),i.on("call_end",C=>{if(!l.has(C)){t.debug.warn("Received call_end from unknown agent",C);return}u(C)}),i.on("_agent_name",(C,k)=>{l.set(C,k),p()});const l=new Map,a={},c={};function u(C){l.delete(C),l.size===0?S():p()}const d={host:t.getHost(),path:"/assist",port:location.protocol==="http:"&&this.noSecureMode?80:443};this.options.config&&(d.config=this.options.config);const f=this.peer=new ZC(r,d);f.on("error",C=>t.debug.warn("Peer error: ",C.type,C)),f.on("disconnected",()=>f.reconnect());let h=null;function p(){h==null||h.setAssistentName(l)}let g=null,_=null;const v=()=>{g&&(g.remove(),g=null,_=null)},m=()=>_||(g=new mg(lk(this.options.callConfirm||{text:this.options.confirmText,style:this.options.confirmStyle})),_=g.mount().then(C=>(v(),C)));let y=null;const S=()=>{Object.values(a).forEach(C=>C.close()),Object.keys(a).forEach(C=>{delete a[C]}),Object.values(c).forEach(C=>{C.stop()}),Object.keys(c).forEach(C=>{delete c[C]}),v(),o.status===fn.Disabled?(h==null||h.remove(),s==null||s.remove(),h=null,s=null):h==null||h.hideControls(),this.emit("UPDATE_SESSION",{agentIds:[],isCallActive:!1}),this.setCallingState(Ht.False),sessionStorage.removeItem(this.options.session_calling_peer_key),y==null||y()},T=()=>{this.emit("call_end"),S()};f.on("call",C=>{t.debug.log("Incoming call: ",C);let k;JSON.parse(sessionStorage.getItem(this.options.session_calling_peer_key)||"[]").includes(C.peer)||this.callingState===Ht.True?k=Promise.resolve(!0):(this.setCallingState(Ht.Requesting),k=m(),this.playNotificationSound(),setTimeout(()=>{this.callingState===Ht.Requesting&&T()},3e4)),k.then(async M=>{var b,he;if(!M){T();return}try{c[C.peer]||(t.debug.log("starting new stream for",C.peer),c[C.peer]=await tk()),a[C.peer]=C}catch(ge){t.debug.error("Audio mediadevice request error:",ge),T();return}h||(h=new Od(t.debug.error,this.options.callUITemplate)),h.showControls(T),s||(s=new Dd,s.mount()),h.setLocalStreams(Object.values(c)),C.on("error",ge=>{t.debug.warn("Call error:",ge),T()}),C.on("stream",ge=>{h==null||h.addRemoteStream(ge);const H=()=>{h==null||h.playRemote(),document.removeEventListener("click",H)};document.addEventListener("click",H)}),c[C.peer].onVideoTrack(ge=>{const H=C.peerConnection.getSenders().find(et=>{var tt;return((tt=et.track)===null||tt===void 0?void 0:tt.kind)==="video"});if(!H){t.debug.warn("No video sender found");return}t.debug.log("sender found:",H),H.replaceTrack(ge)}),C.answer(c[C.peer].stream),this.setCallingState(Ht.True),y||(y=(he=(b=this.options).onCallStart)===null||he===void 0?void 0:he.call(b));const Ne=Object.keys(a);sessionStorage.setItem(this.options.session_calling_peer_key,JSON.stringify(Ne)),this.emit("UPDATE_SESSION",{agentIds:Ne,isCallActive:!0})}).catch(M=>{t.debug.log(M)})})}playNotificationSound(){"Audio"in window&&new Audio("https://static.openreplay.com/tracker-assist/notification.mp3").play().catch(t=>{this.app.debug.warn(t)})}clean(){this.peer&&(this.peer.destroy(),this.app.debug.log("Peer destroyed")),this.socket&&(this.socket.disconnect(),this.app.debug.log("Socket disconnected"))}}function hk(e){return function(t,n={}){var r;if(t===null||!(!((r=navigator==null?void 0:navigator.mediaDevices)===null||r===void 0)&&r.getUserMedia))return;if(!t.checkRequiredVersion||!t.checkRequiredVersion("3.5.14")){console.warn("OpenReplay Assist: couldn't load. The minimum required version of @openreplay/tracker@3.5.14 is not met");return}t.notify.log("OpenReplay Assist initializing.");const i=new dk(t,e,n.__DISABLE_SECURE_MODE);return t.debug.log(i),i}}const Sg=new I1({projectKey:"PyR18rN6EOFXo49pSxkk"});Sg.use(hk());function pk(){return B.exports.useEffect(()=>{Sg.start()},[]),pn("div",{children:[pn("nav",{children:[$(Of,{to:"/open-replay-demo/a",children:"page 1"}),$(Of,{to:"/open-replay-demo/b",children:"page 2"})]}),$(oS,{})]})}const mk="/open-replay-demo/assets/react.35ef61ed.svg";function gk(){const[e,t]=B.exports.useState(0);return pn("div",{className:"App",children:[$("div",{children:$("a",{href:"https://reactjs.org",target:"_blank",children:$("img",{src:mk,className:"logo react",alt:"React logo"})})}),$("h1",{children:"Vite + React"}),pn("div",{className:"card",children:[pn("button",{onClick:()=>t(n=>n+1),children:["count is ",e]}),pn("p",{children:["Edit ",$("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),$("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}function vk(){return $("p",{children:"page b"})}const yk=hS([{path:"/open-replay-demo/",element:$(pk,{}),children:[{path:"a/",element:$(gk,{})},{path:"b/",element:$(vk,{})}]}]);wa.createRoot(document.getElementById("root")).render($(Fd.StrictMode,{children:$(iS,{router:yk})}));
//# sourceMappingURL=index.2b1554dc.js.map
