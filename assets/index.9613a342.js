function lv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Symbol.for("react.element"),uv=Symbol.for("react.portal"),fv=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),pv=Symbol.for("react.provider"),mv=Symbol.for("react.context"),gv=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),vv=Symbol.for("react.memo"),Sv=Symbol.for("react.lazy"),Hu=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ph=Object.assign,Oh={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Oh,this.updater=n||xh}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dh(){}Dh.prototype=Br.prototype;function _c(e,t,n){this.props=e,this.context=t,this.refs=Oh,this.updater=n||xh}var kc=_c.prototype=new Dh;kc.constructor=_c;Ph(kc,Br.prototype);kc.isPureReactComponent=!0;var Wu=Array.isArray,Nh=Object.prototype.hasOwnProperty,wc={current:null},Ih={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Nh.call(t,r)&&!Ih.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Yi,type:e,key:o,ref:s,props:i,_owner:wc.current}}function Ev(e,t){return{$$typeof:Yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yi}function _v(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_v(""+e.key):t.toString(36)}function Lo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yi:case uv:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ca(s,0):r,Wu(i)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),Lo(i,t,n,"",function(c){return c})):i!=null&&(Tc(i)&&(i=Ev(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gu,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Wu(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+ca(o,l);s+=Lo(o,t,n,a,i)}else if(a=Cv(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+ca(o,l++),s+=Lo(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function lo(e,t,n){if(e==null)return e;var r=[],i=0;return Lo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Ao={transition:null},wv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:wc};V.Children={map:lo,forEach:function(e,t,n){lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lo(e,function(){t++}),t},toArray:function(e){return lo(e,function(t){return t})||[]},only:function(e){if(!Tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Br;V.Fragment=fv;V.Profiler=hv;V.PureComponent=_c;V.StrictMode=dv;V.Suspense=yv;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ph({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=wc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Nh.call(t,a)&&!Ih.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Yi,type:e.type,key:i,ref:o,props:r,_owner:s}};V.createContext=function(e){return e={$$typeof:mv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pv,_context:e},e.Consumer=e};V.createElement=Lh;V.createFactory=function(e){var t=Lh.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:gv,render:e}};V.isValidElement=Tc;V.lazy=function(e){return{$$typeof:Sv,_payload:{_status:-1,_result:e},_init:kv}};V.memo=function(e,t){return{$$typeof:vv,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=Ao.transition;Ao.transition={};try{e()}finally{Ao.transition=t}};V.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};V.useCallback=function(e,t){return Je.current.useCallback(e,t)};V.useContext=function(e){return Je.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};V.useEffect=function(e,t){return Je.current.useEffect(e,t)};V.useId=function(){return Je.current.useId()};V.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Je.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};V.useRef=function(e){return Je.current.useRef(e)};V.useState=function(e){return Je.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Je.current.useTransition()};V.version="18.2.0";(function(e){e.exports=V})(F);const Ah=cv(F.exports),Ya=lv({__proto__:null,default:Ah},[F.exports]);var Xa={},Mh={exports:{}},ut={},jh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,A){var B=O.length;O.push(A);e:for(;0<B;){var X=B-1>>>1,ae=O[X];if(0<i(ae,A))O[X]=A,O[B]=ae,B=X;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var A=O[0],B=O.pop();if(B!==A){O[0]=B;e:for(var X=0,ae=O.length,Vt=ae>>>1;X<Vt;){var Me=2*(X+1)-1,ot=O[Me],Re=Me+1,Nt=O[Re];if(0>i(ot,B))Re<ae&&0>i(Nt,ot)?(O[X]=Nt,O[Re]=B,X=Re):(O[X]=ot,O[Me]=B,X=Me);else if(Re<ae&&0>i(Nt,B))O[X]=Nt,O[Re]=B,X=Re;else break e}}return A}function i(O,A){var B=O.sortIndex-A.sortIndex;return B!==0?B:O.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,f=null,d=3,h=!1,p=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=O)r(c),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(c)}}function S(O){if(m=!1,v(O),!p)if(n(a)!==null)p=!0,it(w);else{var A=n(c);A!==null&&Ct(S,A.startTime-O)}}function w(O,A){p=!1,m&&(m=!1,y(b),b=-1),h=!0;var B=d;try{for(v(A),f=n(a);f!==null&&(!(f.expirationTime>A)||O&&!me());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var ae=X(f.expirationTime<=A);A=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(a)&&r(a),v(A)}else r(a);f=n(a)}if(f!==null)var Vt=!0;else{var Me=n(c);Me!==null&&Ct(S,Me.startTime-A),Vt=!1}return Vt}finally{f=null,d=B,h=!1}}var C=!1,_=null,b=-1,M=5,P=-1;function me(){return!(e.unstable_now()-P<M)}function Ae(){if(_!==null){var O=e.unstable_now();P=O;var A=!0;try{A=_(!0,O)}finally{A?ve():(C=!1,_=null)}}else C=!1}var ve;if(typeof g=="function")ve=function(){g(Ae)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,rt=W.port2;W.port1.onmessage=Ae,ve=function(){rt.postMessage(null)}}else ve=function(){E(Ae,0)};function it(O){_=O,C||(C=!0,ve())}function Ct(O,A){b=E(function(){O(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,it(w))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var B=d;d=A;try{return O()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=d;d=O;try{return A()}finally{d=B}},e.unstable_scheduleCallback=function(O,A,B){var X=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?X+B:X):B=X,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,O={id:u++,callback:A,priorityLevel:O,startTime:B,expirationTime:ae,sortIndex:-1},B>X?(O.sortIndex=B,t(c,O),n(a)===null&&O===n(c)&&(m?(y(b),b=-1):m=!0,Ct(S,B-X))):(O.sortIndex=ae,t(a,O),p||h||(p=!0,it(w))),O},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(O){var A=d;return function(){var B=d;d=A;try{return O.apply(this,arguments)}finally{d=B}}}})(Bh);(function(e){e.exports=Bh})(jh);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=F.exports,ct=jh.exports;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zh=new Set,Oi={};function or(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(Oi[e]=t,e=0;e<t.length;e++)zh.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,Tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},Ju={};function Rv(e){return Za.call(Ju,e)?!0:Za.call(Ku,e)?!1:Tv.test(e)?Ju[e]=!0:(Ku[e]=!0,!1)}function bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xv(e,t,n,r){if(t===null||typeof t>"u"||bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rc=/[\-:]([a-z])/g;function bc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rc,bc);Ne[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rc,bc);Ne[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rc,bc);Ne[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xc(e,t,n,r){var i=Ne.hasOwnProperty(t)?Ne[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xv(t,n,i,r)&&(n=null),r||i===null?Rv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,co=Symbol.for("react.element"),fr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Vh=Symbol.for("react.offscreen"),qu=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=qu&&e[qu]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,ua;function ci(e){if(ua===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ua=t&&t[1]||""}return`
`+ua+e}var fa=!1;function da(e,t){if(!e||fa)return"";fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{fa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function Pv(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=da(e.type,!1),e;case 11:return e=da(e.type.render,!1),e;case 1:return e=da(e.type,!0),e;default:return""}}function rl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case fr:return"Portal";case el:return"Profiler";case Pc:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $h:return(e.displayName||"Context")+".Consumer";case Uh:return(e._context.displayName||"Context")+".Provider";case Oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:rl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return rl(e(t))}catch{}}return null}function Ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(t);case 8:return t===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dv(e){var t=Hh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uo(e){e._valueTracker||(e._valueTracker=Dv(e))}function Wh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Qu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gh(e,t){t=t.checked,t!=null&&xc(e,"checked",t,!1)}function ol(e,t){Gh(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&sl(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sl(e,t,n){(t!=="number"||ns(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ui=Array.isArray;function wr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ui(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Kh(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,qh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nv=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){Nv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function Qh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function Yh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Iv=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(Iv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,Tr=null,Rr=null;function ef(e){if(e=eo(e)){if(typeof dl!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Fs(t),dl(e.stateNode,e.type,t))}}function Xh(e){Tr?Rr?Rr.push(e):Rr=[e]:Tr=e}function Zh(){if(Tr){var e=Tr,t=Rr;if(Rr=Tr=null,ef(e),t)for(e=0;e<t.length;e++)ef(t[e])}}function ep(e,t){return e(t)}function tp(){}var ha=!1;function np(e,t,n){if(ha)return e(t,n);ha=!0;try{return ep(e,t,n)}finally{ha=!1,(Tr!==null||Rr!==null)&&(tp(),Zh())}}function Ni(e,t){var n=e.stateNode;if(n===null)return null;var r=Fs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var hl=!1;if(on)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{hl=!1}function Lv(e,t,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ci=!1,rs=null,is=!1,pl=null,Av={onError:function(e){Ci=!0,rs=e}};function Mv(e,t,n,r,i,o,s,l,a){Ci=!1,rs=null,Lv.apply(Av,arguments)}function jv(e,t,n,r,i,o,s,l,a){if(Mv.apply(this,arguments),Ci){if(Ci){var c=rs;Ci=!1,rs=null}else throw Error(R(198));is||(is=!0,pl=c)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tf(e){if(sr(e)!==e)throw Error(R(188))}function Bv(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tf(i),e;if(o===r)return tf(i),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function ip(e){return e=Bv(e),e!==null?op(e):null}function op(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=op(e);if(t!==null)return t;e=e.sibling}return null}var sp=ct.unstable_scheduleCallback,nf=ct.unstable_cancelCallback,Fv=ct.unstable_shouldYield,zv=ct.unstable_requestPaint,pe=ct.unstable_now,Uv=ct.unstable_getCurrentPriorityLevel,Ic=ct.unstable_ImmediatePriority,ap=ct.unstable_UserBlockingPriority,os=ct.unstable_NormalPriority,$v=ct.unstable_LowPriority,lp=ct.unstable_IdlePriority,As=null,jt=null;function Vv(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(As,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Gv,Hv=Math.log,Wv=Math.LN2;function Gv(e){return e>>>=0,e===0?32:31-(Hv(e)/Wv|0)|0}var ho=64,po=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ss(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=fi(l):(o&=s,o!==0&&(r=fi(o)))}else s=n&~i,s!==0?r=fi(s):o!==0&&(r=fi(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),i=1<<n,r|=e[n],t&=~i;return r}function Kv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-xt(o),l=1<<s,a=i[s];a===-1?((l&n)===0||(l&r)!==0)&&(i[s]=Kv(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cp(){var e=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),e}function pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Y=0;function up(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var fp,Ac,dp,hp,pp,gl=!1,mo=[],wn=null,Tn=null,Rn=null,Ii=new Map,Li=new Map,gn=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Yr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=eo(t),t!==null&&Ac(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Yv(e,t,n,r,i){switch(t){case"focusin":return wn=Yr(wn,e,t,n,r,i),!0;case"dragenter":return Tn=Yr(Tn,e,t,n,r,i),!0;case"mouseover":return Rn=Yr(Rn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ii.set(o,Yr(Ii.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Li.set(o,Yr(Li.get(o)||null,e,t,n,r,i)),!0}return!1}function mp(e){var t=Hn(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=rp(n),t!==null){e.blockedOn=t,pp(e.priority,function(){dp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fl=r,n.target.dispatchEvent(r),fl=null}else return t=eo(n),t!==null&&Ac(t),e.blockedOn=n,!1;t.shift()}return!0}function of(e,t,n){Mo(e)&&n.delete(t)}function Xv(){gl=!1,wn!==null&&Mo(wn)&&(wn=null),Tn!==null&&Mo(Tn)&&(Tn=null),Rn!==null&&Mo(Rn)&&(Rn=null),Ii.forEach(of),Li.forEach(of)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Xv)))}function Ai(e){function t(i){return Xr(i,e)}if(0<mo.length){Xr(mo[0],e);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&Xr(wn,e),Tn!==null&&Xr(Tn,e),Rn!==null&&Xr(Rn,e),Ii.forEach(t),Li.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)mp(n),n.blockedOn===null&&gn.shift()}var br=cn.ReactCurrentBatchConfig,as=!0;function Zv(e,t,n,r){var i=Y,o=br.transition;br.transition=null;try{Y=1,Mc(e,t,n,r)}finally{Y=i,br.transition=o}}function e0(e,t,n,r){var i=Y,o=br.transition;br.transition=null;try{Y=4,Mc(e,t,n,r)}finally{Y=i,br.transition=o}}function Mc(e,t,n,r){if(as){var i=yl(e,t,n,r);if(i===null)wa(e,t,r,ls,n),rf(e,r);else if(Yv(i,e,t,n,r))r.stopPropagation();else if(rf(e,r),t&4&&-1<Qv.indexOf(e)){for(;i!==null;){var o=eo(i);if(o!==null&&fp(o),o=yl(e,t,n,r),o===null&&wa(e,t,r,ls,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wa(e,t,r,null,n)}}var ls=null;function yl(e,t,n,r){if(ls=null,e=Nc(r),e=Hn(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uv()){case Ic:return 1;case ap:return 4;case os:case $v:return 16;case lp:return 536870912;default:return 16}default:return 16}}var Cn=null,jc=null,jo=null;function yp(){if(jo)return jo;var e,t=jc,n=t.length,r,i="value"in Cn?Cn.value:Cn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return jo=i.slice(e,1<r?1-r:void 0)}function Bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function sf(){return!1}function ft(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?go:sf,this.isPropagationStopped=sf,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=ft(Fr),Zi=fe({},Fr,{view:0,detail:0}),t0=ft(Zi),ma,ga,Zr,Ms=fe({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(ma=e.screenX-Zr.screenX,ga=e.screenY-Zr.screenY):ga=ma=0,Zr=e),ma)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),af=ft(Ms),n0=fe({},Ms,{dataTransfer:0}),r0=ft(n0),i0=fe({},Zi,{relatedTarget:0}),ya=ft(i0),o0=fe({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=ft(o0),a0=fe({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l0=ft(a0),c0=fe({},Fr,{data:0}),lf=ft(c0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d0[e])?!!t[e]:!1}function Fc(){return h0}var p0=fe({},Zi,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m0=ft(p0),g0=fe({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=ft(g0),y0=fe({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),v0=ft(y0),S0=fe({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0=ft(S0),E0=fe({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=ft(E0),k0=[9,13,27,32],zc=on&&"CompositionEvent"in window,Ei=null;on&&"documentMode"in document&&(Ei=document.documentMode);var w0=on&&"TextEvent"in window&&!Ei,vp=on&&(!zc||Ei&&8<Ei&&11>=Ei),uf=String.fromCharCode(32),ff=!1;function Sp(e,t){switch(e){case"keyup":return k0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function T0(e,t){switch(e){case"compositionend":return Cp(t);case"keypress":return t.which!==32?null:(ff=!0,uf);case"textInput":return e=t.data,e===uf&&ff?null:e;default:return null}}function R0(e,t){if(hr)return e==="compositionend"||!zc&&Sp(e,t)?(e=yp(),jo=jc=Cn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vp&&t.locale!=="ko"?null:t.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b0[e.type]:t==="textarea"}function Ep(e,t,n,r){Xh(r),t=cs(t,"onChange"),0<t.length&&(n=new Bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _i=null,Mi=null;function x0(e){Np(e,0)}function js(e){var t=gr(e);if(Wh(t))return e}function P0(e,t){if(e==="change")return t}var _p=!1;if(on){var va;if(on){var Sa="oninput"in document;if(!Sa){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Sa=typeof hf.oninput=="function"}va=Sa}else va=!1;_p=va&&(!document.documentMode||9<document.documentMode)}function pf(){_i&&(_i.detachEvent("onpropertychange",kp),Mi=_i=null)}function kp(e){if(e.propertyName==="value"&&js(Mi)){var t=[];Ep(t,Mi,e,Nc(e)),np(x0,t)}}function O0(e,t,n){e==="focusin"?(pf(),_i=t,Mi=n,_i.attachEvent("onpropertychange",kp)):e==="focusout"&&pf()}function D0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(Mi)}function N0(e,t){if(e==="click")return js(t)}function I0(e,t){if(e==="input"||e==="change")return js(t)}function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:L0;function ji(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Za.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,t){var n=mf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mf(n)}}function wp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tp(){for(var e=window,t=ns();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ns(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A0(e){var t=Tp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wp(n.ownerDocument.documentElement,n)){if(r!==null&&Uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=gf(n,o);var s=gf(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var M0=on&&"documentMode"in document&&11>=document.documentMode,pr=null,vl=null,ki=null,Sl=!1;function yf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sl||pr==null||pr!==ns(r)||(r=pr,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ki&&ji(ki,r)||(ki=r,r=cs(vl,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Ca={},Rp={};on&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Bs(e){if(Ca[e])return Ca[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rp)return Ca[e]=t[n];return e}var bp=Bs("animationend"),xp=Bs("animationiteration"),Pp=Bs("animationstart"),Op=Bs("transitionend"),Dp=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Dp.set(e,t),or(t,[e])}for(var Ea=0;Ea<vf.length;Ea++){var _a=vf[Ea],j0=_a.toLowerCase(),B0=_a[0].toUpperCase()+_a.slice(1);Ln(j0,"on"+B0)}Ln(bp,"onAnimationEnd");Ln(xp,"onAnimationIteration");Ln(Pp,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Op,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Sf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jv(r,t,void 0,e),e.currentTarget=null}function Np(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Sf(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Sf(i,l,c),o=a}}}if(is)throw e=pl,is=!1,pl=null,e}function re(e,t){var n=t[wl];n===void 0&&(n=t[wl]=new Set);var r=e+"__bubble";n.has(r)||(Ip(t,e,2,!1),n.add(r))}function ka(e,t,n){var r=0;t&&(r|=4),Ip(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[vo]){e[vo]=!0,zh.forEach(function(n){n!=="selectionchange"&&(F0.has(n)||ka(n,!1,e),ka(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,ka("selectionchange",!1,t))}}function Ip(e,t,n,r){switch(gp(t)){case 1:var i=Zv;break;case 4:i=e0;break;default:i=Mc}n=i.bind(null,t,n,e),i=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function wa(e,t,n,r,i){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Hn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}np(function(){var c=o,u=Nc(n),f=[];e:{var d=Dp.get(e);if(d!==void 0){var h=Bc,p=e;switch(e){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":h=m0;break;case"focusin":p="focus",h=ya;break;case"focusout":p="blur",h=ya;break;case"beforeblur":case"afterblur":h=ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=v0;break;case bp:case xp:case Pp:h=s0;break;case Op:h=C0;break;case"scroll":h=t0;break;case"wheel":h=_0;break;case"copy":case"cut":case"paste":h=l0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cf}var m=(t&4)!==0,E=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Ni(g,y),S!=null&&m.push(Fi(g,S,v)))),E)break;g=g.return}0<m.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:m}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==fl&&(p=n.relatedTarget||n.fromElement)&&(Hn(p)||p[sn]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Hn(p):null,p!==null&&(E=sr(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=af,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=cf,S="onPointerLeave",y="onPointerEnter",g="pointer"),E=h==null?d:gr(h),v=p==null?d:gr(p),d=new m(S,g+"leave",h,n,u),d.target=E,d.relatedTarget=v,S=null,Hn(u)===c&&(m=new m(y,g+"enter",p,n,u),m.target=v,m.relatedTarget=E,S=m),E=S,h&&p)t:{for(m=h,y=p,g=0,v=m;v;v=ur(v))g++;for(v=0,S=y;S;S=ur(S))v++;for(;0<g-v;)m=ur(m),g--;for(;0<v-g;)y=ur(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=ur(m),y=ur(y)}m=null}else m=null;h!==null&&Cf(f,d,h,m,!1),p!==null&&E!==null&&Cf(f,E,p,m,!0)}}e:{if(d=c?gr(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=P0;else if(df(d))if(_p)w=I0;else{w=D0;var C=O0}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=N0);if(w&&(w=w(e,c))){Ep(f,w,n,u);break e}C&&C(e,d,c),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&sl(d,"number",d.value)}switch(C=c?gr(c):window,e){case"focusin":(df(C)||C.contentEditable==="true")&&(pr=C,vl=c,ki=null);break;case"focusout":ki=vl=pr=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,yf(f,n,u);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":yf(f,n,u)}var _;if(zc)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else hr?Sp(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(vp&&n.locale!=="ko"&&(hr||b!=="onCompositionStart"?b==="onCompositionEnd"&&hr&&(_=yp()):(Cn=u,jc="value"in Cn?Cn.value:Cn.textContent,hr=!0)),C=cs(c,b),0<C.length&&(b=new lf(b,e,null,n,u),f.push({event:b,listeners:C}),_?b.data=_:(_=Cp(n),_!==null&&(b.data=_)))),(_=w0?T0(e,n):R0(e,n))&&(c=cs(c,"onBeforeInput"),0<c.length&&(u=new lf("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=_))}Np(f,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ni(e,n),o!=null&&r.unshift(Fi(e,o,i)),o=Ni(e,t),o!=null&&r.push(Fi(e,o,i))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cf(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Ni(n,o),a!=null&&s.unshift(Fi(n,a,l))):i||(a=Ni(n,o),a!=null&&s.push(Fi(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var z0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(U0,"")}function So(e,t,n){if(t=Ef(t),Ef(e)!==t&&n)throw Error(R(425))}function us(){}var Cl=null,El=null;function _l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(e){return _f.resolve(null).then(e).catch(H0)}:kl;function H0(e){setTimeout(function(){throw e})}function Ta(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ai(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+zr,zi="__reactProps$"+zr,sn="__reactContainer$"+zr,wl="__reactEvents$"+zr,W0="__reactListeners$"+zr,G0="__reactHandles$"+zr;function Hn(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kf(e);e!==null;){if(n=e[Mt])return n;e=kf(e)}return t}e=n,n=e.parentNode}return null}function eo(e){return e=e[Mt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Fs(e){return e[zi]||null}var Tl=[],yr=-1;function An(e){return{current:e}}function ie(e){0>yr||(e.current=Tl[yr],Tl[yr]=null,yr--)}function ne(e,t){yr++,Tl[yr]=e.current,e.current=t}var In={},Ve=An(In),et=An(!1),er=In;function Nr(e,t){var n=e.type.contextTypes;if(!n)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function fs(){ie(et),ie(Ve)}function wf(e,t,n){if(Ve.current!==In)throw Error(R(168));ne(Ve,t),ne(et,n)}function Lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,Ov(e)||"Unknown",i));return fe({},n,r)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,er=Ve.current,ne(Ve,e),ne(et,et.current),!0}function Tf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Lp(e,t,er),r.__reactInternalMemoizedMergedChildContext=e,ie(et),ie(Ve),ne(Ve,e)):ie(et),ne(et,n)}var qt=null,zs=!1,Ra=!1;function Ap(e){qt===null?qt=[e]:qt.push(e)}function K0(e){zs=!0,Ap(e)}function Mn(){if(!Ra&&qt!==null){Ra=!0;var e=0,t=Y;try{var n=qt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,zs=!1}catch(i){throw qt!==null&&(qt=qt.slice(e+1)),sp(Ic,Mn),i}finally{Y=t,Ra=!1}}return null}var vr=[],Sr=0,hs=null,ps=0,ht=[],pt=0,tr=null,Qt=1,Yt="";function Un(e,t){vr[Sr++]=ps,vr[Sr++]=hs,hs=e,ps=t}function Mp(e,t,n){ht[pt++]=Qt,ht[pt++]=Yt,ht[pt++]=tr,tr=e;var r=Qt;e=Yt;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qt=1<<32-xt(t)+i|n<<i|r,Yt=o+e}else Qt=1<<o|n<<i|r,Yt=e}function $c(e){e.return!==null&&(Un(e,1),Mp(e,1,0))}function Vc(e){for(;e===hs;)hs=vr[--Sr],vr[Sr]=null,ps=vr[--Sr],vr[Sr]=null;for(;e===tr;)tr=ht[--pt],ht[pt]=null,Yt=ht[--pt],ht[pt]=null,Qt=ht[--pt],ht[pt]=null}var lt=null,at=null,se=!1,Rt=null;function jp(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tr!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,at=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(se){var t=at;if(t){var n=t;if(!Rf(e,t)){if(Rl(e))throw Error(R(418));t=bn(n.nextSibling);var r=lt;t&&Rf(e,t)?jp(r,n):(e.flags=e.flags&-4097|2,se=!1,lt=e)}}else{if(Rl(e))throw Error(R(418));e.flags=e.flags&-4097|2,se=!1,lt=e}}}function bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Co(e){if(e!==lt)return!1;if(!se)return bf(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_l(e.type,e.memoizedProps)),t&&(t=at)){if(Rl(e))throw Bp(),Error(R(418));for(;t;)jp(e,t),t=bn(t.nextSibling)}if(bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?bn(e.stateNode.nextSibling):null;return!0}function Bp(){for(var e=at;e;)e=bn(e.nextSibling)}function Ir(){at=lt=null,se=!1}function Hc(e){Rt===null?Rt=[e]:Rt.push(e)}var J0=cn.ReactCurrentBatchConfig;function kt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ms=An(null),gs=null,Cr=null,Wc=null;function Gc(){Wc=Cr=gs=null}function Kc(e){var t=ms.current;ie(ms),e._currentValue=t}function xl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){gs=e,Wc=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ze=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Wc!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(gs===null)throw Error(R(308));Cr=e,gs.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Wn=null;function Jc(e){Wn===null?Wn=[e]:Wn.push(e)}function Fp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Jc(t)):(n.next=i.next,i.next=n),t.interleaved=n,an(e,r)}function an(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(G&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,an(e,n)}return i=r.interleaved,i===null?(t.next=t,Jc(r)):(t.next=i.next,i.next=t),r.interleaved=t,an(e,n)}function Fo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lc(e,n)}}function xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ys(e,t,n,r){var i=e.updateQueue;mn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,u=c=a=null,l=o;do{var d=l.lane,h=l.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=fe({},f,d);break e;case 2:mn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=h,a=f):u=u.next=h,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);rr|=s,e.lanes=s,e.memoizedState=f}}function Pf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Up=new Fh.Component().refs;function Pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=On(e),o=en(r,i);o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,i),t!==null&&(Pt(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=On(e),o=en(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=xn(e,o,i),t!==null&&(Pt(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=On(e),i=en(n,r);i.tag=2,t!=null&&(i.callback=t),t=xn(e,i,r),t!==null&&(Pt(t,e,r,n),Fo(t,e,r))}};function Of(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ji(n,r)||!ji(i,o):!0}function $p(e,t,n){var r=!1,i=In,o=t.contextType;return typeof o=="object"&&o!==null?o=vt(o):(i=tt(t)?er:Ve.current,r=t.contextTypes,o=(r=r!=null)?Nr(e,i):In),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Df(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ol(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Up,qc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vt(o):(o=tt(t)?er:Ve.current,i.context=Nr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Us.enqueueReplaceState(i,i.state,null),ys(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===Up&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Vp(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Dn(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,S){return g===null||g.tag!==6?(g=Ia(v,y.mode,S),g.return=y,g):(g=i(g,v),g.return=y,g)}function a(y,g,v,S){var w=v.type;return w===dr?u(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pn&&Nf(w)===g.type)?(S=i(g,v.props),S.ref=ei(y,g,v),S.return=y,S):(S=Wo(v.type,v.key,v.props,null,y.mode,S),S.ref=ei(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=La(v,y.mode,S),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function u(y,g,v,S,w){return g===null||g.tag!==7?(g=Yn(v,y.mode,S,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ia(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case co:return v=Wo(g.type,g.key,g.props,null,y.mode,v),v.ref=ei(y,null,g),v.return=y,v;case fr:return g=La(g,y.mode,v),g.return=y,g;case pn:var S=g._init;return f(y,S(g._payload),v)}if(ui(g)||qr(g))return g=Yn(g,y.mode,v,null),g.return=y,g;Eo(y,g)}return null}function d(y,g,v,S){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:l(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case co:return v.key===w?a(y,g,v,S):null;case fr:return v.key===w?c(y,g,v,S):null;case pn:return w=v._init,d(y,g,w(v._payload),S)}if(ui(v)||qr(v))return w!==null?null:u(y,g,v,S,null);Eo(y,v)}return null}function h(y,g,v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,l(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case co:return y=y.get(S.key===null?v:S.key)||null,a(g,y,S,w);case fr:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,w);case pn:var C=S._init;return h(y,g,v,C(S._payload),w)}if(ui(S)||qr(S))return y=y.get(v)||null,u(g,y,S,w,null);Eo(g,S)}return null}function p(y,g,v,S){for(var w=null,C=null,_=g,b=g=0,M=null;_!==null&&b<v.length;b++){_.index>b?(M=_,_=null):M=_.sibling;var P=d(y,_,v[b],S);if(P===null){_===null&&(_=M);break}e&&_&&P.alternate===null&&t(y,_),g=o(P,g,b),C===null?w=P:C.sibling=P,C=P,_=M}if(b===v.length)return n(y,_),se&&Un(y,b),w;if(_===null){for(;b<v.length;b++)_=f(y,v[b],S),_!==null&&(g=o(_,g,b),C===null?w=_:C.sibling=_,C=_);return se&&Un(y,b),w}for(_=r(y,_);b<v.length;b++)M=h(_,y,b,v[b],S),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?b:M.key),g=o(M,g,b),C===null?w=M:C.sibling=M,C=M);return e&&_.forEach(function(me){return t(y,me)}),se&&Un(y,b),w}function m(y,g,v,S){var w=qr(v);if(typeof w!="function")throw Error(R(150));if(v=w.call(v),v==null)throw Error(R(151));for(var C=w=null,_=g,b=g=0,M=null,P=v.next();_!==null&&!P.done;b++,P=v.next()){_.index>b?(M=_,_=null):M=_.sibling;var me=d(y,_,P.value,S);if(me===null){_===null&&(_=M);break}e&&_&&me.alternate===null&&t(y,_),g=o(me,g,b),C===null?w=me:C.sibling=me,C=me,_=M}if(P.done)return n(y,_),se&&Un(y,b),w;if(_===null){for(;!P.done;b++,P=v.next())P=f(y,P.value,S),P!==null&&(g=o(P,g,b),C===null?w=P:C.sibling=P,C=P);return se&&Un(y,b),w}for(_=r(y,_);!P.done;b++,P=v.next())P=h(_,y,b,P.value,S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?b:P.key),g=o(P,g,b),C===null?w=P:C.sibling=P,C=P);return e&&_.forEach(function(Ae){return t(y,Ae)}),se&&Un(y,b),w}function E(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===dr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case co:e:{for(var w=v.key,C=g;C!==null;){if(C.key===w){if(w=v.type,w===dr){if(C.tag===7){n(y,C.sibling),g=i(C,v.props.children),g.return=y,y=g;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pn&&Nf(w)===C.type){n(y,C.sibling),g=i(C,v.props),g.ref=ei(y,C,v),g.return=y,y=g;break e}n(y,C);break}else t(y,C);C=C.sibling}v.type===dr?(g=Yn(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Wo(v.type,v.key,v.props,null,y.mode,S),S.ref=ei(y,g,v),S.return=y,y=S)}return s(y);case fr:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=La(v,y.mode,S),g.return=y,y=g}return s(y);case pn:return C=v._init,E(y,g,C(v._payload),S)}if(ui(v))return p(y,g,v,S);if(qr(v))return m(y,g,v,S);Eo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Ia(v,y.mode,S),g.return=y,y=g),s(y)):n(y,g)}return E}var Lr=Vp(!0),Hp=Vp(!1),to={},Bt=An(to),Ui=An(to),$i=An(to);function Gn(e){if(e===to)throw Error(R(174));return e}function Qc(e,t){switch(ne($i,t),ne(Ui,e),ne(Bt,to),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}ie(Bt),ne(Bt,t)}function Ar(){ie(Bt),ie(Ui),ie($i)}function Wp(e){Gn($i.current);var t=Gn(Bt.current),n=ll(t,e.type);t!==n&&(ne(Ui,e),ne(Bt,n))}function Yc(e){Ui.current===e&&(ie(Bt),ie(Ui))}var ce=An(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ba=[];function Xc(){for(var e=0;e<ba.length;e++)ba[e]._workInProgressVersionPrimary=null;ba.length=0}var zo=cn.ReactCurrentDispatcher,xa=cn.ReactCurrentBatchConfig,nr=0,ue=null,Ce=null,ke=null,Ss=!1,wi=!1,Vi=0,q0=0;function Fe(){throw Error(R(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function eu(e,t,n,r,i,o){if(nr=o,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zo.current=e===null||e.memoizedState===null?Z0:eS,e=n(r,i),wi){o=0;do{if(wi=!1,Vi=0,25<=o)throw Error(R(301));o+=1,ke=Ce=null,t.updateQueue=null,zo.current=tS,e=n(r,i)}while(wi)}if(zo.current=Cs,t=Ce!==null&&Ce.next!==null,nr=0,ke=Ce=ue=null,Ss=!1,t)throw Error(R(300));return e}function tu(){var e=Vi!==0;return Vi=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ue.memoizedState=ke=e:ke=ke.next=e,ke}function St(){if(Ce===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=ke===null?ue.memoizedState:ke.next;if(t!==null)ke=t,Ce=e;else{if(e===null)throw Error(R(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},ke===null?ue.memoizedState=ke=e:ke=ke.next=e}return ke}function Hi(e,t){return typeof t=="function"?t(e):t}function Pa(e){var t=St(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var u=c.lane;if((nr&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,ue.lanes|=u,rr|=u}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,Ot(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ue.lanes|=o,rr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=St(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ot(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gp(){}function Kp(e,t){var n=ue,r=St(),i=t(),o=!Ot(r.memoizedState,i);if(o&&(r.memoizedState=i,Ze=!0),r=r.queue,nu(Qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Wi(9,qp.bind(null,n,r,i,t),void 0,null),we===null)throw Error(R(349));(nr&30)!==0||Jp(n,t,i)}return i}function Jp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qp(e,t,n,r){t.value=n,t.getSnapshot=r,Yp(t)&&Xp(e)}function Qp(e,t,n){return n(function(){Yp(t)&&Xp(e)})}function Yp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Xp(e){var t=an(e,1);t!==null&&Pt(t,e,1,-1)}function If(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=X0.bind(null,ue,e),[t.memoizedState,e]}function Wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zp(){return St().memoizedState}function Uo(e,t,n,r){var i=Lt();ue.flags|=e,i.memoizedState=Wi(1|t,n,void 0,r===void 0?null:r)}function $s(e,t,n,r){var i=St();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var s=Ce.memoizedState;if(o=s.destroy,r!==null&&Zc(r,s.deps)){i.memoizedState=Wi(t,n,o,r);return}}ue.flags|=e,i.memoizedState=Wi(1|t,n,o,r)}function Lf(e,t){return Uo(8390656,8,e,t)}function nu(e,t){return $s(2048,8,e,t)}function em(e,t){return $s(4,2,e,t)}function tm(e,t){return $s(4,4,e,t)}function nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,n){return n=n!=null?n.concat([e]):null,$s(4,4,nm.bind(null,t,e),n)}function ru(){}function im(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function om(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sm(e,t,n){return(nr&21)===0?(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n):(Ot(n,t)||(n=cp(),ue.lanes|=n,rr|=n,e.baseState=!0),t)}function Q0(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=xa.transition;xa.transition={};try{e(!1),t()}finally{Y=n,xa.transition=r}}function am(){return St().memoizedState}function Y0(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lm(e))cm(t,n);else if(n=Fp(e,t,n,r),n!==null){var i=Ge();Pt(n,e,r,i),um(n,t,r)}}function X0(e,t,n){var r=On(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(e))cm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ot(l,s)){var a=t.interleaved;a===null?(i.next=i,Jc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Fp(e,t,i,r),n!==null&&(i=Ge(),Pt(n,e,r,i),um(n,t,r))}}function lm(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function cm(e,t){wi=Ss=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function um(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lc(e,n)}}var Cs={readContext:vt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Z0={readContext:vt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Lf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uo(4194308,4,nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Y0.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:ru,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=Q0.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,i=Lt();if(se){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),we===null)throw Error(R(349));(nr&30)!==0||Jp(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lf(Qp.bind(null,r,o,e),[e]),r.flags|=2048,Wi(9,qp.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lt(),t=we.identifierPrefix;if(se){var n=Yt,r=Qt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eS={readContext:vt,useCallback:im,useContext:vt,useEffect:nu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:Pa,useRef:Zp,useState:function(){return Pa(Hi)},useDebugValue:ru,useDeferredValue:function(e){var t=St();return sm(t,Ce.memoizedState,e)},useTransition:function(){var e=Pa(Hi)[0],t=St().memoizedState;return[e,t]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:am,unstable_isNewReconciler:!1},tS={readContext:vt,useCallback:im,useContext:vt,useEffect:nu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:Oa,useRef:Zp,useState:function(){return Oa(Hi)},useDebugValue:ru,useDeferredValue:function(e){var t=St();return Ce===null?t.memoizedState=e:sm(t,Ce.memoizedState,e)},useTransition:function(){var e=Oa(Hi)[0],t=St().memoizedState;return[e,t]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:am,unstable_isNewReconciler:!1};function Mr(e,t){try{var n="",r=t;do n+=Pv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Da(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nS=typeof WeakMap=="function"?WeakMap:Map;function fm(e,t,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_s||(_s=!0,Ul=r),Dl(e,t)},n}function dm(e,t,n){n=en(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Dl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Dl(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Af(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=gS.bind(null,e,t,n),t.then(e,e))}function Mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jf(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=en(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var rS=cn.ReactCurrentOwner,Ze=!1;function We(e,t,n,r){t.child=e===null?Hp(t,null,n,r):Lr(t,e.child,n,r)}function Bf(e,t,n,r,i){n=n.render;var o=t.ref;return xr(t,i),r=eu(e,t,n,r,o,i),n=tu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(se&&n&&$c(t),t.flags|=1,We(e,t,r,i),t.child)}function Ff(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!fu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,hm(e,t,o,r,i)):(e=Wo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(s,r)&&e.ref===t.ref)return ln(e,t,i)}return t.flags|=1,e=Dn(o,r),e.ref=t.ref,e.return=t,t.child=e}function hm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ji(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,ln(e,t,i)}return Nl(e,t,n,r,i)}function pm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(_r,st),st|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(_r,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ne(_r,st),st|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ne(_r,st),st|=r;return We(e,t,i,n),t.child}function mm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,i){var o=tt(n)?er:Ve.current;return o=Nr(t,o),xr(t,i),n=eu(e,t,n,r,o,i),r=tu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(se&&r&&$c(t),t.flags|=1,We(e,t,n,i),t.child)}function zf(e,t,n,r,i){if(tt(n)){var o=!0;ds(t)}else o=!1;if(xr(t,i),t.stateNode===null)$o(e,t),$p(t,n,r),Ol(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=vt(c):(c=tt(n)?er:Ve.current,c=Nr(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Df(t,s,r,c),mn=!1;var d=t.memoizedState;s.state=d,ys(t,r,s,i),a=t.memoizedState,l!==r||d!==a||et.current||mn?(typeof u=="function"&&(Pl(t,n,u,r),a=t.memoizedState),(l=mn||Of(t,n,l,r,d,a,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:kt(t.type,l),s.props=c,f=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=vt(a):(a=tt(n)?er:Ve.current,a=Nr(t,a));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Df(t,s,r,a),mn=!1,d=t.memoizedState,s.state=d,ys(t,r,s,i);var p=t.memoizedState;l!==f||d!==p||et.current||mn?(typeof h=="function"&&(Pl(t,n,h,r),p=t.memoizedState),(c=mn||Of(t,n,c,r,d,p,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,i)}function Il(e,t,n,r,i,o){mm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Tf(t,n,!1),ln(e,t,o);r=t.stateNode,rS.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Lr(t,e.child,null,o),t.child=Lr(t,null,l,o)):We(e,t,l,o),t.memoizedState=r.state,i&&Tf(t,n,!0),t.child}function gm(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),Qc(e,t.containerInfo)}function Uf(e,t,n,r,i){return Ir(),Hc(i),t.flags|=256,We(e,t,n,r),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var r=t.pendingProps,i=ce.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(ce,i&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ws(s,r,0,null),e=Yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Al(n),t.memoizedState=Ll,e):iu(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return iS(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return(s&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Dn(l,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Al(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Ll,r}return o=e.child,e=o.sibling,r=Dn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iu(e,t){return t=Ws({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _o(e,t,n,r){return r!==null&&Hc(r),Lr(t,e.child,null,n),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iS(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Da(Error(R(422))),_o(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ws({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Lr(t,e.child,null,s),t.child.memoizedState=Al(s),t.memoizedState=Ll,o);if((t.mode&1)===0)return _o(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(R(419)),r=Da(o,r,void 0),_o(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ze||l){if(r=we,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,an(e,i),Pt(r,e,i,-1))}return uu(),r=Da(Error(R(421))),_o(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,at=bn(i.nextSibling),lt=t,se=!0,Rt=null,e!==null&&(ht[pt++]=Qt,ht[pt++]=Yt,ht[pt++]=tr,Qt=e.id,Yt=e.overflow,tr=t),t=iu(t,r.children),t.flags|=4096,t)}function $f(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xl(e.return,t,n)}function Na(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(We(e,t,r.children,n),r=ce.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,n,t);else if(e.tag===19)$f(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ce,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Na(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Na(t,!0,n,null,o);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oS(e,t,n){switch(t.tag){case 3:gm(t),Ir();break;case 5:Wp(t);break;case 1:tt(t.type)&&ds(t);break;case 4:Qc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ne(ms,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ce,ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ym(e,t,n):(ne(ce,ce.current&1),e=ln(e,t,n),e!==null?e.sibling:null);ne(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return vm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return ln(e,t,n)}var Sm,Ml,Cm,Em;Sm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};Cm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gn(Bt.current);var o=null;switch(n){case"input":i=il(e,i),r=il(e,r),o=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),o=[];break;case"textarea":i=al(e,i),r=al(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=us)}cl(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&re("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Em=function(e,t,n,r){n!==r&&(t.flags|=4)};function ti(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sS(e,t,n){var r=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return tt(t.type)&&fs(),ze(t),null;case 3:return r=t.stateNode,Ar(),ie(et),ie(Ve),Xc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(Hl(Rt),Rt=null))),Ml(e,t),ze(t),null;case 5:Yc(t);var i=Gn($i.current);if(n=t.type,e!==null&&t.stateNode!=null)Cm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return ze(t),null}if(e=Gn(Bt.current),Co(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Mt]=t,r[zi]=o,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(i=0;i<di.length;i++)re(di[i],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Qu(r,o),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},re("invalid",r);break;case"textarea":Xu(r,o),re("invalid",r)}cl(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&So(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&So(r.textContent,l,e),i=["children",""+l]):Oi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&re("scroll",r)}switch(n){case"input":uo(r),Yu(r,o,!0);break;case"textarea":uo(r),Zu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=us)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Mt]=t,e[zi]=r,Sm(e,t,!1,!1),t.stateNode=e;e:{switch(s=ul(n,r),n){case"dialog":re("cancel",e),re("close",e),i=r;break;case"iframe":case"object":case"embed":re("load",e),i=r;break;case"video":case"audio":for(i=0;i<di.length;i++)re(di[i],e);i=r;break;case"source":re("error",e),i=r;break;case"img":case"image":case"link":re("error",e),re("load",e),i=r;break;case"details":re("toggle",e),i=r;break;case"input":Qu(e,r),i=il(e,r),re("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),re("invalid",e);break;case"textarea":Xu(e,r),i=al(e,r),re("invalid",e);break;default:i=r}cl(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Yh(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qh(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Di(e,a):typeof a=="number"&&Di(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&re("scroll",e):a!=null&&xc(e,o,a,s))}switch(n){case"input":uo(e),Yu(e,r,!1);break;case"textarea":uo(e),Zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?wr(e,!!r.multiple,o,!1):r.defaultValue!=null&&wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Em(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Gn($i.current),Gn(Bt.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:So(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return ze(t),null;case 13:if(ie(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&at!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bp(),Ir(),t.flags|=98560,o=!1;else if(o=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Mt]=t}else Ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else Rt!==null&&(Hl(Rt),Rt=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ce.current&1)!==0?Ee===0&&(Ee=3):uu())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Ar(),Ml(e,t),e===null&&Bi(t.stateNode.containerInfo),ze(t),null;case 10:return Kc(t.type._context),ze(t),null;case 17:return tt(t.type)&&fs(),ze(t),null;case 19:if(ie(ce),o=t.memoizedState,o===null)return ze(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ti(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=vs(e),s!==null){for(t.flags|=128,ti(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ce,ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&pe()>jr&&(t.flags|=128,r=!0,ti(o,!1),t.lanes=4194304)}else{if(!r)if(e=vs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ti(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!se)return ze(t),null}else 2*pe()-o.renderingStartTime>jr&&n!==1073741824&&(t.flags|=128,r=!0,ti(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pe(),t.sibling=null,n=ce.current,ne(ce,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return cu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(st&1073741824)!==0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function aS(e,t){switch(Vc(t),t.tag){case 1:return tt(t.type)&&fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),ie(et),ie(Ve),Xc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(ie(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ce),null;case 4:return Ar(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var ko=!1,$e=!1,lS=typeof WeakSet=="function"?WeakSet:Set,N=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function jl(e,t,n){try{n()}catch(r){de(e,t,r)}}var Vf=!1;function cS(e,t){if(Cl=as,e=Tp(),Uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=s),d===o&&++u===r&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(El={focusedElem:e,selectionRange:n},as=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var p=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,E=p.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:kt(t.type,m),E);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return p=Vf,Vf=!1,p}function Ti(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&jl(t,n,o)}i=i.next}while(i!==r)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[zi],delete t[wl],delete t[W0],delete t[G0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function km(e){return e.tag===5||e.tag===3||e.tag===4}function Hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=us));else if(r!==4&&(e=e.child,e!==null))for(Fl(e,t,n),e=e.sibling;e!==null;)Fl(e,t,n),e=e.sibling}function zl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}var be=null,wt=!1;function dn(e,t,n){for(n=n.child;n!==null;)wm(e,t,n),n=n.sibling}function wm(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 5:$e||Er(n,t);case 6:var r=be,i=wt;be=null,dn(e,t,n),be=r,wt=i,be!==null&&(wt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(wt?(e=be,n=n.stateNode,e.nodeType===8?Ta(e.parentNode,n):e.nodeType===1&&Ta(e,n),Ai(e)):Ta(be,n.stateNode));break;case 4:r=be,i=wt,be=n.stateNode.containerInfo,wt=!0,dn(e,t,n),be=r,wt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&jl(n,t,s),i=i.next}while(i!==r)}dn(e,t,n);break;case 1:if(!$e&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){de(n,t,l)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,dn(e,t,n),$e=r):dn(e,t,n);break;default:dn(e,t,n)}}function Wf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lS),t.forEach(function(r){var i=vS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,wt=!1;break e;case 3:be=l.stateNode.containerInfo,wt=!0;break e;case 4:be=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(be===null)throw Error(R(160));wm(o,s,i),be=null,wt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){de(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),It(e),r&4){try{Ti(3,e,e.return),Vs(3,e)}catch(m){de(e,e.return,m)}try{Ti(5,e,e.return)}catch(m){de(e,e.return,m)}}break;case 1:_t(t,e),It(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(_t(t,e),It(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var i=e.stateNode;try{Di(i,"")}catch(m){de(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Gh(i,o),ul(l,s);var c=ul(l,o);for(s=0;s<a.length;s+=2){var u=a[s],f=a[s+1];u==="style"?Yh(i,f):u==="dangerouslySetInnerHTML"?qh(i,f):u==="children"?Di(i,f):xc(i,u,f,c)}switch(l){case"input":ol(i,o);break;case"textarea":Kh(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?wr(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?wr(i,!!o.multiple,o.defaultValue,!0):wr(i,!!o.multiple,o.multiple?[]:"",!1))}i[zi]=o}catch(m){de(e,e.return,m)}}break;case 6:if(_t(t,e),It(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){de(e,e.return,m)}}break;case 3:if(_t(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(m){de(e,e.return,m)}break;case 4:_t(t,e),It(e);break;case 13:_t(t,e),It(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(au=pe())),r&4&&Wf(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?($e=(c=$e)||u,_t(t,e),$e=c):_t(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&(e.mode&1)!==0)for(N=e,u=e.child;u!==null;){for(f=N=u;N!==null;){switch(d=N,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ti(4,d,d.return);break;case 1:Er(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){de(r,n,m)}}break;case 5:Er(d,d.return);break;case 22:if(d.memoizedState!==null){Kf(f);continue}}h!==null?(h.return=d,N=h):Kf(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Qh("display",s))}catch(m){de(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){de(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_t(t,e),It(e),r&4&&Wf(e);break;case 21:break;default:_t(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Di(i,""),r.flags&=-33);var o=Hf(e);zl(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Hf(e);Fl(e,l,s);break;default:throw Error(R(161))}}catch(a){de(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uS(e,t,n){N=e,Rm(e)}function Rm(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var i=N,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ko;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||$e;l=ko;var c=$e;if(ko=s,($e=a)&&!c)for(N=i;N!==null;)s=N,a=s.child,s.tag===22&&s.memoizedState!==null?Jf(i):a!==null?(a.return=s,N=a):Jf(i);for(;o!==null;)N=o,Rm(o),o=o.sibling;N=i,ko=l,$e=c}Gf(e)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,N=o):Gf(e)}}function Gf(e){for(;N!==null;){var t=N;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$e||Vs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pf(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ai(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}$e||t.flags&512&&Bl(t)}catch(d){de(t,t.return,d)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function Kf(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function Jf(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(a){de(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){de(t,i,a)}}var o=t.return;try{Bl(t)}catch(a){de(t,o,a)}break;case 5:var s=t.return;try{Bl(t)}catch(a){de(t,s,a)}}}catch(a){de(t,t.return,a)}if(t===e){N=null;break}var l=t.sibling;if(l!==null){l.return=t.return,N=l;break}N=t.return}}var fS=Math.ceil,Es=cn.ReactCurrentDispatcher,ou=cn.ReactCurrentOwner,gt=cn.ReactCurrentBatchConfig,G=0,we=null,ge=null,De=0,st=0,_r=An(0),Ee=0,Gi=null,rr=0,Hs=0,su=0,Ri=null,Xe=null,au=0,jr=1/0,Gt=null,_s=!1,Ul=null,Pn=null,wo=!1,En=null,ks=0,bi=0,$l=null,Vo=-1,Ho=0;function Ge(){return(G&6)!==0?pe():Vo!==-1?Vo:Vo=pe()}function On(e){return(e.mode&1)===0?1:(G&2)!==0&&De!==0?De&-De:J0.transition!==null?(Ho===0&&(Ho=cp()),Ho):(e=Y,e!==0||(e=window.event,e=e===void 0?16:gp(e.type)),e)}function Pt(e,t,n,r){if(50<bi)throw bi=0,$l=null,Error(R(185));Xi(e,n,r),((G&2)===0||e!==we)&&(e===we&&((G&2)===0&&(Hs|=n),Ee===4&&yn(e,De)),nt(e,r),n===1&&G===0&&(t.mode&1)===0&&(jr=pe()+500,zs&&Mn()))}function nt(e,t){var n=e.callbackNode;Jv(e,t);var r=ss(e,e===we?De:0);if(r===0)n!==null&&nf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nf(n),t===1)e.tag===0?K0(qf.bind(null,e)):Ap(qf.bind(null,e)),V0(function(){(G&6)===0&&Mn()}),n=null;else{switch(up(r)){case 1:n=Ic;break;case 4:n=ap;break;case 16:n=os;break;case 536870912:n=lp;break;default:n=os}n=Lm(n,bm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bm(e,t){if(Vo=-1,Ho=0,(G&6)!==0)throw Error(R(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=ss(e,e===we?De:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=ws(e,r);else{t=r;var i=G;G|=2;var o=Pm();(we!==e||De!==t)&&(Gt=null,jr=pe()+500,Qn(e,t));do try{pS();break}catch(l){xm(e,l)}while(1);Gc(),Es.current=o,G=i,ge!==null?t=0:(we=null,De=0,t=Ee)}if(t!==0){if(t===2&&(i=ml(e),i!==0&&(r=i,t=Vl(e,i))),t===1)throw n=Gi,Qn(e,0),yn(e,r),nt(e,pe()),n;if(t===6)yn(e,r);else{if(i=e.current.alternate,(r&30)===0&&!dS(i)&&(t=ws(e,r),t===2&&(o=ml(e),o!==0&&(r=o,t=Vl(e,o))),t===1))throw n=Gi,Qn(e,0),yn(e,r),nt(e,pe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:$n(e,Xe,Gt);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=au+500-pe(),10<t)){if(ss(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kl($n.bind(null,e,Xe,Gt),t);break}$n(e,Xe,Gt);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fS(r/1960))-r,10<r){e.timeoutHandle=kl($n.bind(null,e,Xe,Gt),r);break}$n(e,Xe,Gt);break;case 5:$n(e,Xe,Gt);break;default:throw Error(R(329))}}}return nt(e,pe()),e.callbackNode===n?bm.bind(null,e):null}function Vl(e,t){var n=Ri;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=ws(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Hl(t)),e}function Hl(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function dS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ot(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~su,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function qf(e){if((G&6)!==0)throw Error(R(327));Pr();var t=ss(e,0);if((t&1)===0)return nt(e,pe()),null;var n=ws(e,t);if(e.tag!==0&&n===2){var r=ml(e);r!==0&&(t=r,n=Vl(e,r))}if(n===1)throw n=Gi,Qn(e,0),yn(e,t),nt(e,pe()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,Xe,Gt),nt(e,pe()),null}function lu(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(jr=pe()+500,zs&&Mn())}}function ir(e){En!==null&&En.tag===0&&(G&6)===0&&Pr();var t=G;G|=1;var n=gt.transition,r=Y;try{if(gt.transition=null,Y=1,e)return e()}finally{Y=r,gt.transition=n,G=t,(G&6)===0&&Mn()}}function cu(){st=_r.current,ie(_r)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$0(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fs();break;case 3:Ar(),ie(et),ie(Ve),Xc();break;case 5:Yc(r);break;case 4:Ar();break;case 13:ie(ce);break;case 19:ie(ce);break;case 10:Kc(r.type._context);break;case 22:case 23:cu()}n=n.return}if(we=e,ge=e=Dn(e.current,null),De=st=t,Ee=0,Gi=null,su=Hs=rr=0,Xe=Ri=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Wn=null}return e}function xm(e,t){do{var n=ge;try{if(Gc(),zo.current=Cs,Ss){for(var r=ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ss=!1}if(nr=0,ke=Ce=ue=null,wi=!1,Vi=0,ou.current=null,n===null||n.return===null){Ee=1,Gi=t,ge=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=De,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,f=u.tag;if((u.mode&1)===0&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Mf(s);if(h!==null){h.flags&=-257,jf(h,s,l,o,t),h.mode&1&&Af(o,c,t),t=h,a=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(a),t.updateQueue=m}else p.add(a);break e}else{if((t&1)===0){Af(o,c,t),uu();break e}a=Error(R(426))}}else if(se&&l.mode&1){var E=Mf(s);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),jf(E,s,l,o,t),Hc(Mr(a,l));break e}}o=a=Mr(a,l),Ee!==4&&(Ee=2),Ri===null?Ri=[o]:Ri.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=fm(o,a,t);xf(o,y);break e;case 1:l=a;var g=o.type,v=o.stateNode;if((o.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pn===null||!Pn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=dm(o,l,t);xf(o,S);break e}}o=o.return}while(o!==null)}Dm(n)}catch(w){t=w,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(1)}function Pm(){var e=Es.current;return Es.current=Cs,e===null?Cs:e}function uu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),we===null||(rr&268435455)===0&&(Hs&268435455)===0||yn(we,De)}function ws(e,t){var n=G;G|=2;var r=Pm();(we!==e||De!==t)&&(Gt=null,Qn(e,t));do try{hS();break}catch(i){xm(e,i)}while(1);if(Gc(),G=n,Es.current=r,ge!==null)throw Error(R(261));return we=null,De=0,Ee}function hS(){for(;ge!==null;)Om(ge)}function pS(){for(;ge!==null&&!Fv();)Om(ge)}function Om(e){var t=Im(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Dm(e):ge=t,ou.current=null}function Dm(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=sS(n,t,st),n!==null){ge=n;return}}else{if(n=aS(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,ge=null;return}}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Ee===0&&(Ee=5)}function $n(e,t,n){var r=Y,i=gt.transition;try{gt.transition=null,Y=1,mS(e,t,n,r)}finally{gt.transition=i,Y=r}return null}function mS(e,t,n,r){do Pr();while(En!==null);if((G&6)!==0)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(qv(e,o),e===we&&(ge=we=null,De=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||wo||(wo=!0,Lm(os,function(){return Pr(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=gt.transition,gt.transition=null;var s=Y;Y=1;var l=G;G|=4,ou.current=null,cS(e,n),Tm(n,e),A0(El),as=!!Cl,El=Cl=null,e.current=n,uS(n),zv(),G=l,Y=s,gt.transition=o}else e.current=n;if(wo&&(wo=!1,En=e,ks=i),o=e.pendingLanes,o===0&&(Pn=null),Vv(n.stateNode),nt(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_s)throw _s=!1,e=Ul,Ul=null,e;return(ks&1)!==0&&e.tag!==0&&Pr(),o=e.pendingLanes,(o&1)!==0?e===$l?bi++:(bi=0,$l=e):bi=0,Mn(),null}function Pr(){if(En!==null){var e=up(ks),t=gt.transition,n=Y;try{if(gt.transition=null,Y=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,ks=0,(G&6)!==0)throw Error(R(331));var i=G;for(G|=4,N=e.current;N!==null;){var o=N,s=o.child;if((N.flags&16)!==0){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(N=c;N!==null;){var u=N;switch(u.tag){case 0:case 11:case 15:Ti(8,u,o)}var f=u.child;if(f!==null)f.return=u,N=f;else for(;N!==null;){u=N;var d=u.sibling,h=u.return;if(_m(u),u===c){N=null;break}if(d!==null){d.return=h,N=d;break}N=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}N=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,N=s;else e:for(;N!==null;){if(o=N,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Ti(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,N=y;break e}N=o.return}}var g=e.current;for(N=g;N!==null;){s=N;var v=s.child;if((s.subtreeFlags&2064)!==0&&v!==null)v.return=s,N=v;else e:for(s=g;N!==null;){if(l=N,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Vs(9,l)}}catch(w){de(l,l.return,w)}if(l===s){N=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,N=S;break e}N=l.return}}if(G=i,Mn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(As,e)}catch{}r=!0}return r}finally{Y=n,gt.transition=t}}return!1}function Qf(e,t,n){t=Mr(n,t),t=fm(e,t,1),e=xn(e,t,1),t=Ge(),e!==null&&(Xi(e,1,t),nt(e,t))}function de(e,t,n){if(e.tag===3)Qf(e,e,n);else for(;t!==null;){if(t.tag===3){Qf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Mr(n,e),e=dm(t,e,1),t=xn(t,e,1),e=Ge(),t!==null&&(Xi(t,1,e),nt(t,e));break}}t=t.return}}function gS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(De&n)===n&&(Ee===4||Ee===3&&(De&130023424)===De&&500>pe()-au?Qn(e,0):su|=n),nt(e,t)}function Nm(e,t){t===0&&((e.mode&1)===0?t=1:(t=po,po<<=1,(po&130023424)===0&&(po=4194304)));var n=Ge();e=an(e,t),e!==null&&(Xi(e,t,n),nt(e,n))}function yS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nm(e,n)}function vS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Nm(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ze=!1,oS(e,t,n);Ze=(e.flags&131072)!==0}else Ze=!1,se&&(t.flags&1048576)!==0&&Mp(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$o(e,t),e=t.pendingProps;var i=Nr(t,Ve.current);xr(t,n),i=eu(null,t,r,e,i,n);var o=tu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,ds(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qc(t),i.updater=Us,t.stateNode=i,i._reactInternals=t,Ol(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,se&&o&&$c(t),We(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($o(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=CS(r),e=kt(r,e),i){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=zf(null,t,r,e,n);break e;case 11:t=Bf(null,t,r,e,n);break e;case 14:t=Ff(null,t,r,kt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Nl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),zf(e,t,r,i,n);case 3:e:{if(gm(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,i=o.element,zp(e,t),ys(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Mr(Error(R(423)),t),t=Uf(e,t,r,n,i);break e}else if(r!==i){i=Mr(Error(R(424)),t),t=Uf(e,t,r,n,i);break e}else for(at=bn(t.stateNode.containerInfo.firstChild),lt=t,se=!0,Rt=null,n=Hp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===i){t=ln(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Wp(t),e===null&&bl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,_l(r,i)?s=null:o!==null&&_l(r,o)&&(t.flags|=32),mm(e,t),We(e,t,s,n),t.child;case 6:return e===null&&bl(t),null;case 13:return ym(e,t,n);case 4:return Qc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Bf(e,t,r,i,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ne(ms,r._currentValue),r._currentValue=s,o!==null)if(Ot(o.value,s)){if(o.children===i.children&&!et.current){t=ln(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=en(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xl(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xl(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}We(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xr(t,n),i=vt(i),r=r(i),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,i=kt(r,t.pendingProps),i=kt(r.type,i),Ff(e,t,r,i,n);case 15:return hm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),$o(e,t),t.tag=1,tt(r)?(e=!0,ds(t)):e=!1,xr(t,n),$p(t,r,i),Ol(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return vm(e,t,n);case 22:return pm(e,t,n)}throw Error(R(156,t.tag))};function Lm(e,t){return sp(e,t)}function SS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new SS(e,t,n,r)}function fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CS(e){if(typeof e=="function")return fu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oc)return 11;if(e===Dc)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wo(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")fu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case dr:return Yn(n.children,i,o,t);case Pc:s=8,i|=8;break;case el:return e=mt(12,n,t,i|2),e.elementType=el,e.lanes=o,e;case tl:return e=mt(13,n,t,i),e.elementType=tl,e.lanes=o,e;case nl:return e=mt(19,n,t,i),e.elementType=nl,e.lanes=o,e;case Vh:return Ws(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uh:s=10;break e;case $h:s=9;break e;case Oc:s=11;break e;case Dc:s=14;break e;case pn:s=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=mt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Ws(e,t,n,r){return e=mt(22,e,r,t),e.elementType=Vh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ia(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function La(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ES(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function du(e,t,n,r,i,o,s,l,a){return e=new ES(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(o),e}function _S(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Am(e){if(!e)return In;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(tt(n))return Lp(e,n,t)}return t}function Mm(e,t,n,r,i,o,s,l,a){return e=du(n,r,!0,e,i,o,s,l,a),e.context=Am(null),n=e.current,r=Ge(),i=On(n),o=en(r,i),o.callback=t!=null?t:null,xn(n,o,i),e.current.lanes=i,Xi(e,i,r),nt(e,r),e}function Gs(e,t,n,r){var i=t.current,o=Ge(),s=On(i);return n=Am(n),t.context===null?t.context=n:t.pendingContext=n,t=en(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(i,t,s),e!==null&&(Pt(e,i,s,o),Fo(e,i,s)),s}function Ts(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hu(e,t){Yf(e,t),(e=e.alternate)&&Yf(e,t)}function kS(){return null}var jm=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}Ks.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Gs(e,t,null,null)};Ks.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){Gs(null,e,null,null)}),t[sn]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=hp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&mp(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function wS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ts(s);o.call(c)}}var s=Mm(t,r,e,0,null,!1,!1,"",Xf);return e._reactRootContainer=s,e[sn]=s.current,Bi(e.nodeType===8?e.parentNode:e),ir(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Ts(a);l.call(c)}}var a=du(e,0,!1,null,null,!1,!1,"",Xf);return e._reactRootContainer=a,e[sn]=a.current,Bi(e.nodeType===8?e.parentNode:e),ir(function(){Gs(t,a,n,r)}),a}function qs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ts(s);l.call(a)}}Gs(t,s,e,i)}else s=wS(n,t,e,i,r);return Ts(s)}fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(Lc(t,n|1),nt(t,pe()),(G&6)===0&&(jr=pe()+500,Mn()))}break;case 13:ir(function(){var r=an(e,1);if(r!==null){var i=Ge();Pt(r,e,1,i)}}),hu(e,1)}};Ac=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var n=Ge();Pt(t,e,134217728,n)}hu(e,134217728)}};dp=function(e){if(e.tag===13){var t=On(e),n=an(e,t);if(n!==null){var r=Ge();Pt(n,e,t,r)}hu(e,t)}};hp=function(){return Y};pp=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};dl=function(e,t,n){switch(t){case"input":if(ol(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fs(r);if(!i)throw Error(R(90));Wh(r),ol(r,i)}}}break;case"textarea":Kh(e,n);break;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}};ep=lu;tp=ir;var TS={usingClientEntryPoint:!1,Events:[eo,gr,Fs,Xh,Zh,lu]},ni={findFiberByHostInstance:Hn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RS={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ip(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||kS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{As=To.inject(RS),jt=To}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TS;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(t))throw Error(R(200));return _S(e,t,null,n)};ut.createRoot=function(e,t){if(!mu(e))throw Error(R(299));var n=!1,r="",i=jm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=du(e,1,!1,null,null,n,!1,r,i),e[sn]=t.current,Bi(e.nodeType===8?e.parentNode:e),new pu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=ip(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return ir(e)};ut.hydrate=function(e,t,n){if(!Js(t))throw Error(R(200));return qs(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!mu(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=jm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Mm(t,null,e,1,n!=null?n:null,i,!1,o,s),e[sn]=t.current,Bi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ks(t)};ut.render=function(e,t,n){if(!Js(t))throw Error(R(200));return qs(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Js(e))throw Error(R(40));return e._reactRootContainer?(ir(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};ut.unstable_batchedUpdates=lu;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Js(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return qs(e,t,n,!1,r)};ut.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ut})(Mh);var Zf=Mh.exports;Xa.createRoot=Zf.createRoot,Xa.hydrateRoot=Zf.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var Se;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Se||(Se={}));const ed="popstate";function bS(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:l}=r.location;return Xn("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dt(i)}return PS(t,n,null,e)}function xS(){return Math.random().toString(36).substr(2,8)}function td(e){return{usr:e.state,key:e.key}}function Xn(e,t,n,r){return n===void 0&&(n=null),le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?un(t):t,{state:n,key:t&&t.key||r||xS()})}function Dt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function un(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ki(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof e=="string"?e:Dt(e);return new URL(n,t)}function PS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Se.Pop,a=null;function c(){l=Se.Pop,a&&a({action:l,location:d.location})}function u(h,p){l=Se.Push;let m=Xn(d.location,h,p);n&&n(m,h);let E=td(m),y=d.createHref(m);try{s.pushState(E,"",y)}catch{i.location.assign(y)}o&&a&&a({action:l,location:d.location})}function f(h,p){l=Se.Replace;let m=Xn(d.location,h,p);n&&n(m,h);let E=td(m),y=d.createHref(m);s.replaceState(E,"",y),o&&a&&a({action:l,location:d.location})}let d={get action(){return l},get location(){return e(i,s)},listen(h){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ed,c),a=h,()=>{i.removeEventListener(ed,c),a=null}},createHref(h){return t(i,h)},encodeLocation(h){let p=Ki(Dt(h));return le({},h,{pathname:p.pathname,search:p.search,hash:p.hash})},push:u,replace:f,go(h){return s.go(h)}};return d}var xe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xe||(xe={}));function OS(e){return e.index===!0}function Bm(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let o=[...t,i],s=typeof r.id=="string"?r.id:o.join("-");return $(r.index!==!0||!r.children,"Cannot specify children on an index route"),$(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),OS(r)?le({},r,{id:s}):le({},r,{id:s,children:r.children?Bm(r.children,o,n):void 0})})}function hi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?un(t):t,i=zm(r.pathname||"/",n);if(i==null)return null;let o=Fm(e);DS(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=zS(o[l],VS(i));return s}function Fm(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&($(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let l=tn([r,s.relativePath]),a=n.concat(s);i.children&&i.children.length>0&&($(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Fm(i.children,t,a,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:BS(l,i.index),routesMeta:a})}),t}function DS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NS=/^:\w+$/,IS=3,LS=2,AS=1,MS=10,jS=-2,nd=e=>e==="*";function BS(e,t){let n=e.split("/"),r=n.length;return n.some(nd)&&(r+=jS),t&&(r+=LS),n.filter(i=>!nd(i)).reduce((i,o)=>i+(NS.test(o)?IS:o===""?AS:MS),r)}function FS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zS(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",u=US({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let f=l.route;o.push({params:r,pathname:tn([i,u.pathname]),pathnameBase:KS(tn([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=tn([i,u.pathnameBase]))}return o}function US(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$S(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,f)=>{if(u==="*"){let d=l[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=HS(l[f]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:e}}function $S(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,l)=>(r.push(l),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function VS(e){try{return decodeURI(e)}catch(t){return gu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HS(e,t){try{return decodeURIComponent(e)}catch(n){return gu(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function zm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?un(e):e;return{pathname:n?n.startsWith("/")?n:GS(n,t):t,search:JS(r),hash:qS(i)}}function GS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Aa(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qs(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yu(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=un(e):(i=le({},e),$(!i.pathname||!i.pathname.includes("?"),Aa("?","pathname","search",i)),$(!i.pathname||!i.pathname.includes("#"),Aa("#","pathname","hash",i)),$(!i.search||!i.search.includes("#"),Aa("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let f=t.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?t[f]:"/"}let a=WS(i,l),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),KS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class rd extends Error{}class QS{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,$(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((i,o)=>n=o),this.controller=new AbortController;let r=()=>n(new rd("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(t).reduce((i,o)=>{let[s,l]=o;return Object.assign(i,{[s]:this.trackPromise(s,l)})},{})}trackPromise(t,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){if(this.controller.signal.aborted&&r instanceof rd)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const o=this.subscriber;return r?(Object.defineProperty(t,"_error",{get:()=>r}),o&&o(!1),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),o&&o(!1),i)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let t=this.subscriber;t&&t(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return $(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:XS(i)})},{})}}function YS(e){return e instanceof Promise&&e._tracked===!0}function XS(e){if(!YS(e))return e;if(e._error)throw e._error;return e._data}class Ur{constructor(t,n,r){this.status=t,this.statusText=n||"",this.data=r}}function Um(e){return e instanceof Ur}const Ma={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ZS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t1=!e1;function n1(e){$(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=Bm(e.routes),n=null,r=new Set,i=null,o=null,s=null,l=!1,a=hi(t,e.history.location,e.basename),c=null;if(a==null){let{matches:T,route:x,error:D}=ld(t);a=T,c={[x.id]:D}}let u=!a.some(T=>T.route.loader)||e.hydrationData!=null,f,d={historyAction:e.history.action,location:e.history.location,matches:a,initialized:u,navigation:Ma,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map},h=Se.Pop,p=!1,m,E=!1,y=!1,g=[],v=[],S=new Map,w=0,C=-1,_=new Map,b=new Set,M=new Map,P=new Map;function me(){return n=e.history.listen(T=>{let{action:x,location:D}=T;return O(x,D)}),d.initialized||O(Se.Pop,d.location),f}function Ae(){n&&n(),r.clear(),m&&m.abort(),d.fetchers.forEach((T,x)=>_e(x))}function ve(T){return r.add(T),()=>r.delete(T)}function W(T){d=le({},d,T),r.forEach(x=>x(d))}function rt(T,x){var D;let j=d.actionData!=null&&d.navigation.formMethod!=null&&d.navigation.state==="loading"&&((D=d.navigation.formAction)==null?void 0:D.split("?")[0])===T.pathname,z=x.loaderData?{loaderData:Ba(d.loaderData,x.loaderData,x.matches||[])}:{};W(le({},j?{}:{actionData:null},x,z,{historyAction:h,location:T,initialized:!0,navigation:Ma,revalidation:"idle",restoreScrollPosition:d.navigation.formData?!1:zu(T,x.matches||d.matches),preventScrollReset:p})),E||h===Se.Pop||(h===Se.Push?e.history.push(T,T.state):h===Se.Replace&&e.history.replace(T,T.state)),h=Se.Pop,p=!1,E=!1,y=!1,g=[],v=[]}async function it(T,x){if(typeof T=="number"){e.history.go(T);return}let{path:D,submission:j,error:z}=id(T,x),J=Xn(d.location,D,x&&x.state);J=e.history.encodeLocation(J);let Q=(x&&x.replace)===!0||j!=null?Se.Replace:Se.Push,Z=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0;return await O(Q,J,{submission:j,pendingError:z,preventScrollReset:Z,replace:x&&x.replace})}function Ct(){if(Nt(),W({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){O(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}O(h||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function O(T,x,D){m&&m.abort(),m=null,h=T,E=(D&&D.startUninterruptedRevalidation)===!0,iv(d.location,d.matches),p=(D&&D.preventScrollReset)===!0;let j=D&&D.overrideNavigation,z=hi(t,x,e.basename);if(!z){let{matches:je,route:ar,error:Ht}=ld(t);aa(),rt(x,{matches:je,loaderData:{},errors:{[ar.id]:Ht}});return}if(l1(d.location,x)){rt(x,{matches:z});return}m=new AbortController;let J=ii(x,m.signal,D&&D.submission),Q,Z;if(D&&D.pendingError)Z={[kr(z).route.id]:D.pendingError};else if(D&&D.submission){let je=await A(J,x,D.submission,z,{replace:D.replace});if(je.shortCircuited)return;Q=je.pendingActionData,Z=je.pendingActionError,j=le({state:"loading",location:x},D.submission)}let{shortCircuited:ee,loaderData:te,errors:oe}=await B(J,x,z,j,D&&D.submission,D&&D.replace,Q,Z);ee||(m=null,rt(x,{matches:z,loaderData:te,errors:oe}))}async function A(T,x,D,j,z){Nt();let J=le({state:"submitting",location:x},D);W({navigation:J});let Q,Z=hd(j,x);if(!Z.route.action)Q=cd(x);else if(Q=await ri("action",T,Z,j,f.basename),T.signal.aborted)return{shortCircuited:!0};if(Or(Q)){let ee=le({state:"loading",location:Xn(d.location,Q.location)},D);return await ot(Q,ee,z&&z.replace),{shortCircuited:!0}}if(xi(Q)){let ee=kr(j,Z.route.id);return(z&&z.replace)!==!0&&(h=Se.Push),{pendingActionError:{[ee.route.id]:Q.error}}}if(Kn(Q))throw new Error("defer() is not supported in actions");return{pendingActionData:{[Z.route.id]:Q.data}}}async function B(T,x,D,j,z,J,Q,Z){let ee=j;ee||(ee={state:"loading",location:x,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[te,oe]=od(d,D,z,x,y,g,v,Q,Z,M);if(aa(Be=>!(D&&D.some(Qe=>Qe.route.id===Be))||te&&te.some(Qe=>Qe.route.id===Be)),te.length===0&&oe.length===0)return rt(x,{matches:D,loaderData:Ba(d.loaderData,{},D),errors:Z||null,actionData:Q||null}),{shortCircuited:!0};E||(oe.forEach(Be=>{let[Qe]=Be,cr=d.fetchers.get(Qe),Jr={state:"loading",data:cr&&cr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(Qe,Jr)}),W(le({navigation:ee,actionData:Q||d.actionData||null},oe.length>0?{fetchers:new Map(d.fetchers)}:{}))),C=++w,oe.forEach(Be=>{let[Qe]=Be;return S.set(Qe,m)});let{results:je,loaderResults:ar,fetcherResults:Ht}=await Re(d.matches,D,te,oe,T);if(T.signal.aborted)return{shortCircuited:!0};oe.forEach(Be=>{let[Qe]=Be;return S.delete(Qe)});let Bn=ud(je);if(Bn){let Be=ja(d,Bn);return await ot(Bn,Be,J),{shortCircuited:!0}}let{loaderData:la,errors:ao}=ad(d,D,te,ar,Z,oe,Ht,P);P.forEach((Be,Qe)=>{Be.subscribe(cr=>{(cr||Be.done)&&P.delete(Qe)})}),nv();let lr=Fu(C);return le({loaderData:la,errors:ao},lr||oe.length>0?{fetchers:new Map(d.fetchers)}:{})}function X(T){return d.fetchers.get(T)||ZS}function ae(T,x,D,j){if(t1)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");S.has(T)&&jn(T);let z=hi(t,D,e.basename);if(!z){Kr(T,x,new Ur(404,"Not Found",null));return}let{path:J,submission:Q}=id(D,j,!0),Z=hd(z,J);if(Q){Vt(T,x,J,Z,z,Q);return}M.set(T,[J,Z,z]),Me(T,x,J,Z,z)}async function Vt(T,x,D,j,z,J){if(Nt(),M.delete(T),!j.route.action){let{error:Et}=cd(D);Kr(T,x,Et);return}let Q=d.fetchers.get(T),Z=le({state:"submitting"},J,{data:Q&&Q.data});d.fetchers.set(T,Z),W({fetchers:new Map(d.fetchers)});let ee=new AbortController,te=ii(D,ee.signal,J);S.set(T,ee);let oe=await ri("action",te,j,z,f.basename);if(te.signal.aborted){S.get(T)===ee&&S.delete(T);return}if(Or(oe)){S.delete(T),b.add(T);let Et=le({state:"loading"},J,{data:void 0});d.fetchers.set(T,Et),W({fetchers:new Map(d.fetchers)});let Wt=le({state:"loading",location:Xn(d.location,oe.location)},J);await ot(oe,Wt);return}if(xi(oe)){Kr(T,x,oe.error);return}Kn(oe)&&$(!1,"defer() is not supported in actions");let je=d.navigation.location||d.location,ar=ii(je,ee.signal),Ht=d.navigation.state!=="idle"?hi(t,d.navigation.location,e.basename):d.matches;$(Ht,"Didn't find any matches after fetcher action");let Bn=++w;_.set(T,Bn);let la=le({state:"loading",data:oe.data},J);d.fetchers.set(T,la);let[ao,lr]=od(d,Ht,J,je,y,g,v,{[j.route.id]:oe.data},void 0,M);lr.filter(Et=>{let[Wt]=Et;return Wt!==T}).forEach(Et=>{let[Wt]=Et,Vu=d.fetchers.get(Wt),av={state:"loading",data:Vu&&Vu.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(Wt,av),S.set(Wt,ee)}),W({fetchers:new Map(d.fetchers)});let{results:Be,loaderResults:Qe,fetcherResults:cr}=await Re(d.matches,Ht,ao,lr,ar);if(ee.signal.aborted)return;_.delete(T),S.delete(T),lr.forEach(Et=>{let[Wt]=Et;return S.delete(Wt)});let Jr=ud(Be);if(Jr){let Et=ja(d,Jr);await ot(Jr,Et);return}let{loaderData:Uu,errors:$u}=ad(d,d.matches,ao,Qe,void 0,lr,cr,P),ov={state:"idle",data:oe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(T,ov);let sv=Fu(Bn);d.navigation.state==="loading"&&Bn>C?($(h,"Expected pending action"),m&&m.abort(),rt(d.navigation.location,{matches:Ht,loaderData:Uu,errors:$u,fetchers:new Map(d.fetchers)})):(W(le({errors:$u,loaderData:Ba(d.loaderData,Uu,Ht)},sv?{fetchers:new Map(d.fetchers)}:{})),y=!1)}async function Me(T,x,D,j,z){let J=d.fetchers.get(T),Q={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:J&&J.data};d.fetchers.set(T,Q),W({fetchers:new Map(d.fetchers)});let Z=new AbortController,ee=ii(D,Z.signal);S.set(T,Z);let te=await ri("loader",ee,j,z,f.basename);if(Kn(te)&&(te=await Wm(te,ee.signal,!0)||te),S.get(T)===Z&&S.delete(T),ee.signal.aborted)return;if(Or(te)){let je=ja(d,te);await ot(te,je);return}if(xi(te)){let je=kr(d.matches,x);d.fetchers.delete(T),W({fetchers:new Map(d.fetchers),errors:{[je.route.id]:te.error}});return}$(!Kn(te),"Unhandled fetcher deferred data");let oe={state:"idle",data:te.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(T,oe),W({fetchers:new Map(d.fetchers)})}async function ot(T,x,D){T.revalidate&&(y=!0),$(x.location,"Expected a location on the redirect navigation"),m=null;let j=D===!0?Se.Replace:Se.Push;await O(j,x.location,{overrideNavigation:x})}async function Re(T,x,D,j,z){let J=await Promise.all([...D.map(ee=>ri("loader",z,ee,x,f.basename)),...j.map(ee=>{let[,te,oe,je]=ee;return ri("loader",ii(te,z.signal),oe,je,f.basename)})]),Q=J.slice(0,D.length),Z=J.slice(D.length);return await Promise.all([fd(T,D,Q,z.signal,!1,d.loaderData),fd(T,j.map(ee=>{let[,,te]=ee;return te}),Z,z.signal,!0)]),{results:J,loaderResults:Q,fetcherResults:Z}}function Nt(){y=!0,g.push(...aa()),M.forEach((T,x)=>{S.has(x)&&(v.push(x),jn(x))})}function Kr(T,x,D){let j=kr(d.matches,x);_e(T),W({errors:{[j.route.id]:D},fetchers:new Map(d.fetchers)})}function _e(T){S.has(T)&&jn(T),M.delete(T),_.delete(T),b.delete(T),d.fetchers.delete(T)}function jn(T){let x=S.get(T);$(x,"Expected fetch controller: "+T),x.abort(),S.delete(T)}function so(T){for(let x of T){let j={state:"idle",data:X(x).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(x,j)}}function nv(){let T=[];for(let x of b){let D=d.fetchers.get(x);$(D,"Expected fetcher: "+x),D.state==="loading"&&(b.delete(x),T.push(x))}so(T)}function Fu(T){let x=[];for(let[D,j]of _)if(j<T){let z=d.fetchers.get(D);$(z,"Expected fetcher: "+D),z.state==="loading"&&(jn(D),_.delete(D),x.push(D))}return so(x),x.length>0}function aa(T){let x=[];return P.forEach((D,j)=>{(!T||T(j))&&(D.cancel(),x.push(j),P.delete(j))}),x}function rv(T,x,D){if(i=T,s=x,o=D||(j=>j.key),!l&&d.navigation===Ma){l=!0;let j=zu(d.location,d.matches);j!=null&&W({restoreScrollPosition:j})}return()=>{i=null,s=null,o=null}}function iv(T,x){if(i&&o&&s){let D=x.map(z=>dd(z,d.loaderData)),j=o(T,D)||T.key;i[j]=s()}}function zu(T,x){if(i&&o&&s){let D=x.map(J=>dd(J,d.loaderData)),j=o(T,D)||T.key,z=i[j];if(typeof z=="number")return z}return null}return f={get basename(){return e.basename},get state(){return d},get routes(){return t},initialize:me,subscribe:ve,enableScrollRestoration:rv,navigate:it,fetch:ae,revalidate:Ct,createHref:T=>e.history.createHref(T),getFetcher:X,deleteFetcher:_e,dispose:Ae,_internalFetchControllers:S,_internalActiveDeferreds:P},f}const r1=new Set(["POST","PUT","PATCH","DELETE"]);[...r1];function id(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Dt(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(t.formMethod!=null&&t.formMethod!=="get")return{path:r,submission:{formMethod:t.formMethod,formAction:Hm(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};let i=un(r);try{let o=Vm(t.formData);n&&i.search&&Gm(i.search)&&o.append("index",""),i.search="?"+o}catch{return{path:r,error:new Ur(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:Dt(i)}}function ja(e,t){let{formMethod:n,formAction:r,formEncType:i,formData:o}=e.navigation;return{state:"loading",location:Xn(e.location,t.location),formMethod:n||void 0,formAction:r||void 0,formEncType:i||void 0,formData:o||void 0}}function i1(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function od(e,t,n,r,i,o,s,l,a,c){let u=a?Object.values(a)[0]:l?Object.values(l)[0]:null,f=a?Object.keys(a)[0]:void 0,h=i1(t,f).filter((m,E)=>m.route.loader!=null&&(o1(e.loaderData,e.matches[E],m)||o.some(y=>y===m.route.id)||sd(e.location,e.matches[E],n,r,m,i,u))),p=[];return c&&c.forEach((m,E)=>{let[y,g,v]=m;s.includes(E)?p.push([E,y,g,v]):i&&sd(y,g,n,y,g,i,u)&&p.push([E,y,g,v])}),[h,p]}function o1(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function $m(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function sd(e,t,n,r,i,o,s){let l=Ki(e),a=t.params,c=Ki(r),u=i.params,f=$m(t,i)||l.toString()===c.toString()||l.search!==c.search||o;if(i.route.shouldRevalidate){let d=i.route.shouldRevalidate(le({currentUrl:l,currentParams:a,nextUrl:c,nextParams:u},n,{actionResult:s,defaultShouldRevalidate:f}));if(typeof d=="boolean")return d}return f}async function ri(e,t,n,r,i,o,s){o===void 0&&(o=!1),s===void 0&&(s=!1);let l,a,c,u=new Promise((d,h)=>c=h),f=()=>c();t.signal.addEventListener("abort",f);try{let d=n.route[e];$(d,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),a=await Promise.race([d({request:t,params:n.params}),u])}catch(d){l=xe.error,a=d}finally{t.signal.removeEventListener("abort",f)}if(a instanceof Response){let d=a.status;if(d>=300&&d<=399){let m=a.headers.get("Location");$(m,"Redirects returned/thrown from loaders/actions must have a Location header");let E=r.slice(0,r.indexOf(n)+1),y=Qs(E).map(S=>S.pathnameBase),g=Ki(t.url).pathname,v=yu(m,y,g);if($(Dt(v),"Unable to resolve redirect location: "+a.headers.get("Location")),i){let S=v.pathname;v.pathname=S==="/"?i:tn([i,S])}if(m=Dt(v),o)throw a.headers.set("Location",m),a;return{type:xe.redirect,status:d,location:m,revalidate:a.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||xe.data,response:a};let h,p=a.headers.get("Content-Type");return p&&p.startsWith("application/json")?h=await a.json():h=await a.text(),l===xe.error?{type:l,error:new Ur(d,a.statusText,h),headers:a.headers}:{type:xe.data,data:h,statusCode:a.status,headers:a.headers}}return l===xe.error?{type:l,error:a}:a instanceof QS?{type:xe.deferred,deferredData:a}:{type:xe.data,data:a}}function ii(e,t,n){let r=Ki(Hm(e)).toString(),i={signal:t};if(n){let{formMethod:o,formEncType:s,formData:l}=n;i.method=o.toUpperCase(),i.body=s==="application/x-www-form-urlencoded"?Vm(l):l}return new Request(r,i)}function Vm(e){let t=new URLSearchParams;for(let[n,r]of e.entries())$(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function s1(e,t,n,r,i){let o={},s=null,l,a=!1,c={};return n.forEach((u,f)=>{let d=t[f].route.id;if($(!Or(u),"Cannot handle redirect results in processLoaderData"),xi(u)){let h=kr(e,d),p=u.error;r&&(p=Object.values(r)[0],r=void 0),s=Object.assign(s||{},{[h.route.id]:p}),a||(a=!0,l=Um(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else Kn(u)?(i&&i.set(d,u.deferredData),o[d]=u.deferredData.data):(o[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!a&&(l=u.statusCode),u.headers&&(c[d]=u.headers))}),r&&(s=r),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function ad(e,t,n,r,i,o,s,l){let{loaderData:a,errors:c}=s1(t,n,r,i,l);for(let u=0;u<o.length;u++){let[f,,d]=o[u];$(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let h=s[u];if(xi(h)){let p=kr(e.matches,d.route.id);c&&c[p.route.id]||(c=le({},c,{[p.route.id]:h.error})),e.fetchers.delete(f)}else{if(Or(h))throw new Error("Unhandled fetcher revalidation redirect");if(Kn(h))throw new Error("Unhandled fetcher deferred data");{let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(f,p)}}}return{loaderData:a,errors:c}}function Ba(e,t,n){let r=le({},t);return n.forEach(i=>{let o=i.route.id;t[o]===void 0&&e[o]!==void 0&&(r[o]=e[o])}),r}function kr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function a1(e,t,n){let r=e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+t+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new Ur(t,n,null)}}function ld(e){return a1(e,404,"Not Found")}function cd(e){let t=typeof e=="string"?e:Dt(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+t+"]")),{type:xe.error,error:new Ur(405,"Method Not Allowed","")}}function ud(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Or(n))return n}}function Hm(e){let t=typeof e=="string"?un(e):e;return Dt(le({},t,{hash:""}))}function l1(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Kn(e){return e.type===xe.deferred}function xi(e){return e.type===xe.error}function Or(e){return(e&&e.type)===xe.redirect}async function fd(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=t[s],c=e.find(f=>f.route.id===a.route.id),u=c!=null&&!$m(c,a)&&(o&&o[a.route.id])!==void 0;Kn(l)&&(i||u)&&await Wm(l,r,i).then(f=>{f&&(n[s]=f||n[s])})}}async function Wm(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xe.data,data:e.deferredData.unwrappedData}}catch(i){return{type:xe.error,error:i}}return{type:xe.data,data:e.deferredData.data}}}function Gm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function dd(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function hd(e,t){let n=typeof t=="string"?un(t).search:t.search;if(e[e.length-1].route.index&&Gm(n||""))return e[e.length-1];let r=Qs(e);return r[r.length-1]}var Ys={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=F.exports,u1=Symbol.for("react.element"),f1=Symbol.for("react.fragment"),d1=Object.prototype.hasOwnProperty,h1=c1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p1={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)d1.call(t,r)&&!p1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:u1,type:e,key:o,ref:s,props:i,_owner:h1.current}}Xs.Fragment=f1;Xs.jsx=Km;Xs.jsxs=Km;(function(e){e.exports=Xs})(Ys);const m1=Ys.exports.Fragment,U=Ys.exports.jsx,Xt=Ys.exports.jsxs;/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs.apply(this,arguments)}function g1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const y1=typeof Object.is=="function"?Object.is:g1,{useState:v1,useEffect:S1,useLayoutEffect:C1,useDebugValue:E1}=Ya;function _1(e,t,n){const r=t(),[{inst:i},o]=v1({inst:{value:r,getSnapshot:t}});return C1(()=>{i.value=r,i.getSnapshot=t,Fa(i)&&o({inst:i})},[e,r,t]),S1(()=>(Fa(i)&&o({inst:i}),e(()=>{Fa(i)&&o({inst:i})})),[e]),E1(r),r}function Fa(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!y1(n,r)}catch{return!0}}function k1(e,t,n){return t()}const w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T1=!w1,R1=T1?k1:_1,b1="useSyncExternalStore"in Ya?(e=>e.useSyncExternalStore)(Ya):R1,x1=F.exports.createContext(null),Jm=F.exports.createContext(null),vu=F.exports.createContext(null),Su=F.exports.createContext(null),Zs=F.exports.createContext(null),$r=F.exports.createContext({outlet:null,matches:[]}),qm=F.exports.createContext(null);function P1(e,t){let{relative:n}=t===void 0?{}:t;no()||$(!1);let{basename:r,navigator:i}=F.exports.useContext(Su),{hash:o,pathname:s,search:l}=Qm(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:tn([r,s])),i.createHref({pathname:a,search:l,hash:o})}function no(){return F.exports.useContext(Zs)!=null}function ea(){return no()||$(!1),F.exports.useContext(Zs).location}function O1(){no()||$(!1);let{basename:e,navigator:t}=F.exports.useContext(Su),{matches:n}=F.exports.useContext($r),{pathname:r}=ea(),i=JSON.stringify(Qs(n).map(l=>l.pathnameBase)),o=F.exports.useRef(!1);return F.exports.useEffect(()=>{o.current=!0}),F.exports.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let c=yu(l,JSON.parse(i),r,a.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:tn([e,c.pathname])),(a.replace?t.replace:t.push)(c,a.state,a)},[e,t,i,r])}const D1=F.exports.createContext(null);function N1(e){let t=F.exports.useContext($r).outlet;return t&&U(D1.Provider,{value:e,children:t})}function Qm(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=F.exports.useContext($r),{pathname:i}=ea(),o=JSON.stringify(Qs(r).map(s=>s.pathnameBase));return F.exports.useMemo(()=>yu(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function I1(e,t){no()||$(!1);let n=F.exports.useContext(vu),{matches:r}=F.exports.useContext($r),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let l=ea(),a;if(t){var c;let p=typeof t=="string"?un(t):t;s==="/"||((c=p.pathname)==null?void 0:c.startsWith(s))||$(!1),a=p}else a=l;let u=a.pathname||"/",f=s==="/"?u:u.slice(s.length)||"/",d=hi(e,{pathname:f}),h=j1(d&&d.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:tn([s,p.pathname]),pathnameBase:p.pathnameBase==="/"?s:tn([s,p.pathnameBase])})),r,n||void 0);return t&&h?U(Zs.Provider,{value:{location:Rs({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:Se.Pop},children:h}):h}function L1(){let e=F1(),t=Um(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return Xt(m1,{children:[U("h2",{children:"Unhandled Thrown Error!"}),U("h3",{style:{fontStyle:"italic"},children:t}),n?U("pre",{style:i,children:n}):null,U("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),Xt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",U("code",{style:o,children:"errorElement"})," props on\xA0",U("code",{style:o,children:"<Route>"})]})]})}class A1 extends F.exports.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?U(qm.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function M1(e){let{routeContext:t,match:n,children:r}=e,i=F.exports.useContext(x1);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),U($r.Provider,{value:t,children:r})}function j1(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||$(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,l)=>{let a=s.route.id?i==null?void 0:i[s.route.id]:null,c=n?s.route.errorElement||U(L1,{}):null,u=()=>U(M1,{match:s,routeContext:{outlet:o,matches:t.concat(r.slice(0,l+1))},children:a?c:s.route.element!==void 0?s.route.element:o});return n&&(s.route.errorElement||l===0)?U(A1,{location:n.location,component:c,error:a,children:u()}):u()},null)}var pd;(function(e){e.UseRevalidator="useRevalidator"})(pd||(pd={}));var Wl;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Wl||(Wl={}));function B1(e){let t=F.exports.useContext(vu);return t||$(!1),t}function F1(){var e;let t=F.exports.useContext(qm),n=B1(Wl.UseRouteError),r=F.exports.useContext($r),i=r.matches[r.matches.length-1];return t||(r||$(!1),i.route.id||$(!1),(e=n.errors)==null?void 0:e[i.route.id])}function z1(e){let{fallbackElement:t,router:n}=e,r=b1(n.subscribe,()=>n.state,()=>n.state),i=F.exports.useMemo(()=>({createHref:n.createHref,go:s=>n.navigate(s),push:(s,l,a)=>n.navigate(s,{state:l,preventScrollReset:a==null?void 0:a.preventScrollReset}),replace:(s,l,a)=>n.navigate(s,{replace:!0,state:l,preventScrollReset:a==null?void 0:a.preventScrollReset})}),[n]),o=n.basename||"/";return U(Jm.Provider,{value:{router:n,navigator:i,static:!1,basename:o},children:U(vu.Provider,{value:r,children:U(V1,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i,children:n.state.initialized?U(H1,{}):t})})})}function U1(e){return N1(e.context)}function $1(e){$(!1)}function V1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Se.Pop,navigator:o,static:s=!1}=e;no()&&$(!1);let l=t.replace(/^\/*/,"/"),a=F.exports.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=un(r));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:h="default"}=r,p=F.exports.useMemo(()=>{let m=zm(c,l);return m==null?null:{pathname:m,search:u,hash:f,state:d,key:h}},[l,c,u,f,d,h]);return p==null?null:U(Su.Provider,{value:a,children:U(Zs.Provider,{children:n,value:{location:p,navigationType:i}})})}function H1(e){let{children:t,location:n}=e,r=F.exports.useContext(Jm),i=r&&!t?r.router.routes:Gl(t);return I1(i,n)}var md;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(md||(md={}));new Promise(()=>{});function Gl(e,t){t===void 0&&(t=[]);let n=[];return F.exports.Children.forEach(e,(r,i)=>{if(!F.exports.isValidElement(r))return;if(r.type===F.exports.Fragment){n.push.apply(n,Gl(r.props.children,t));return}r.type!==$1&&$(!1),!r.props.index||!r.props.children||$(!1);let o=[...t,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=Gl(r.props.children,o)),n.push(s)}),n}function Ym(e){return e.map(t=>{let n=Rs({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=Ym(n.children)),n})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function G1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K1(e,t){return e.button===0&&(!t||t==="_self")&&!G1(e)}const J1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function q1(e,t){var n;return n1({basename:t==null?void 0:t.basename,history:bS({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||((n=window)==null?void 0:n.__staticRouterHydrationData),routes:Ym(e)}).initialize()}const gd=F.exports.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:c,preventScrollReset:u}=t,f=W1(t,J1),d=P1(c,{relative:i}),h=Q1(c,{replace:s,state:l,target:a,preventScrollReset:u,relative:i});function p(m){r&&r(m),m.defaultPrevented||h(m)}return U("a",{...f,href:d,onClick:o?r:p,ref:n,target:a})});var yd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(yd||(yd={}));var vd;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vd||(vd={}));function Q1(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,l=O1(),a=ea(),c=Qm(e,{relative:s});return F.exports.useCallback(u=>{if(K1(u,n)){u.preventDefault();let f=r!==void 0?r:Dt(a)===Dt(c);l(e,{replace:f,state:i,preventScrollReset:o,relative:s})}},[a,l,c,r,i,n,e,o,s])}function Y1(e,t,n,r,i){return[81,e,t,n,r,i]}function X1(e,t){return[82,e,t]}function Xm(e){return[0,e]}function Zm(e,t,n){return[4,e,t,n]}function eg(e,t){return[5,e,t]}function tg(e,t){return[6,e,t]}function ng(){return[7]}function rg(e,t,n,r,i){return[8,e,t,n,r,i]}function ig(e,t,n){return[9,e,t,n]}function og(e,t,n){return[10,e,t,n]}function sg(e){return[11,e]}function Jn(e,t,n){return[12,e,t,n]}function Kl(e,t){return[13,e,t]}function ag(e,t){return[14,e,t]}function lg(e,t,n){return[16,e,t,n]}function cg(e,t){return[17,e,t]}function ug(e,t,n){return[18,e,t,n]}function Jl(e,t){return[19,e,t]}function fg(e,t){return[20,e,t]}function dg(e,t){return[22,e,t]}function hg(e,t,n,r,i,o,s,l,a){return[23,e,t,n,r,i,o,s,l,a]}function pg(e,t,n){return[24,e,t,n]}function bs(e,t,n){return[25,e,t,n]}function mg(e,t){return[27,e,t]}function gg(e){return[28,e]}function yg(e){return[29,e]}function vg(e,t){return[30,e,t]}function Z1(e,t,n){return[37,e,t,n]}function eC(e,t){return[38,e,t]}function tC(e,t,n,r,i,o,s){return[39,e,t,n,r,i,o,s]}function nC(e,t,n,r){return[40,e,t,n,r]}function rC(e,t){return[41,e,t]}function iC(e){return[42,e]}function oC(e,t,n){return[44,e,t,n]}function sC(e,t){return[45,e,t]}function aC(e,t){return[46,e,t]}function lC(e,t,n){return[47,e,t,n]}function cC(e,t,n,r){return[48,e,t,n,r]}function Sg(e,t,n,r){return[49,e,t,n,r]}function Cu(e,t,n,r,i,o,s,l){return[53,e,t,n,r,i,o,s,l]}function Cg(e,t){return[54,e,t]}function Eg(e){return[55,e]}function uC(e,t,n,r,i,o,s){return[59,e,t,n,r,i,o,s]}function xs(e,t,n,r){return[60,e,t,n,r]}function _g(e,t,n){return[61,e,t,n]}function Eu(e,t){return[63,e,t]}function kg(e,t){return[64,e,t]}function fC(e,t,n,r){return[67,e,t,n,r]}function wg(e,t,n,r){return[69,e,t,n,r]}function _u(e,t){return[70,e,t]}function ql(e,t,n){return[71,e,t,n]}function Ps(e,t,n,r){return[73,e,t,n,r]}function Ql(e,t){return[75,e,t]}function ku(e,t){return[76,e,t]}function Tg(e,t){return[77,e,t]}function dC(e,t){return[79,e,t]}const hC=Object.freeze(Object.defineProperty({__proto__:null,BatchMetadata:Y1,PartitionedMessage:X1,Timestamp:Xm,SetPageLocation:Zm,SetViewportSize:eg,SetViewportScroll:tg,CreateDocument:ng,CreateElementNode:rg,CreateTextNode:ig,MoveNode:og,RemoveNode:sg,SetNodeAttribute:Jn,RemoveNodeAttribute:Kl,SetNodeData:ag,SetNodeScroll:lg,SetInputTarget:cg,SetInputValue:ug,SetInputChecked:Jl,MouseMove:fg,ConsoleLog:dg,PageLoadTiming:hg,PageRenderTiming:pg,JSException:bs,RawCustomEvent:mg,UserID:gg,UserAnonymousID:yg,Metadata:vg,CSSInsertRule:Z1,CSSDeleteRule:eC,Fetch:tC,Profiler:nC,OTable:rC,StateAction:iC,Redux:oC,Vuex:sC,MobX:aC,NgRx:lC,GraphQL:cC,PerformanceTrack:Sg,ResourceTiming:Cu,ConnectionInformation:Cg,SetPageVisibility:Eg,LongTask:uC,SetNodeAttributeURLBased:xs,SetCSSDataURLBased:_g,TechnicalInfo:Eu,CustomIssue:kg,CSSInsertRuleURLBased:fC,MouseClick:wg,CreateIFrameDocument:_u,AdoptedSSReplaceURLBased:ql,AdoptedSSInsertRuleURLBased:Ps,AdoptedSSDeleteRule:Ql,AdoptedSSAddOwner:ku,AdoptedSSRemoveOwner:Tg,Zustand:dC},Symbol.toStringTag,{value:"Module"})),Sd={htmlmasked:"hidden",masked:"obscured"},zt=!(typeof window>"u"),pC=zt&&navigator.userAgent.match(/firefox|fxios/i),mC=1e5,Cd=zt&&(performance.timing.navigationStart||performance.timeOrigin),Yl=zt&&performance.now()&&Cd?()=>Math.round(performance.now()+Cd):()=>Date.now(),za="repeat"in String.prototype?e=>"*".repeat(e.length):e=>e.replace(/./g,"*");function Rg(e){return e.trim().replace(/\s+/g," ")}function bg(e){return e.startsWith("https://")||e.startsWith("http://")}const Os="https://docs.openreplay.com",Ed={};function _n(e,t,n="/"){Ed[e]||(console.warn(`OpenReplay: ${e} is deprecated. ${t?`Please, use ${t} instead.`:""} Visit ${Os}${n} for more information.`),Ed[e]=!0)}function wu(e){let t=e.getAttribute("data-openreplay-label");return t!==null||(t=e.getAttribute("data-asayer-label"),t!==null&&_n('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),t}function qn(e,t){const n=`data-openreplay-${t}`;return e.hasAttribute(n)?(Sd[t]&&_n(`"${n}" attribute`,`"${Sd[t]}" attribute`,"/installation/sanitize-data"),!0):!1}class gC{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachNodeListener(t,n,r){const i=this.getID(t);if(i===void 0)return;t.addEventListener(n,r);let o=this.elementListeners.get(i);o===void 0&&(o=[],this.elementListeners.set(i,o)),o.push([n,r])}registerNode(t){let n=t[this.node_id];const r=n===void 0;return r&&(n=this.nodes.length,this.nodes[n]=t,t[this.node_id]=n),[n,r]}unregisterNode(t){const n=t[this.node_id];if(n!==void 0){delete t[this.node_id],delete this.nodes[n];const r=this.elementListeners.get(n);r!==void 0&&(this.elementListeners.delete(n),r.forEach(i=>t.removeEventListener(i[0],i[1])))}return n}cleanTree(){for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t];n&&!document.contains(n)&&this.unregisterNode(n)}}callNodeCallbacks(t,n){this.nodeCallbacks.forEach(r=>r(t,n))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t];n!==void 0&&this.unregisterNode(n)}this.nodes.length=0}}function yC(e){return!!e&&e.nodeType!=null}function Xl(e){return e.namespaceURI==="http://www.w3.org/2000/svg"}function nn(e){return e.nodeType===Node.ELEMENT_NODE}function Zl(e){return e.nodeType===Node.TEXT_NODE}function ec(e){return e.nodeType===Node.DOCUMENT_NODE}function ta(e){return e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Oe(e,t){return e.nodeName===t}function tc(e){if(Zl(e))return!1;if(!nn(e))return!0;const t=e.tagName.toUpperCase();if(t==="LINK"){const n=e.getAttribute("rel"),r=e.getAttribute("as");return!((n==null?void 0:n.includes("stylesheet"))||r==="style"||r==="font")}return t==="SCRIPT"||t==="NOSCRIPT"||t==="META"||t==="TITLE"||t==="BASE"}function Ua(e){return ta(e)?!0:!tc(e)}var At;(function(e){e[e.New=0]="New",e[e.Removed=1]="Removed",e[e.Changed=2]="Changed"})(At||(At={}));class Tu{constructor(t,n=!1){this.app=t,this.isTopContext=n,this.commited=[],this.recents=new Map,this.indexes=[],this.attributesMap=new Map,this.textSet=new Set,this.observer=new MutationObserver(this.app.safe(r=>{for(const i of r){const o=i.target,s=i.type;if(!Ua(o))continue;if(s==="childList"){for(let a=0;a<i.removedNodes.length;a++)Ua(i.removedNodes[a])&&this.bindNode(i.removedNodes[a]);for(let a=0;a<i.addedNodes.length;a++)this.bindTree(i.addedNodes[a]);continue}const l=this.app.nodes.getID(o);if(l!==void 0){if(this.recents.has(l)||this.recents.set(l,At.Changed),s==="attributes"){const a=i.attributeName;if(a===null)continue;let c=this.attributesMap.get(l);c===void 0&&this.attributesMap.set(l,c=new Set),c.add(a);continue}if(s==="characterData"){this.textSet.add(l);continue}}}this.commitNodes()}))}clear(){this.commited.length=0,this.recents.clear(),this.indexes.length=1,this.attributesMap.clear(),this.textSet.clear()}sendNodeAttribute(t,n,r,i){if(Xl(n)){r.substr(0,6)==="xlink:"&&(r=r.substr(6)),i===null?this.app.send(Kl(t,r)):r==="href"?(i.length>1e5&&(i=""),this.app.send(xs(t,r,i,this.app.getBaseHref()))):this.app.send(Jn(t,r,i));return}if(!(r==="src"||r==="srcset"||r==="integrity"||r==="crossorigin"||r==="autocomplete"||r.substr(0,2)==="on")&&!(r==="value"&&Oe(n,"INPUT")&&n.type!=="button"&&n.type!=="reset"&&n.type!=="submit")){if(i===null){this.app.send(Kl(t,r));return}if(r==="style"||r==="href"&&Oe(n,"LINK")){this.app.send(xs(t,r,i,this.app.getBaseHref()));return}(r==="href"||i.length>1e5)&&(i=""),this.app.send(Jn(t,r,i))}}sendNodeData(t,n,r){if(Oe(n,"STYLE")||Oe(n,"style")){this.app.send(_g(t,r,this.app.getBaseHref()));return}r=this.app.sanitizer.sanitize(t,r),this.app.send(ag(t,r))}bindNode(t){const[n,r]=this.app.nodes.registerNode(t);r?this.recents.set(n,At.New):this.recents.get(n)!==At.New&&this.recents.set(n,At.Removed)}bindTree(t){if(!Ua(t))return;this.bindNode(t);const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:r=>tc(r)||this.app.nodes.getID(r)!==void 0?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;n.nextNode();)this.bindNode(n.currentNode)}unbindTree(t){const n=this.app.nodes.unregisterNode(t);if(n!==void 0&&this.recents.get(n)===At.Removed){this.app.send(sg(n));const r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:i=>tc(i)||this.app.nodes.getID(i)===void 0?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;r.nextNode();)this.app.nodes.unregisterNode(r.currentNode)}}_commitNode(t,n){if(ta(n))return!0;const r=n.parentNode;let i;if(!Oe(n,"HTML")||!this.isTopContext){if(r===null)return this.unbindTree(n),!1;if(i=this.app.nodes.getID(r),i===void 0)return this.unbindTree(n),!1;if(!this.commitNode(i))return this.unbindTree(n),!1;if(this.app.sanitizer.handleNode(t,i,n),this.app.sanitizer.isHidden(i))return!1}let o=n.previousSibling;for(;o!==null;){const u=this.app.nodes.getID(o);if(u!==void 0){this.commitNode(u),this.indexes[t]=this.indexes[u]+1;break}o=o.previousSibling}o===null&&(this.indexes[t]=0);const s=this.recents.get(t),l=s===At.New,a=this.indexes[t];if(a===void 0)throw"commitNode: missing node index";if(l){if(nn(n)){let u=n;if(i!==void 0){if(this.app.sanitizer.isHidden(t)){const f=u.clientWidth,d=u.clientHeight;u=n.cloneNode(),u.style.width=`${f}px`,u.style.height=`${d}px`}this.app.send(rg(t,i,a,u.tagName,Xl(n)))}for(let f=0;f<u.attributes.length;f++){const d=u.attributes[f];this.sendNodeAttribute(t,u,d.nodeName,d.value)}}else Zl(n)&&(this.app.send(ig(t,i,a)),this.sendNodeData(t,r,n.data));return!0}s===At.Removed&&i!==void 0&&this.app.send(og(t,i,a));const c=this.attributesMap.get(t);if(c!==void 0){if(!nn(n))throw"commitNode: node is not an element";for(const u of c)this.sendNodeAttribute(t,n,u,n.getAttribute(u))}if(this.textSet.has(t)){if(!Zl(n))throw"commitNode: node is not a text";this.sendNodeData(t,r,n.data)}return!0}commitNode(t){const n=this.app.nodes.getNode(t);if(n===void 0)return!1;const r=this.commited[t];return r!==void 0?r:this.commited[t]=this._commitNode(t,n)}commitNodes(t=!1){let n;this.recents.forEach((r,i)=>{this.commitNode(i),r===At.New&&(n=this.app.nodes.getNode(i))&&this.app.nodes.callNodeCallbacks(n,t)}),this.clear()}observeRoot(t,n,r=t){this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(r),n(this.app.nodes.getID(t)),this.commitNodes(!0)}disconnect(){this.observer.disconnect(),this.clear()}}class vC extends Tu{observe(t){const n=t.contentDocument,r=this.app.nodes.getID(t);!n||r===void 0||this.observeRoot(n,i=>{if(i===void 0){console.log("OpenReplay: Iframe document not bound");return}this.app.send(_u(r,i))})}}class SC extends Tu{observe(t){const n=t.shadowRoot,r=this.app.nodes.getID(t);!n||r===void 0||this.observeRoot(n,i=>{if(i===void 0){console.log("OpenReplay: Shadow Root was not bound");return}this.app.send(_u(r,i))})}}class CC{constructor(){this.states=new Map}calcOffset(t){let n=0,r=0;if(t.parent&&([n,r]=this.calcOffset(t.parent)),!t.offset){const{left:s,top:l}=t.iFrame.getBoundingClientRect();t.offset=[s,l]}const[i,o]=t.offset;return[n+i,r+o]}getDocumentOffset(t){const n=this.states.get(t);return n?this.calcOffset(n):[0,0]}observe(t){var n;const r=t.contentDocument;if(!r)return;const i=t.ownerDocument,o=this.states.get(i),s={offset:null,iFrame:t,parent:o||null,clear:()=>{var a;i.removeEventListener("scroll",l),(a=i.defaultView)===null||a===void 0||a.removeEventListener("resize",l)}},l=()=>{s.offset=null};i.addEventListener("scroll",l),(n=i.defaultView)===null||n===void 0||n.addEventListener("resize",l),this.states.set(r,s)}clear(){this.states.forEach(t=>t.clear()),this.states.clear()}}const _d=zt?Element.prototype.attachShadow:()=>new ShadowRoot;class EC extends Tu{constructor(t,n){super(t,!0),this.iframeOffsets=new CC,this.contextCallbacks=[],this.contextsSet=new Set,this.iframeObservers=[],this.shadowRootObservers=[],this.options=Object.assign({captureIFrames:!0},n),this.app.nodes.attachNodeCallback(r=>{Oe(r,"IFRAME")&&(this.options.captureIFrames&&!qn(r,"obscured")||qn(r,"capture"))&&this.handleIframe(r)}),this.app.nodes.attachNodeCallback(r=>{nn(r)&&r.shadowRoot!==null&&this.handleShadowRoot(r.shadowRoot)})}attachContextCallback(t){this.contextCallbacks.push(t)}getDocumentOffset(t){return this.iframeOffsets.getDocumentOffset(t)}handleIframe(t){let n=null;const r=this.app.safe(()=>setTimeout(()=>{if(this.app.nodes.getID(t)===void 0)return;const o=t.contentWindow,s=t.contentDocument;if(s&&s!==n){const l=new vC(this.app);this.iframeObservers.push(l),l.observe(t),n=s,this.iframeOffsets.observe(t)}o&&o===o.window&&!this.contextsSet.has(o)&&(this.contextsSet.add(o),this.contextCallbacks.forEach(l=>l(o)))},0));t.addEventListener("load",r),r()}handleShadowRoot(t){const n=new SC(this.app);this.shadowRootObservers.push(n),n.observe(t.host)}observe(){const t=this;Element.prototype.attachShadow=function(){const n=_d.apply(this,arguments);return t.handleShadowRoot(n),n},this.observeRoot(window.document,()=>{this.app.send(ng())},window.document.documentElement)}disconnect(){this.iframeOffsets.clear(),Element.prototype.attachShadow=_d,this.iframeObservers.forEach(t=>t.disconnect()),this.iframeObservers=[],this.shadowRootObservers.forEach(t=>t.disconnect()),this.shadowRootObservers=[],super.disconnect()}}var Ds;(function(e){e[e.Plain=0]="Plain",e[e.Obscured=1]="Obscured",e[e.Hidden=2]="Hidden"})(Ds||(Ds={}));class _C{constructor(t,n){this.app=t,this.obscured=new Set,this.hidden=new Set,this.options=Object.assign({obscureTextEmails:!0,obscureTextNumbers:!1},n)}handleNode(t,n,r){if((this.obscured.has(n)||nn(r)&&(qn(r,"masked")||qn(r,"obscured")))&&this.obscured.add(t),(this.hidden.has(n)||nn(r)&&(qn(r,"htmlmasked")||qn(r,"hidden")))&&this.hidden.add(t),this.options.domSanitizer!==void 0&&nn(r)){const i=this.options.domSanitizer(r);i===Ds.Obscured&&this.obscured.add(t),i===Ds.Hidden&&this.hidden.add(t)}}sanitize(t,n){return this.obscured.has(t)?n.trim().replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"\u2588"):(this.options.obscureTextNumbers&&(n=n.replace(/\d/g,"0")),this.options.obscureTextEmails&&(n=n.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,(...r)=>za(r[1])+"@"+za(r[2])+"."+za(r[3]))),n)}isObscured(t){return this.obscured.has(t)}isHidden(t){return this.hidden.has(t)}getInnerTextSecure(t){const n=this.app.nodes.getID(t);return n?this.sanitize(n,t.innerText):""}clear(){this.obscured.clear(),this.hidden.clear()}}function kC(e,t){let n=0;return()=>{n++>=t&&(n=0,e())}}class wC{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,n=0,r=!0,i){i&&(t=t.bind(i)),r&&(t=this.app.safe(t)),this.callbacks.unshift(n?kC(t,n):t)-1}start(){this.timer===null&&(this.timer=setInterval(()=>this.callbacks.forEach(t=>{t&&t()}),30))}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}}const Vn={Verbose:5,Log:4,Warnings:3,Errors:2,Silent:0};function $a(e){return typeof e=="object"}class kd{constructor(t=Vn.Silent){this.options=t===!0?{level:Vn.Verbose}:typeof t=="number"?{level:t}:t}log(...t){($a(this.options.level)?this.options.level.log:this.options.level>=Vn.Log)&&console.log(...t)}warn(...t){($a(this.options.level)?this.options.level.warn:this.options.level>=Vn.Warnings)&&console.warn(...t)}error(...t){($a(this.options.level)?this.options.level.error:this.options.level>=Vn.Errors)&&console.error(...t)}}class TC{constructor(t,n){this.app=t,this.options=n,this.metadata={},this.userID=null,this.callbacks=[],this.timestamp=0}attachUpdateCallback(t){this.callbacks.push(t)}handleUpdate(t){t.userID==null&&delete t.userID,t.sessionID==null&&delete t.sessionID,this.callbacks.forEach(n=>n(t))}update(t){t.userID!==void 0&&(this.userID=t.userID),t.metadata!==void 0&&Object.entries(t.metadata).forEach(([n,r])=>this.metadata[n]=r),t.sessionID!==void 0&&(this.sessionID=t.sessionID),t.timestamp!==void 0&&(this.timestamp=t.timestamp),t.projectID!==void 0&&(this.projectID=t.projectID),this.handleUpdate(t)}setMetadata(t,n){this.metadata[t]=n,this.handleUpdate({metadata:{[t]:n}})}setUserID(t){this.userID=t,this.handleUpdate({userID:t})}getPageNumber(){const t=this.app.sessionStorage.getItem(this.options.session_pageno_key);if(t!=null)return parseInt(t)}incPageNo(){let t=this.getPageNumber();return t===void 0?t=0:t++,this.app.sessionStorage.setItem(this.options.session_pageno_key,t.toString()),t}getSessionToken(){return this.app.sessionStorage.getItem(this.options.session_token_key)||void 0}setSessionToken(t){this.app.sessionStorage.setItem(this.options.session_token_key,t)}applySessionHash(t){const n=decodeURI(t).split("&");let r=t,i="100500";n.length==2&&([i,r]=n),!(!i||!r)&&(this.app.sessionStorage.setItem(this.options.session_token_key,r),this.app.sessionStorage.setItem(this.options.session_pageno_key,i))}getSessionHash(){const t=this.getPageNumber(),n=this.getSessionToken();if(!(t===void 0||n===void 0))return encodeURI(String(t)+"&"+n)}getInfo(){return{sessionID:this.sessionID,metadata:this.metadata,userID:this.userID,timestamp:this.timestamp,projectID:this.projectID}}reset(){this.app.sessionStorage.removeItem(this.options.session_token_key),this.metadata={},this.userID=null,this.sessionID=void 0,this.timestamp=0}}const nc=zt&&"performance"in window&&"memory"in performance?performance:{memory:{}},RC=zt?(navigator.deviceMemory||0)*1024:0,bC=nc.memory.jsHeapSizeLimit||0;function xC(e,t){if(!Object.assign({capturePerformance:!0},t).capturePerformance)return;let r,i;const o=()=>{r===void 0||r===-1||(r++,requestAnimationFrame(o))};e.ticker.attach(()=>{i===void 0||i===-1||i++},0,!1);const s=()=>{r===void 0||i===void 0||(e.send(Sg(r,i,nc.memory.totalJSHeapSize||0,nc.memory.usedJSHeapSize||0)),i=r=document.hidden?-1:0)};e.attachStartCallback(()=>{i=r=-1,s(),o()}),e.attachStopCallback(()=>{i=r=void 0}),e.ticker.attach(s,40,!1),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",s,!1,!1)}const Ro="canceled",PC=":(",bo=e=>({reason:e,success:!1}),OC=e=>Object.assign(Object.assign({},e),{success:!0});var dt;(function(e){e[e.NotActive=0]="NotActive",e[e.Starting=1]="Starting",e[e.Active=2]="Active"})(dt||(dt={}));const rc="https://api.openreplay.com/ingest";class DC{constructor(t,n,r){this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this.activityState=dt.NotActive,this.version="4.1.5",this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",session_reset_key:"__openreplay_reset",local_uuid_key:"__openreplay_uuid",ingestPoint:rc,resourceBaseHref:null,verbose:!1,__is_snippet:!1,__debug_report_edp:null,localStorage:window==null?void 0:window.localStorage,sessionStorage:window==null?void 0:window.sessionStorage},r),this.revID=this.options.revID,this.sanitizer=new _C(this,r),this.nodes=new gC(this.options.node_id),this.observer=new EC(this,r),this.ticker=new wC(this),this.ticker.attach(()=>this.commit()),this.debug=new kd(this.options.__debug__),this.notify=new kd(this.options.verbose?Vn.Warnings:Vn.Silent),this.localStorage=this.options.localStorage||window.localStorage,this.sessionStorage=this.options.sessionStorage||window.sessionStorage,this.session=new TC(this,this.options),this.session.attachUpdateCallback(({userID:i,metadata:o})=>{i!=null&&this.send(gg(i)),o!=null&&Object.entries(o).forEach(([s,l])=>this.send(vg(s,l)))}),n!=null&&this.session.applySessionHash(n);try{this.worker=new Worker(URL.createObjectURL(new Blob(['"use strict";class t{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+"/v1/web/i"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure():(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:"POST",headers:{Authorization:"Bearer "+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn("OpenReplay:",i),this.retry(t)})}clean(){this.queue.length=0}}const i="function"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(let n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(r=t.charCodeAt(h),!(r>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(n=1024*(n-55296)+r-56320+65536,h+=1,n>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class s extends class{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}getCurrentOffset(){return this.offset}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}skip(t){return this.offset+=t,this.offset<=this.size}set(t,i){this.data.set(t,i)}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const s=i.encode(t),e=s.byteLength;return!(!this.uint(e)||this.offset+e>this.size)&&(this.data.set(s,this.offset),this.offset+=e,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}{encode(t){switch(t[0]){case 81:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.int(t[4])&&this.string(t[5]);case 82:return this.uint(t[1])&&this.uint(t[2]);case 0:return this.uint(t[1]);case 4:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 5:return this.uint(t[1])&&this.uint(t[2]);case 6:return this.int(t[1])&&this.int(t[2]);case 7:return!0;case 8:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.string(t[4])&&this.boolean(t[5]);case 9:case 10:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 11:return this.uint(t[1]);case 12:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 13:case 14:return this.uint(t[1])&&this.string(t[2]);case 16:return this.uint(t[1])&&this.int(t[2])&&this.int(t[3]);case 17:return this.uint(t[1])&&this.string(t[2]);case 18:return this.uint(t[1])&&this.string(t[2])&&this.int(t[3]);case 19:return this.uint(t[1])&&this.boolean(t[2]);case 20:return this.uint(t[1])&&this.uint(t[2]);case 22:return this.string(t[1])&&this.string(t[2]);case 23:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7])&&this.uint(t[8])&&this.uint(t[9]);case 24:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 25:return this.string(t[1])&&this.string(t[2])&&this.string(t[3]);case 27:return this.string(t[1])&&this.string(t[2]);case 28:case 29:return this.string(t[1]);case 30:return this.string(t[1])&&this.string(t[2]);case 37:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3]);case 38:return this.uint(t[1])&&this.uint(t[2]);case 39:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7]);case 40:return this.string(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 41:return this.string(t[1])&&this.string(t[2]);case 42:return this.string(t[1]);case 44:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 45:case 46:return this.string(t[1])&&this.string(t[2]);case 47:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 48:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 49:return this.int(t[1])&&this.int(t[2])&&this.uint(t[3])&&this.uint(t[4]);case 53:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.string(t[7])&&this.string(t[8]);case 54:return this.uint(t[1])&&this.string(t[2]);case 55:return this.boolean(t[1]);case 59:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.string(t[5])&&this.string(t[6])&&this.string(t[7]);case 60:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 61:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 63:case 64:return this.string(t[1])&&this.string(t[2]);case 67:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 69:return this.uint(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 70:return this.uint(t[1])&&this.uint(t[2]);case 71:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 73:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 75:case 76:case 77:return this.uint(t[1])&&this.uint(t[2]);case 79:return this.string(t[1])&&this.string(t[2])}}}class e{constructor(t,i,e,n){this.pageNo=t,this.timestamp=i,this.url=e,this.onBatch=n,this.nextIndex=0,this.beaconSize=2e5,this.encoder=new s(this.beaconSize),this.sizeBuffer=new Uint8Array(3),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}writeType(t){return this.encoder.uint(t[0])}writeFields(t){return this.encoder.encode(t)}writeSizeAt(t,i){for(let i=0;i<3;i++)this.sizeBuffer[i]=t>>8*i;this.encoder.set(this.sizeBuffer,i)}prepare(){if(!this.encoder.isEmpty())return;const t=[81,1,this.pageNo,this.nextIndex,this.timestamp,this.url];this.writeType(t),this.writeFields(t),this.isEmpty=!0}writeWithSize(t){const i=this.encoder;if(!this.writeType(t)||!i.skip(3))return!1;const s=i.getCurrentOffset(),e=this.writeFields(t);if(e){const e=i.getCurrentOffset()-s;if(e>16777215)return console.warn("OpenReplay: max message size overflow."),!1;this.writeSizeAt(e,s-3),i.checkpoint(),this.isEmpty=this.isEmpty&&0===t[0],this.nextIndex++}return e}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){if(0===t[0]&&(this.timestamp=t[1]),4===t[0]&&(this.url=t[1]),!this.writeWithSize(t))for(this.finaliseBatch();!this.writeWithSize(t);){if(this.beaconSize===this.beaconSizeLimit)return console.warn("OpenReplay: beacon size overflow. Skipping large message.",t,this),this.encoder.reset(),void this.prepare();this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.encoder=new s(this.beaconSize),this.prepare()}}finaliseBatch(){this.isEmpty||(this.onBatch(this.encoder.flush()),this.prepare())}clean(){this.encoder.reset()}}var n;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Stopping=2]="Stopping",t[t.Active=3]="Active"}(n||(n={}));let r=null,h=null;function u(){h&&h.finaliseBatch()}function a(){n.Stopping,null!==f&&(clearInterval(f),f=null),h&&(h.clean(),h=null),r&&(r.clean(),r=null),n.NotActive}function o(){self.postMessage("restart"),a()}n.NotActive;let c,f=null;self.onmessage=({data:i})=>{if(null!=i){if("stop"===i)return u(),void a();if(Array.isArray(i)){if(!h)throw new Error("WebWorker: writer not initialised. Service Should be Started.");const t=h;i.forEach(i=>{55===i[0]&&(i[1]?c=setTimeout(()=>o(),18e5):clearTimeout(c)),t.writeMessage(i)})}else{if("start"===i.type)return n.Starting,r=new t(i.ingestPoint,()=>{o()},()=>{self.postMessage("failed"),a()},i.connAttemptCount,i.connAttemptGap),h=new e(i.pageNo,i.timestamp,i.url,t=>r&&r.push(t)),null===f&&(f=setInterval(u,1e4)),n.Active;if("auth"===i.type){if(!r)throw new Error("WebWorker: sender not initialised. Received auth.");if(!h)throw new Error("WebWorker: writer not initialised. Received auth.");return r.authorise(i.token),void(i.beaconSizeLimit&&h.setBeaconSizeLimit(i.beaconSizeLimit))}}}else u()};'],{type:"text/javascript"}))),this.worker.onerror=o=>{this._debug("webworker_error",o)},this.worker.onmessage=({data:o})=>{o==="failed"?(this.stop(!1),this._debug("worker_failed",{})):o==="restart"&&(this.stop(!1),this.start({forceNew:!0}))};const i=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",i,!1),this.attachEventListener(document.body,"mouseleave",i,!1,!1),this.attachEventListener(document,"visibilitychange",i,!1)}catch(i){this._debug("worker_start",i)}}_debug(t,n){this.options.__debug_report_edp!==null&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:`${n}`})}),this.debug.error("OpenReplay error: ",t,n)}send(t,n=!1){this.activityState!==dt.NotActive&&(this.messages.push(t),this.activityState===dt.Active&&n&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift(Xm(Yl())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach(t=>t(this.messages)),this.messages.length=0)}safe(t){const n=this;return function(...r){try{t.apply(this,r)}catch(i){n._debug("safe_fn_call",i)}}}attachCommitCallback(t){this.commitCallbacks.push(t)}attachStartCallback(t,n=!1){n&&(t=this.safe(t)),this.startCallbacks.push(t)}attachStopCallback(t,n=!1){n&&(t=this.safe(t)),this.stopCallbacks.push(t)}attachEventListener(t,n,r,i=!0,o=!0){i&&(r=this.safe(r)),this.attachStartCallback(()=>t.addEventListener(n,r,o),i),this.attachStopCallback(()=>t.removeEventListener(n,r,o),i)}checkRequiredVersion(t){const n=t.split(/[.-]/),r=this.version.split(/[.-]/);for(let i=0;i<3;i++){if(isNaN(Number(r[i]))||isNaN(Number(n[i])))return!1;if(Number(r[i])>Number(n[i]))return!0;if(Number(r[i])<Number(n[i]))return!1}return!0}getTrackerInfo(){return{userUUID:this.localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,trackerVersion:this.version,isSnippet:this.options.__is_snippet}}getSessionInfo(){return Object.assign(Object.assign({},this.session.getInfo()),this.getTrackerInfo())}getSessionToken(){return this.session.getSessionToken()}getSessionID(){return this.session.getInfo().sessionID||void 0}getSessionURL(){const{projectID:t,sessionID:n}=this.session.getInfo();if(!t||!n){this.debug.error("OpenReplay error: Unable to build session URL");return}const r=this.options.ingestPoint;return(r===rc?r.replace("api","app"):r).replace(/ingest$/,`${t}/session/${n}`)}getHost(){return new URL(this.options.ingestPoint).host}getProjectKey(){return this.projectKey}getBaseHref(){var t,n;return typeof this.options.resourceBaseHref=="string"?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:((n=(t=document.head)===null||t===void 0?void 0:t.getElementsByTagName("base")[0])===null||n===void 0?void 0:n.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){const n=new URL(this.getBaseHref());return n.pathname+="/"+new URL(t).pathname,n.pathname.replace(/\/+/g,"/"),n.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.activityState===dt.Active}resetNextPageSession(t){t?this.sessionStorage.setItem(this.options.session_reset_key,"t"):this.sessionStorage.removeItem(this.options.session_reset_key)}_start(t){if(!this.worker)return Promise.resolve(bo("No worker found: perhaps, CSP is not set."));if(this.activityState!==dt.NotActive)return Promise.resolve(bo("OpenReplay: trying to call `start()` on the instance that has been started already."));this.activityState=dt.Starting,t.sessionHash&&this.session.applySessionHash(t.sessionHash);const n=Yl(),r={type:"start",pageNo:this.session.incPageNo(),ingestPoint:this.options.ingestPoint,timestamp:n,url:document.URL,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap};this.worker.postMessage(r),this.session.update({metadata:t.metadata||this.session.getInfo().metadata,userID:t.userID});const i=this.sessionStorage.getItem(this.options.session_reset_key);this.sessionStorage.removeItem(this.options.session_reset_key);const o=t.forceNew||i!==null;return window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},this.getTrackerInfo()),{timestamp:n,userID:this.session.getInfo().userID,token:o?void 0:this.session.getSessionToken(),deviceMemory:RC,jsHeapSizeLimit:bC}))}).then(s=>s.status===200?s.json():s.text().then(l=>l===Ro?Promise.reject(Ro):Promise.reject(`Server error: ${s.status}. ${l}`))).then(s=>{if(!this.worker)return Promise.reject("no worker found after start request (this might not happen)");if(this.activityState===dt.NotActive)return Promise.reject("Tracker stopped during authorisation");const{token:l,userUUID:a,sessionID:c,projectID:u,beaconSizeLimit:f,startTimestamp:d}=s;if(typeof l!="string"||typeof a!="string"||typeof f!="number"&&typeof f<"u")return Promise.reject(`Incorrect server response: ${JSON.stringify(s)}`);const h=this.session.getInfo().sessionID;h&&h!==c&&this.session.reset(),this.session.setSessionToken(l),this.session.update({sessionID:c,timestamp:d||n,projectID:u}),this.localStorage.setItem(this.options.local_uuid_key,a);const p={type:"auth",token:l,beaconSizeLimit:f};this.worker.postMessage(p);const m={sessionToken:l,userUUID:a,sessionID:c};return this.startCallbacks.forEach(E=>E(m)),this.observer.observe(),this.ticker.start(),this.activityState=dt.Active,this.notify.log("OpenReplay tracking started."),typeof this.options.onStart=="function"&&this.options.onStart(m),OC(m)}).catch(s=>(this.stop(),this.session.reset(),s===Ro?bo(Ro):(this.notify.log("OpenReplay was unable to start. ",s),this._debug("session_start",s),bo(PC))))}start(t={}){return document.hidden?new Promise(n=>{const r=()=>{document.hidden||(document.removeEventListener("visibilitychange",r),n(this._start(t)))};document.addEventListener("visibilitychange",r)}):this._start(t)}stop(t=!0){if(this.activityState!==dt.NotActive)try{this.sanitizer.clear(),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach(n=>n()),this.notify.log("OpenReplay tracking stopped."),this.worker&&t&&this.worker.postMessage("stop")}finally{this.activityState=dt.NotActive}}restart(){this.stop(!1),this.start({forceNew:!1})}}function NC(e){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t===void 0)return;const n=()=>e.send(Cg(Math.round(t.downlink*1e3),t.type||"unknown"));n(),t.addEventListener("change",n)}const xg=zt&&"InstallTrigger"in window?e=>e.message+`
`+e.stack:e=>e.stack||e.message;function ic(e){return e===void 0?"undefined":e===null?"null":e instanceof Error?xg(e):Array.isArray(e)?`Array(${e.length})`:String(e)}function IC(e){return typeof e!="number"?"NaN":e.toString()}function LC(e){return typeof e!="number"?"NaN":Math.floor(e).toString()}function wd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(e instanceof Error)return xg(e);if(Array.isArray(e)){const t=e.length,n=e.slice(0,10).map(ic).join(", ");return`Array(${t})[${n}]`}if(typeof e=="object"){const t=[];let n=0;for(const r in e){if(++n===10)break;const i=e[r];t.push(r+": "+ic(i))}return"{"+t.join(", ")+"}"}return e.toString()}function AC(e){return typeof e[0]=="string"&&e.unshift(e.shift().replace(/%(o|s|f|d|i)/g,(t,n)=>{const r=e.shift();if(r===void 0)return t;switch(n){case"o":return wd(r);case"s":return ic(r);case"f":return IC(r);case"d":case"i":return LC(r);default:return t}})),e.map(wd).join(" ")}const Td=["log","info","warn","error","debug","assert"];function MC(e,t){const n=Object.assign({consoleMethods:Td,consoleThrottling:30},t);if(!Array.isArray(n.consoleMethods)||n.consoleMethods.length===0)return;const r=e.safe((a,c)=>e.send(dg(a,AC(c))));let i;const o=()=>{i=0};e.attachStartCallback(o),e.ticker.attach(o,33,!1);const s=a=>n.consoleMethods.forEach(c=>{if(Td.indexOf(c)===-1){e.debug.error(`OpenReplay: unsupported console method "${c}"`);return}const u=a[c];a[c]=function(...f){u.apply(this,f),!(i++>n.consoleThrottling)&&r(c,f)}}),l=e.safe(a=>s(a.console));l(window),e.observer.attachContextCallback(l)}var Pg={exports:{}},Va={exports:{}},Rd;function jC(){return Rd||(Rd=1,function(e,t){(function(n,r){e.exports=r()})(bh,function(){function n(m){return!isNaN(parseFloat(m))&&isFinite(m)}function r(m){return m.charAt(0).toUpperCase()+m.substring(1)}function i(m){return function(){return this[m]}}var o=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],l=["fileName","functionName","source"],a=["args"],c=["evalOrigin"],u=o.concat(s,l,a,c);function f(m){if(!!m)for(var E=0;E<u.length;E++)m[u[E]]!==void 0&&this["set"+r(u[E])](m[u[E]])}f.prototype={getArgs:function(){return this.args},setArgs:function(m){if(Object.prototype.toString.call(m)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=m},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(m){if(m instanceof f)this.evalOrigin=m;else if(m instanceof Object)this.evalOrigin=new f(m);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var m=this.getFileName()||"",E=this.getLineNumber()||"",y=this.getColumnNumber()||"",g=this.getFunctionName()||"";return this.getIsEval()?m?"[eval] ("+m+":"+E+":"+y+")":"[eval]:"+E+":"+y:g?g+" ("+m+":"+E+":"+y+")":m+":"+E+":"+y}},f.fromString=function(E){var y=E.indexOf("("),g=E.lastIndexOf(")"),v=E.substring(0,y),S=E.substring(y+1,g).split(","),w=E.substring(g+1);if(w.indexOf("@")===0)var C=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(w,""),_=C[1],b=C[2],M=C[3];return new f({functionName:v,args:S||void 0,fileName:_,lineNumber:b||void 0,columnNumber:M||void 0})};for(var d=0;d<o.length;d++)f.prototype["get"+r(o[d])]=i(o[d]),f.prototype["set"+r(o[d])]=function(m){return function(E){this[m]=Boolean(E)}}(o[d]);for(var h=0;h<s.length;h++)f.prototype["get"+r(s[h])]=i(s[h]),f.prototype["set"+r(s[h])]=function(m){return function(E){if(!n(E))throw new TypeError(m+" must be a Number");this[m]=Number(E)}}(s[h]);for(var p=0;p<l.length;p++)f.prototype["get"+r(l[p])]=i(l[p]),f.prototype["set"+r(l[p])]=function(m){return function(E){this[m]=String(E)}}(l[p]);return f})}(Va)),Va.exports}(function(e,t){(function(n,r){e.exports=r(jC())})(bh,function(r){var i=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(a){if(typeof a.stacktrace<"u"||typeof a["opera#sourceloc"]<"u")return this.parseOpera(a);if(a.stack&&a.stack.match(o))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=c.exec(a.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(o)},this);return c.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var f=u.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),d=f.match(/ (\(.+\)$)/);f=d?f.replace(d[0],""):f;var h=this.extractLocation(d?d[1]:f),p=d&&f||void 0,m=["eval","<anonymous>"].indexOf(h[0])>-1?void 0:h[0];return new r({functionName:p,fileName:m,lineNumber:h[1],columnNumber:h[2],source:u})},this)},parseFFOrSafari:function(a){var c=a.stack.split(`
`).filter(function(u){return!u.match(s)},this);return c.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new r({functionName:u});var f=/((.*".+"[^@]*)?[^@]*)(?:@)/,d=u.match(f),h=d&&d[1]?d[1]:void 0,p=this.extractLocation(u.replace(f,""));return new r({functionName:h,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:u})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf(`
`)>-1&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,u=a.message.split(`
`),f=[],d=2,h=u.length;d<h;d+=2){var p=c.exec(u[d]);p&&f.push(new r({fileName:p[2],lineNumber:p[1],source:u[d]}))}return f},parseOpera10:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=a.stacktrace.split(`
`),f=[],d=0,h=u.length;d<h;d+=2){var p=c.exec(u[d]);p&&f.push(new r({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:u[d]}))}return f},parseOpera11:function(a){var c=a.stack.split(`
`).filter(function(u){return!!u.match(i)&&!u.match(/^Error created at/)},this);return c.map(function(u){var f=u.split("@"),d=this.extractLocation(f.pop()),h=f.shift()||"",p=h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,m;h.match(/\(([^)]*)\)/)&&(m=h.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var E=m===void 0||m==="[arguments not available]"?void 0:m.split(",");return new r({functionName:p,args:E,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:u})},this)}}})})(Pg);const BC=Pg.exports;function bd(e){return[{columnNumber:e.colno,lineNumber:e.lineno,fileName:e.filename,functionName:"",source:""}]}function Ji(e,t){let n=t;try{n=BC.parse(e)}catch{}return bs(e.name,e.message,JSON.stringify(n))}function Og(e,t=window){if(e instanceof ErrorEvent){if(e.error instanceof Error)return Ji(e.error,bd(e));{let[n,r]=e.message.split(":");return r||(n="Error",r=e.message),bs(n,r,JSON.stringify(bd(e)))}}else if("PromiseRejectionEvent"in t&&e instanceof t.PromiseRejectionEvent){if(e.reason instanceof Error)return Ji(e.reason,[]);{let n;try{n=JSON.stringify(e.reason)}catch{n=String(e.reason)}return bs("Unhandled Promise Rejection",n,"[]")}}return null}function FC(e,t){const n=Object.assign({captureExceptions:!0},t);function r(i){function o(s){const l=Og(s,i);l!=null&&e.send(l)}e.attachEventListener(i,"unhandledrejection",o),e.attachEventListener(i,"error",o)}n.captureExceptions&&(e.observer.attachContextCallback(r),r(window))}function xd(e,t=document.location){return e=e.trim(),e.startsWith("/")?t.origin+e:e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")?e:t.origin+t.pathname+e}function zC(e){return pC&&(e.startsWith("data:image/svg+xml")||e.match(/.svg$|/i))}const UC="https://static.openreplay.com/tracker/placeholder.jpeg";function $C(e){function t(l,a){e.send(Jn(l,"src",UC));const{width:c,height:u}=a.getBoundingClientRect();a.hasAttribute("width")||e.send(Jn(l,"width",String(c))),a.hasAttribute("height")||e.send(Jn(l,"height",String(u)))}const n=function(l,a){const{srcset:c}=a;if(!c)return;const u=c.split(",").map(f=>xd(f)).join(",");e.send(Jn(l,"srcset",u))},r=function(l,a){a.src.length>mC&&t(l,a),e.send(xs(l,"src",a.src,e.getBaseHref()))},i=e.safe(function(l){const a=xd(l.src||"");bg(a)&&e.send(Cu(Yl(),0,0,0,0,0,a,"img"))}),o=e.safe(function(l){const a=e.nodes.getID(l);a!==void 0&&(!l.complete||(l.naturalHeight===0&&l.naturalWidth===0&&!zC(l.src)?i(l):e.sanitizer.isHidden(a)||e.sanitizer.isObscured(a)?t(a,l):(r(a,l),n(a,l))))}),s=new MutationObserver(l=>{for(const a of l)if(a.type==="attributes"){const c=a.target,u=e.nodes.getID(c);if(u===void 0)return;a.attributeName==="src"&&r(u,c),a.attributeName==="srcset"&&n(u,c)}});e.attachStopCallback(()=>{s.disconnect()}),e.nodes.attachNodeCallback(l=>{!Oe(l,"IMG")||(e.nodes.attachNodeListener(l,"error",()=>i(l)),e.nodes.attachNodeListener(l,"load",()=>o(l)),o(l),s.observe(l,{attributes:!0,attributeFilter:["src","srcset"]}))})}const VC=["text","password","email","search","number","range","date"];function Pd(e){return Oe(e,"TEXTAREA")?!0:Oe(e,"INPUT")?VC.includes(e.type):!1}function Od(e){if(!Oe(e,"INPUT"))return!1;const t=e.type;return t==="checkbox"||t==="radio"}const HC=zt&&"labels"in HTMLInputElement.prototype?e=>{let t=e;for(;(t=t.parentNode)!==null;)if(Oe(t,"LABEL"))return t;const n=e.labels;if(n!==null&&n.length===1)return n[0]}:e=>{let t=e;for(;(t=t.parentNode)!==null;)if(Oe(t,"LABEL"))return t;const n=e.id;if(n){const r=e.ownerDocument.querySelectorAll('label[for="'+n+'"]');if(r!==null&&r.length===1)return r[0]}};function Dg(e){let t=wu(e);if(t===null){const n=HC(e);t=n&&n.innerText||e.placeholder||e.name||e.id||e.className||e.type}return Rg(t).slice(0,100)}function WC(e,t){const n=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0,obscureInputDates:!1},t);function r(a,c){const u=Dg(c);u!==""&&e.send(cg(a,u))}function i(a,c){let u=c.value,f=n.defaultInputMode;c.type==="password"||e.sanitizer.isHidden(a)?f=2:(e.sanitizer.isObscured(a)||f===0&&(n.obscureInputNumbers&&c.type!=="date"&&/\d\d\d\d/.test(u)||n.obscureInputDates&&c.type==="date"||n.obscureInputEmails&&(c.type==="email"||!!~u.indexOf("@"))))&&(f=1);let d=0;switch(f){case 2:d=-1,u="";break;case 1:d=u.length,u="";break}e.send(ug(a,u,d))}const o=new Map,s=new Map,l=new Set;e.attachStopCallback(()=>{o.clear(),s.clear(),l.clear()}),e.ticker.attach(()=>{o.forEach((a,c)=>{const u=e.nodes.getNode(c);if(!!u){if(!Pd(u)){o.delete(c);return}a!==u.value&&(o.set(c,u.value),l.has(c)||(l.add(c),r(c,u)),i(c,u))}}),s.forEach((a,c)=>{const u=e.nodes.getNode(c);if(!!u){if(!Od(u)){s.delete(c);return}a!==u.checked&&(s.set(c,u.checked),e.send(Jl(c,u.checked)))}})}),e.ticker.attach(Set.prototype.clear,100,!1,l),e.nodes.attachNodeCallback(e.safe(a=>{const c=e.nodes.getID(a);if(c!==void 0){if(Oe(a,"SELECT")&&(i(c,a),e.attachEventListener(a,"change",()=>{i(c,a)})),Pd(a)){o.set(c,a.value),i(c,a);return}if(Od(a)){s.set(c,a.checked),e.send(Jl(c,a.checked));return}}}))}function GC(e,t){let n=e,r=null;do{if(n.id)return`#${n.id}`+(r?` > ${r}`:"");if(r=n.className.split(" ").map(i=>i.trim()).filter(i=>i!=="").reduce((i,o)=>`${i}.${o}`,n.tagName.toLowerCase())+(r?` > ${r}`:""),n===t.body)return r;n=n.parentElement}while(n!==t.body&&n!==null);return r}function Ng(e){const t=e.tagName.toUpperCase();return t==="BUTTON"||t==="A"||t==="LI"||t==="SELECT"||e.onclick!=null||e.getAttribute("role")==="button"}function Dd(e,t){return e instanceof Element?KC(e,t):null}function KC(e,t){let n=e;for(;n!==null&&n!==t.documentElement;){if(qn(n,"masked"))return null;n=n.parentElement}if(Xl(e)){let r=e.ownerSVGElement;for(;r!==null;)e=r,r=r.ownerSVGElement}for(n=e;n!==null&&n!==t.documentElement;){const r=n.tagName.toUpperCase();if(r==="LABEL")return null;if(r==="INPUT"||Ng(n)||wu(n)!==null)return n;n=n.parentElement}return e===t.documentElement?null:e}function JC(e){function t(u){const f=wu(u);if(f!==null)return f;if(Oe(u,"INPUT"))return Dg(u);if(Ng(u)){let d="";return u instanceof HTMLElement&&(d=e.sanitizer.getInnerTextSecure(u)),d=d||u.id||u.className,Rg(d).slice(0,100)}return""}let n=-1,r=-1,i=!1,o=null,s=0,l={};e.attachStopCallback(()=>{n=-1,r=-1,i=!1,o=null,l={}});const a=()=>{i&&(e.send(fg(n,r)),i=!1)},c=(u,f=!1)=>{function d(p,m){return l[p]=l[p]||GC(m,u)}const h=f?e.attachEventListener.bind(e):e.nodes.attachNodeListener.bind(e.nodes);h(u.documentElement,"mouseover",p=>{const m=Dd(p.target,u);m!==o&&(o=m,s=performance.now())}),h(u,"mousemove",p=>{const[m,E]=e.observer.getDocumentOffset(u);n=p.clientX+m,r=p.clientY+E,i=!0},!1),h(u,"click",p=>{const m=Dd(p.target,u);if(!p.clientX&&!p.clientY||m===null)return;const E=e.nodes.getID(m);E!==void 0&&(a(),e.send(wg(E,o===m?Math.round(performance.now()-s):0,t(m),d(E,m)),!0)),o=null})};e.nodes.attachNodeCallback(u=>{ec(u)&&c(u)}),c(document,!0),e.ticker.attach(a,10)}function qC(e){const t=[],n=document.getElementsByTagName("*"),r=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let i=0;i<n.length;i++){const o=n[i];let s="";if(Oe(o,"IMG")&&(s=o.currentSrc||o.src),!s){const p=getComputedStyle(o).getPropertyValue("background-image");if(p){const m=r.exec(p);m!==null&&(s=m[1],(s.startsWith('"')||s.startsWith("'"))&&(s=s.substr(1,s.length-2)))}}if(!s)continue;const l=s.substr(0,10)==="data:image"?0:e[s];if(l===void 0)continue;const a=o.getBoundingClientRect(),c=Math.max(a.top,0),u=Math.max(a.left,0),f=Math.min(a.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),d=Math.min(a.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(f<=c||d<=u)continue;const h=(f-c)*(d-u);t.push({time:l,area:h})}return t}function QC(e,t){let n=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,r=n*e;for(let i=0;i<t.length;i++){const{time:o,area:s}=t[i];n+=s,r+=s*(o>e?o:e)}return n===0?0:r/n}function YC(e,t){const n=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},t);if("PerformanceObserver"in window||(n.captureResourceTimings=!1),!n.captureResourceTimings)return;let r={};function i(c){c.duration<0||!bg(c.name)||e.isServiceURL(c.name)||(r!==null&&(r[c.name]=c.startTime+c.duration),e.send(Cu(c.startTime+performance.timing.navigationStart,c.duration,c.responseStart&&c.startTime?c.responseStart-c.startTime:0,c.transferSize>c.encodedBodySize?c.transferSize-c.encodedBodySize:0,c.encodedBodySize||0,c.decodedBodySize||0,c.name,c.initiatorType)))}const o=new PerformanceObserver(c=>c.getEntries().forEach(i));let s;e.attachStartCallback(function({sessionID:c}){c!==s&&(performance.getEntriesByType("resource").forEach(i),s=c),o.observe({entryTypes:["resource"]})}),e.attachStopCallback(function(){o.disconnect()});let l=0,a=0;if(n.capturePageLoadTimings){let c=!1;e.ticker.attach(()=>{if(!c&&((l===0||a===0)&&performance.getEntriesByType("paint").forEach(u=>{const{name:f,startTime:d}=u;switch(f){case"first-paint":l=d;break;case"first-contentful-paint":a=d;break}}),performance.timing.loadEventEnd||performance.now()>3e4)){c=!0;const{navigationStart:u,requestStart:f,responseStart:d,responseEnd:h,domContentLoadedEventStart:p,domContentLoadedEventEnd:m,loadEventStart:E,loadEventEnd:y}=performance.timing;e.send(hg(f-u||0,d-u||0,h-u||0,p-u||0,m-u||0,E-u||0,y-u||0,l,a))}},30)}if(n.capturePageRenderTimings){let c=0,u=0,f=0,d=null,h=!1;e.ticker.attach(()=>{if(h)return;const p=performance.now();if(r!==null&&(c=Math.max.apply(null,Object.keys(r).map(m=>r[m])),p-c>1e3&&(d=qC(r),r=null)),f!==null&&(p-f>50&&(u=p),f=p-u>5e3?null:p),d!==null&&f===null||p>3e4){h=!0,r=null;const m=d===null?0:QC(a||l,d),E=f===null?Math.max(u,a,performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart||0):0;e.send(pg(m,a>c?a:c,E))}})}}function Ha(e){const t=e.defaultView;return[t&&t.pageXOffset||e.documentElement&&e.documentElement.scrollLeft||e.body&&e.body.scrollLeft||0,t&&t.pageYOffset||e.documentElement&&e.documentElement.scrollTop||e.body&&e.body.scrollTop||0]}function XC(e){let t=!1;const n=new Map;function r(s){!yC(s)||(nn(s)&&n.set(s,[s.scrollLeft,s.scrollTop]),ec(s)&&n.set(s,Ha(s)))}const i=e.safe(()=>e.send(tg(...Ha(document)))),o=e.safe((s,l)=>{const a=e.nodes.getID(l);a!==void 0&&e.send(lg(a,s[0],s[1]))});e.attachStartCallback(i),e.attachStopCallback(()=>{t=!1,n.clear()}),e.nodes.attachNodeCallback((s,l)=>{l&&(nn(s)&&s.scrollLeft+s.scrollTop>0?n.set(s,[s.scrollLeft,s.scrollTop]):ec(s)&&n.set(s,Ha(s))),ta(s)&&e.nodes.attachNodeListener(s,"scroll",a=>{r(a.target)})}),e.attachEventListener(document,"scroll",s=>{const l=s.target;if(l===document){t=!0;return}r(l)}),e.ticker.attach(()=>{t&&(i(),t=!1),n.forEach(o),n.clear()},5,!1)}function ZC(e){let t,n,r,i=performance.timing.navigationStart;const o=e.safe(()=>{const{URL:a}=document;a!==t&&(t=a,e.send(Zm(t,document.referrer,i)),i=0)}),s=e.safe(()=>{const{innerWidth:a,innerHeight:c}=window;(a!==n||c!==r)&&(n=a,r=c,e.send(eg(n,r)))}),l=document.hidden===void 0?Function.prototype:e.safe(()=>e.send(Eg(document.hidden)));e.attachStartCallback(()=>{t="",n=r=-1,o(),s(),l()}),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",l,!1,!1),e.ticker.attach(o,1,!1),e.ticker.attach(s,5,!1)}function Nd(e){return ta(e)&&!!e.adoptedStyleSheets}let eE=15;function Ig(){return eE++}const xo=new Map;function tE(e){if(e===null)return;if(!Nd(document)){e.attachStartCallback(()=>{e.send(Eu("no_adopted_stylesheets",""))});return}const t=new Map,n=new Map,r=s=>setTimeout(()=>{let l=e.nodes.getID(s);if(s===document&&(l=0),l===void 0)return;let a=n.get(l);a||(a=[]);const c=[],u=s.adoptedStyleSheets;for(const f of u){let d=t.get(f);const h=!d;if(d||(d=Ig(),t.set(f,d)),a.includes(d)||e.send(ku(d,l)),h){const p=f.cssRules;for(let m=0;m<p.length;m++)e.send(Ps(d,p[m].cssText,m,e.getBaseHref()))}c.push(d)}for(const f of a)c.includes(f)||e.send(Tg(f,l));n.set(l,c)},20);function i(s){const l=Object.getOwnPropertyDescriptor(s,"adoptedStyleSheets");l&&Object.defineProperty(s,"adoptedStyleSheets",Object.assign(Object.assign({},l),{set:function(a){const c=l.set.call(this,a);return r(this),c}}))}const o=s=>{if(s.__openreplay_adpss_patched__)return;s.__openreplay_adpss_patched__=!0,i(s.Document.prototype),i(s.ShadowRoot.prototype);const{replace:l,replaceSync:a}=s.CSSStyleSheet.prototype;s.CSSStyleSheet.prototype.replace=function(c){return l.call(this,c).then(u=>{const f=t.get(this);return f&&e.send(ql(f,c,e.getBaseHref())),u})},s.CSSStyleSheet.prototype.replaceSync=function(c){const u=t.get(this);return u&&e.send(ql(u,c,e.getBaseHref())),a.call(this,c)}};o(window),e.observer.attachContextCallback(e.safe(o)),e.attachStopCallback(()=>{t.clear(),n.clear()}),e.attachStartCallback(()=>{r(document)}),e.nodes.attachNodeCallback(s=>{Nd(s)&&r(s)})}function nE(e){if(e===null)return;if(!window.CSSStyleSheet){e.send(Eu("no_stylesheet_prototype_in_window",""));return}const t=e.safe((i,o,s)=>{const l=xo.get(i);!l||(typeof s=="string"?e.send(Ps(l,s,o,e.getBaseHref())):e.send(Ql(l,o)))}),n=e.safe(i=>{let o=i;for(;o.parentRule;)o=o.parentRule;const s=o.parentStyleSheet;if(!s){e.debug.warn("No parent StyleSheet found for",o,i);return}const l=xo.get(s);if(!l){e.debug.warn("No sheedID found for",s,xo);return}const a=o.cssText,c=s.cssRules,u=Array.from(c).indexOf(o);u>=0?(e.send(Ps(l,a,u,e.getBaseHref())),e.send(Ql(l,u+1))):e.debug.warn("Rule index not found in",s,o)}),r=e.safe(i=>{const{insertRule:o,deleteRule:s}=i.CSSStyleSheet.prototype,{insertRule:l,deleteRule:a}=i.CSSGroupingRule.prototype;i.CSSStyleSheet.prototype.insertRule=function(c,u=0){return t(this,u,c),o.call(this,c,u)},i.CSSStyleSheet.prototype.deleteRule=function(c){return t(this,c),s.call(this,c)},i.CSSGroupingRule.prototype.insertRule=function(c,u=0){const f=l.call(this,c,u);return n(this),f},i.CSSGroupingRule.prototype.deleteRule=function(c=0){const u=a.call(this,c);return n(this),u}});r(window),e.observer.attachContextCallback(r),e.nodes.attachNodeCallback(i=>{if(!(Oe(i,"STYLE")||Oe(i,"style"))||!i.sheet||i.textContent!==null&&i.textContent.trim().length>0)return;const o=e.nodes.getID(i);if(!o)return;const s=i.sheet,l=Ig();xo.set(s,l),e.send(ku(l,o));const a=s.cssRules;for(let c=0;c<a.length;c++)t(s,c,a[c].cssText)})}const rE=hC,Go="/installation/setup-or";function iE(e){if(e==null)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${Os}${Go}`),!1;if(typeof e.projectKey!="string")if(typeof e.projectKey!="number"){if(typeof e.projectID!="number")return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${Os}${Go} for more information.`),!1;e.projectKey=e.projectID.toString(),_n("`projectID` option","`projectKey` option",Go)}else console.warn("OpenReplay: projectKey is expected to have a string type."),e.projectKey=e.projectKey.toString();return e.sessionToken!=null&&_n("`sessionToken` option","`sessionHash` start() option","/"),!0}class oE{constructor(t){if(this.options=t,this.app=null,this.handleError=i=>{if(this.app!==null){if(i instanceof Error)this.app.send(Ji(i,[]));else if(i instanceof ErrorEvent||"PromiseRejectionEvent"in window&&i instanceof PromiseRejectionEvent){const o=Og(i);o!=null&&this.app.send(o)}}},!zt||!iE(t))return;if(window.__OPENREPLAY__){console.error("OpenReplay: one tracker instance has been initialised already");return}if(!t.__DISABLE_SECURE_MODE&&location.protocol!=="https:"){console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");return}const n=t.respectDoNotTrack&&(navigator.doNotTrack=="1"||window.doNotTrack=="1"),r=this.app=n||!("Map"in window)||!("Set"in window)||!("MutationObserver"in window)||!("performance"in window)||!("timing"in performance)||!("startsWith"in String.prototype)||!("Blob"in window)||!("Worker"in window)?null:new DC(t.projectKey,t.sessionToken,t);if(r!==null){if(ZC(r),nE(r),tE(r),NC(r),MC(r,t),FC(r,t),$C(r),WC(r,t),JC(r),YC(r,t),xC(r,t),XC(r),window.__OPENREPLAY__=this,t.autoResetOnWindowOpen){const i=window.open;r.attachStartCallback(()=>{window.open=function(...o){r.resetNextPageSession(!0),i.call(window,...o),r.resetNextPageSession(!1)}}),r.attachStopCallback(()=>{window.open=i})}}else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");const i=new XMLHttpRequest,o=t.ingestPoint||rc;i.open("POST",o+"/v1/web/not-started"),i.send(JSON.stringify({trackerVersion:"4.1.5",projectKey:t.projectKey,doNotTrack:n}))}}use(t){return t(this.app,this.options)}isActive(){return this.app===null?!1:this.app.active()}start(t){return zt?this.app===null?Promise.reject("Browser doesn't support required api, or doNotTrack is active."):this.app.start(t):(console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${Os}${Go}`),Promise.reject("Trying to start not in browser."))}stop(){if(this.app!==null)return this.app.stop(),this.app.session.getSessionHash()}getSessionToken(){return this.app===null?null:this.app.getSessionToken()}getSessionID(){return this.app===null?null:this.app.getSessionID()}sessionID(){return _n("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}getSessionURL(){if(this.app!==null)return this.app.getSessionURL()}setUserID(t){typeof t=="string"&&this.app!==null&&this.app.session.setUserID(t)}userID(t){_n("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){typeof t=="string"&&this.app!==null&&this.app.send(yg(t))}userAnonymousID(t){_n("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,n){typeof t=="string"&&typeof n=="string"&&this.app!==null&&this.app.session.setMetadata(t,n)}metadata(t,n){_n("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,n)}event(t,n,r=!1){if(typeof t=="string"&&this.app!==null){if(r)return this.issue(t,n);try{n=JSON.stringify(n)}catch{return}this.app.send(mg(t,n))}}issue(t,n){if(typeof t=="string"&&this.app!==null){try{n=JSON.stringify(n)}catch{return}this.app.send(kg(t,n))}}}typeof window<"u"&&(window.parcelRequire=window.parcelRequire||void 0);const Ut=Object.create(null);Ut.open="0";Ut.close="1";Ut.ping="2";Ut.pong="3";Ut.message="4";Ut.upgrade="5";Ut.noop="6";const Ko=Object.create(null);Object.keys(Ut).forEach(e=>{Ko[Ut[e]]=e});const sE={type:"error",data:"parser error"},aE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lE=typeof ArrayBuffer=="function",cE=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Lg=({type:e,data:t},n,r)=>aE&&t instanceof Blob?n?r(t):Id(t,r):lE&&(t instanceof ArrayBuffer||cE(t))?n?r(t):Id(new Blob([t]),r):r(Ut[e]+(t||"")),Id=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+r)},n.readAsDataURL(e)},Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ld.length;e++)pi[Ld.charCodeAt(e)]=e;const uE=e=>{let t=e.length*.75,n=e.length,r,i=0,o,s,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=pi[e.charCodeAt(r)],s=pi[e.charCodeAt(r+1)],l=pi[e.charCodeAt(r+2)],a=pi[e.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|l>>2,u[i++]=(l&3)<<6|a&63;return c},fE=typeof ArrayBuffer=="function",Ag=(e,t)=>{if(typeof e!="string")return{type:"message",data:Mg(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:dE(e.substring(1),t)}:Ko[n]?e.length>1?{type:Ko[n],data:e.substring(1)}:{type:Ko[n]}:sE},dE=(e,t)=>{if(fE){const n=uE(e);return Mg(n,t)}else return{base64:!0,data:e}},Mg=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},jg=String.fromCharCode(30),hE=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,s)=>{Lg(o,!1,l=>{r[s]=l,++i===n&&t(r.join(jg))})})},pE=(e,t)=>{const n=e.split(jg),r=[];for(let i=0;i<n.length;i++){const o=Ag(n[i],t);if(r.push(o),o.type==="error")break}return r},Bg=4;function ye(e){if(e)return mE(e)}function mE(e){for(var t in ye.prototype)e[t]=ye.prototype[t];return e}ye.prototype.on=ye.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ye.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ye.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ye.prototype.hasListeners=function(e){return!!this.listeners(e).length};const kn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Fg(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const gE=setTimeout,yE=clearTimeout;function na(e,t){t.useNativeTimers?(e.setTimeoutFn=gE.bind(kn),e.clearTimeoutFn=yE.bind(kn)):(e.setTimeoutFn=setTimeout.bind(kn),e.clearTimeoutFn=clearTimeout.bind(kn))}const vE=1.33;function SE(e){return typeof e=="string"?CE(e):Math.ceil((e.byteLength||e.size)*vE)}function CE(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class EE extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class zg extends ye{constructor(t){super(),this.writable=!1,na(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new EE(t,n,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ag(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Ug="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),oc=64,_E={};let Ad=0,Po=0,Md;function jd(e){let t="";do t=Ug[e%oc]+t,e=Math.floor(e/oc);while(e>0);return t}function $g(){const e=jd(+new Date);return e!==Md?(Ad=0,Md=e):e+"."+jd(Ad++)}for(;Po<oc;Po++)_E[Ug[Po]]=Po;function Vg(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function kE(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}let Hg=!1;try{Hg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wE=Hg;function Wg(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||wE))return new XMLHttpRequest}catch{}if(!t)try{return new kn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function TE(){}const RE=function(){return new Wg({xdomain:!1}).responseType!=null}();class bE extends zg{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=RE&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};pE(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hE(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=$g()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=Vg(t),o=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Ft(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Ft extends ye{constructor(t,n){super(),na(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=Fg(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new Wg(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Ft.requestsCount++,Ft.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=TE,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ft.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ft.requestsCount=0;Ft.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bd);else if(typeof addEventListener=="function"){const e="onpagehide"in kn?"pagehide":"unload";addEventListener(e,Bd,!1)}}function Bd(){for(let e in Ft.requests)Ft.requests.hasOwnProperty(e)&&Ft.requests[e].abort()}const Gg=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Oo=kn.WebSocket||kn.MozWebSocket,Fd=!0,xE="arraybuffer",zd=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class PE extends zg{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=zd?{}:Fg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Fd&&!zd?n?new Oo(t,n):new Oo(t):new Oo(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||xE,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Lg(r,this.supportsBinary,o=>{const s={};try{Fd&&this.ws.send(o)}catch{}i&&Gg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=$g()),this.supportsBinary||(t.b64=1);const i=Vg(t),o=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Oo}}const OE={websocket:PE,polling:bE},DE=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sc(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=DE.exec(e||""),o={},s=14;for(;s--;)o[NE[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=IE(o,o.path),o.queryKey=LE(o,o.query),o}function IE(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function LE(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}class vn extends ye{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=sc(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=sc(n.host).host),na(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=kE(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Bg,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new OE[t](r)}open(){let t;if(this.opts.rememberUpgrade&&vn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;vn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;vn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const s=f=>{const d=new Error("probe error: "+f);d.transport=n.name,o(),this.emitReserved("upgradeError",d)};function l(){s("transport closed")}function a(){s("socket closed")}function c(f){n&&f.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",l),this.off("close",a),this.off("upgrading",c)};n.once("open",i),n.once("error",s),n.once("close",l),this.once("close",a),this.once("upgrading",c),n.open()}onOpen(){if(this.readyState="open",vn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=SE(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){vn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}vn.protocol=Bg;function AE(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=sc(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const ME=typeof ArrayBuffer=="function",jE=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Kg=Object.prototype.toString,BE=typeof Blob=="function"||typeof Blob<"u"&&Kg.call(Blob)==="[object BlobConstructor]",FE=typeof File=="function"||typeof File<"u"&&Kg.call(File)==="[object FileConstructor]";function Ru(e){return ME&&(e instanceof ArrayBuffer||jE(e))||BE&&e instanceof Blob||FE&&e instanceof File}function Jo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Jo(e[n]))return!0;return!1}if(Ru(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Jo(e[n]))return!0;return!1}function zE(e){const t=[],n=e.data,r=e;return r.data=ac(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ac(e,t){if(!e)return e;if(Ru(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ac(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ac(e[r],t));return n}return e}function UE(e,t){return e.data=lc(e.data,t),e.attachments=void 0,e}function lc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=lc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=lc(e[n],t));return e}const $E=5;var H;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(H||(H={}));class VE{constructor(t){this.replacer=t}encode(t){return(t.type===H.EVENT||t.type===H.ACK)&&Jo(t)?(t.type=t.type===H.EVENT?H.BINARY_EVENT:H.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===H.BINARY_EVENT||t.type===H.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=zE(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class bu extends ye{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t),n.type===H.BINARY_EVENT||n.type===H.BINARY_ACK?(this.reconstructor=new HE(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ru(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(H[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===H.BINARY_EVENT||r.type===H.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(bu.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case H.CONNECT:return typeof n=="object";case H.DISCONNECT:return n===void 0;case H.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case H.EVENT:case H.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case H.ACK:case H.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class HE{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=UE(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const WE=Object.freeze(Object.defineProperty({__proto__:null,protocol:$E,get PacketType(){return H},Encoder:VE,Decoder:bu},Symbol.toStringTag,{value:"Module"}));function Tt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const GE=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Jg extends ye{constructor(t,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Tt(t,"open",this.onopen.bind(this)),Tt(t,"packet",this.onpacket.bind(this)),Tt(t,"error",this.onerror.bind(this)),Tt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(GE.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');n.unshift(t);const r={type:H.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,l=n.pop();this._registerAckCallback(s,l),r.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...o])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:H.CONNECT,data:t})}):this.packet({type:H.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case H.CONNECT:if(t.data&&t.data.sid){const i=t.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case H.EVENT:case H.BINARY_EVENT:this.onevent(t);break;case H.ACK:case H.BINARY_ACK:this.onack(t);break;case H.DISCONNECT:this.ondisconnect();break;case H.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:H.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:H.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Vr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Vr.prototype.reset=function(){this.attempts=0};Vr.prototype.setMin=function(e){this.ms=e};Vr.prototype.setMax=function(e){this.max=e};Vr.prototype.setJitter=function(e){this.jitter=e};class cc extends ye{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,na(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||WE;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vn(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Tt(n,"open",function(){r.onopen(),t&&t()}),o=Tt(n,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),t?t(s):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const s=this._timeout;s===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Tt(t,"ping",this.onping.bind(this)),Tt(t,"data",this.ondata.bind(this)),Tt(t,"error",this.onerror.bind(this)),Tt(t,"close",this.onclose.bind(this)),Tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Gg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new Jg(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const oi={};function qo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=AE(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=oi[i]&&o in oi[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let a;return l?a=new cc(r,t):(oi[i]||(oi[i]=new cc(r,t)),a=oi[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(qo,{Manager:cc,Socket:Jg,io:qo,connect:qo});var xu={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var n=e.exports.BlobBuilder;typeof window<"u"&&(n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function r(){this._pieces=[],this._parts=[]}r.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},r.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new n,o=0,s=this._parts.length;o<s;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=r})(xu);var KE=xu.exports.BufferBuilder,Ud=xu.exports.binaryFeatures,JE={unpack:function(e){var t=new Ie(e);return t.unpack()},pack:function(e){var t=new Le;t.pack(e);var n=t.getBuffer();return n}},$d=JE;function Ie(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}Ie.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};Ie.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};Ie.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};Ie.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};Ie.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};Ie.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};Ie.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};Ie.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};Ie.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};Ie.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};Ie.prototype.unpack_string=function(e){for(var t=this.read(e),n=0,r="",i,o;n<e;)i=t[n],i<128?(r+=String.fromCharCode(i),n++):(i^192)<32?(o=(i^192)<<6|t[n+1]&63,r+=String.fromCharCode(o),n+=2):(o=(i&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,r+=String.fromCharCode(o),n+=3);return this.index+=e,r};Ie.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t};Ie.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t};Ie.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*Math.pow(2,n-23)};Ie.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,r-20)+t*Math.pow(2,r-52);return(n===0?1:-1)*o};Ie.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function Le(){this.bufferBuilder=new KE}Le.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Le.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)Ud.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)Ud.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};Le.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Le.prototype.pack_string=function(e){var t=QE(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};Le.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var n=0;n<t;n++)this.pack(e[n])};Le.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};Le.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)};Le.prototype.pack_object=function(e){var t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var r in e)e.hasOwnProperty(r)&&(this.pack(r),this.pack(e[r]))};Le.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};Le.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};Le.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};Le.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};Le.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};Le.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};Le.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Le.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function qE(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function QE(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,qE).length}let qg=!0,Qg=!0;function mi(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Hr(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const a=c=>{const u=n(c);u&&(l.handleEvent?l.handleEvent(u):l(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,a),i.apply(this,[s,a])};const o=r.removeEventListener;r.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const a=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,a])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function YE(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(qg=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function XE(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Qg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Pu(){if(typeof window=="object"){if(qg)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ra(e,t){!Qg||console.warn(e+" is deprecated, please use "+t+" instead.")}function ZE(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=mi(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=mi(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=mi(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=mi(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Vd(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yg(e){return Vd(e)?Object.keys(e).reduce(function(t,n){const r=Vd(e[n]),i=r?Yg(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function uc(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?uc(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{uc(e,e.get(i),n)})}))}function Hd(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===r&&l.trackId===s.id&&uc(e,l,i)})}),i}const Wd=Pu;function Xg(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof l[c]=="object"?l[c]:{ideal:l[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(d,h){return d?d+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(u.ideal!==void 0){a.optional=a.optional||[];let d={};typeof u.ideal=="number"?(d[f("min",c)]=u.ideal,a.optional.push(d),d={},d[f("max",c)]=u.ideal,a.optional.push(d)):(d[f("",c)]=u.ideal,a.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[f("",c)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[f(d,c)]=u[d])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},i=function(l,a){if(t.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete l.video.facingMode;let f;if(c.exact==="environment"||c.ideal==="environment"?f=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(p=>p.kind==="videoinput");let h=d.find(p=>f.some(m=>p.label.toLowerCase().includes(m)));return!h&&d.length&&f.includes("back")&&(h=d[d.length-1]),h&&(l.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),l.video=r(l.video),Wd("chrome: "+JSON.stringify(l)),a(l)})}l.video=r(l.video)}return Wd("chrome: "+JSON.stringify(l)),a(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,a,c){i(l,u=>{n.webkitGetUserMedia(u,a,f=>{c&&c(o(f))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return i(a,c=>l(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(o(u))))}}}function e_(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const o=r.video&&r.video.width,s=r.video&&r.video.height,l=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(r.video.mandatory.maxWidth=o),s&&(r.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(r)})}}}function Zg(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ey(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Hr(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function ty(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(a=>a.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ny(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,o]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const s=function(a){const c={};return a.result().forEach(f=>{const d={id:f.id,timestamp:f.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[f.type]||f.type};f.names().forEach(h=>{d[h]=f.stat(h)}),c[d.id]=d}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){i(l(s(c)))};return t.apply(this,[a,r])}return new Promise((a,c)=>{t.apply(this,[function(u){a(l(s(u)))},c])}).then(i,o)}}function ry(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>Hd(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Hr(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Hd(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===r&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(o?s=!0:o=l),l.track===r)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function iy(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(f=>f.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(a)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(s);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function oy(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return iy(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(h=>h.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new e.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(m=>m===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[f.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const m=new e.MediaStream([u]);this._streams[f.id]=m,this._reverseStreams[m.id]=f,this.addStream(m)}return this.getSenders().find(m=>m.track===u)};function o(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],p=c._streams[h.id];f=f.replace(new RegExp(p.id,"g"),h.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function s(c,u){let f=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const h=c._reverseStreams[d],p=c._streams[h.id];f=f.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(c){const u=e.RTCPeerConnection.prototype[c],f={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[p=>{const m=o(this,p);d[0].apply(null,[m])},p=>{d[1]&&d[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>o(this,p))}};e.RTCPeerConnection.prototype[c]=f[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(m=>u.track===m)&&(d=this._streams[h])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function fc(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function sy(e,t){Hr(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Gd=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:Zg,shimOnTrack:ey,shimGetSendersWithDtmf:ty,shimGetStats:ny,shimSenderReceiverGetStats:ry,shimAddTrackRemoveTrackWithNative:iy,shimAddTrackRemoveTrack:oy,shimPeerConnection:fc,fixNegotiationNeeded:sy,shimGetUserMedia:Xg,shimGetDisplayMedia:e_},Symbol.toStringTag,{value:"Module"}));function t_(e,t){let n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(r=>{if(r&&(r.urls||r.url)){let i=r.urls||r.url;r.url&&!r.urls&&ra("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(s=>{if(s.indexOf("stun:")===0)return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!n?(n=!0,!0):l&&!n}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}var Ou={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(function(r){return r.trim()})},t.splitSections=function(n){var r=n.split(`
m=`);return r.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(n){var r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){var r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(function(i){return i.indexOf(r)===0})},t.parseCandidate=function(n){var r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");for(var i={foundation:r[0],component:parseInt(r[1],10),protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]},o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]=r[o+1];break}return i},t.writeCandidate=function(n){var r=[];r.push(n.foundation),r.push(n.component),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);var i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substr(14).split(" ")},t.parseRtpMap=function(n){var r=n.substr(9).split(" "),i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){var r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);var i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){var r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},t.parseFmtp=function(n){for(var r={},i,o=n.substr(n.indexOf(" ")+1).split(";"),s=0;s<o.length;s++)i=o[s].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){var r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var o=[];Object.keys(n.parameters).forEach(function(s){n.parameters[s]?o.push(s+"="+n.parameters[s]):o.push(s)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){var r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){var r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(o){r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){var r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substr(r+1,o-r-1),i.value=n.substr(o+1)):i.attribute=n.substr(r+1),i},t.parseSsrcGroup=function(n){var r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(function(i){return parseInt(i,10)})}},t.getMid=function(n){var r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(n){var r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1]}},t.getDtlsParameters=function(n,r){var i=t.matchPrefix(n+r,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){var i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){var r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){var i=t.matchPrefix(n+r,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(n,r){var i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},t.parseRtpParameters=function(n){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n),o=i[0].split(" "),s=3;s<o.length;s++){var l=o[s],a=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(a){var c=t.parseRtpMap(a),u=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(n,"a=extmap:").forEach(function(f){r.headerExtensions.push(t.parseExtmap(f))}),r},t.writeRtpDescription=function(n,r){var i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(function(s){i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});var o=0;return r.codecs.forEach(function(s){s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,r.headerExtensions&&r.headerExtensions.forEach(function(s){i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(n){var r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(function(d){return t.parseSsrcMedia(d)}).filter(function(d){return d.attribute==="cname"}),a=l.length>0&&l[0].ssrc,c,u=t.matchPrefix(n,"a=ssrc-group:FID").map(function(d){var h=d.substr(17).split(" ");return h.map(function(p){return parseInt(p,10)})});u.length>0&&u[0].length>1&&u[0][0]===a&&(c=u[0][1]),i.codecs.forEach(function(d){if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){var h={ssrc:a,codecPayloadType:parseInt(d.parameters.apt,10)};a&&c&&(h.rtx={ssrc:c}),r.push(h),o&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&a&&r.push({ssrc:a});var f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substr(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substr(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(function(d){d.maxBitrate=f})),r},t.parseRtcpParameters=function(n){var r={},i=t.matchPrefix(n,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);var o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;var s=t.matchPrefix(n,"a=rtcp-mux");return r.mux=s.length>0,r},t.parseMsid=function(n){var r,i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};var o=t.matchPrefix(n,"a=ssrc:").map(function(s){return t.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){var r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var s=t.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:r.fmt,maxMessageSize:o};var l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){var a=t.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){var i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,r,i){var o,s=r!==void 0?r:2;n?o=n:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(n,r,i,o){var s=t.writeRtpDescription(n.kind,r);if(s+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),s+="a=mid:"+n.mid+`\r
`,n.direction?s+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var l="msid:"+o.id+" "+n.rtpSender.track.id+`\r
`;s+="a="+l,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+l,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),s},t.getDirection=function(n,r){for(var i=t.splitLines(n),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){var r=t.splitLines(n),i=r[0].split(" ");return i[0].substr(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){var r=t.splitLines(n),i=r[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){var r=t.matchPrefix(n,"o=")[0],i=r.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var r=t.splitLines(n),i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(Ou);const Qo=Ou.exports;var L=Ou.exports;function n_(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Kd(e,t,n,r,i){var o=L.writeRtpDescription(e.kind,t);if(o+=L.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=L.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(r?r.id:"-")+" "+s+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+L.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+L.localCName+`\r
`),o}function r_(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(r){if(r&&(r.urls||r.url)){var i=r.urls||r.url;r.url&&!r.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(s){var l=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!n;return l?(n=!0,!0):s.indexOf("stun:")===0&&t>=14393&&s.indexOf("?transport=udp")===-1}),delete r.url,r.urls=o?i[0]:i,!!i.length}})}function Do(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(o,s){o=parseInt(o,10);for(var l=0;l<s.length;l++)if(s[l].payloadType===o||s[l].preferredPayloadType===o)return s[l]},i=function(o,s,l,a){var c=r(o.parameters.apt,l),u=r(s.parameters.apt,a);return c&&u&&c.name.toLowerCase()===u.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var l=t.codecs[s];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),n.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(a){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===a.type&&o.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var s=0;s<t.headerExtensions.length;s++){var l=t.headerExtensions[s];if(o.uri===l.uri){n.headerExtensions.push(l);break}}}),n}function Jd(e,t,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)!==-1}function Wa(e,t){var n=e.getRemoteCandidates().find(function(r){return t.foundation===r.foundation&&t.ip===r.ip&&t.port===r.port&&t.priority===r.priority&&t.protocol===r.protocol&&t.type===r.type});return n||e.addRemoteCandidate(t),!n}function Ue(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var i_=function(e,t){function n(a,c){c.addTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:a}))}function r(a,c){c.removeTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:a}))}function i(a,c,u,f){var d=new Event("track");d.track=c,d.receiver=u,d.transceiver={receiver:u},d.streams=f,e.setTimeout(function(){a._dispatchEvent("track",d)})}var o=function(a){var c=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(d){c[d]=u[d].bind(u)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle=a.bundlePolicy==="max-bundle",a.rtcpMuxPolicy==="negotiate")throw Ue("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all";break}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced";break}if(a.iceServers=r_(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var f=a.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=L.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(a,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+a]=="function"&&this["on"+a](c))},o.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(a,c){var u=this.transceivers.length>0,f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&u)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var d=this._createIceAndDtlsTransports();f.iceTransport=d.iceTransport,f.dtlsTransport=d.dtlsTransport}return c||this.transceivers.push(f),f},o.prototype.addTrack=function(a,c){if(this._isClosed)throw Ue("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var u=this.transceivers.find(function(h){return h.track===a});if(u)throw Ue("InvalidAccessError","Track already exists.");for(var f,d=0;d<this.transceivers.length;d++)!this.transceivers[d].track&&this.transceivers[d].kind===a.kind&&(f=this.transceivers[d]);return f||(f=this._createTransceiver(a.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),f.track=a,f.stream=c,f.rtpSender=new e.RTCRtpSender(a,f.dtlsTransport),f.rtpSender},o.prototype.addStream=function(a){var c=this;if(t>=15025)a.getTracks().forEach(function(f){c.addTrack(f,a)});else{var u=a.clone();a.getTracks().forEach(function(f,d){var h=u.getTracks()[d];f.addEventListener("enabled",function(p){h.enabled=p.enabled})}),u.getTracks().forEach(function(f){c.addTrack(f,u)})}},o.prototype.removeTrack=function(a){if(this._isClosed)throw Ue("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(d){return d.rtpSender===a});if(!c)throw Ue("InvalidAccessError","Sender was not created by this connection.");var u=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var f=this.transceivers.map(function(d){return d.stream});f.indexOf(u)===-1&&this.localStreams.indexOf(u)>-1&&this.localStreams.splice(this.localStreams.indexOf(u),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(u){var f=c.getSenders().find(function(d){return d.track===u});f&&c.removeTrack(f)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},o.prototype._createIceGatherer=function(a,c){var u=this;if(c&&a>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[a].bufferedCandidateEvents=[],this.transceivers[a].bufferCandidates=function(d){var h=!d.candidate||Object.keys(d.candidate).length===0;f.state=h?"completed":"gathering",u.transceivers[a].bufferedCandidateEvents!==null&&u.transceivers[a].bufferedCandidateEvents.push(d)},f.addEventListener("localcandidate",this.transceivers[a].bufferCandidates),f},o.prototype._gather=function(a,c){var u=this,f=this.transceivers[c].iceGatherer;if(!f.onlocalcandidate){var d=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),f.onlocalcandidate=function(h){if(!(u.usingBundle&&c>0)){var p=new Event("icecandidate");p.candidate={sdpMid:a,sdpMLineIndex:c};var m=h.candidate,E=!m||Object.keys(m).length===0;if(E)(f.state==="new"||f.state==="gathering")&&(f.state="completed");else{f.state==="new"&&(f.state="gathering"),m.component=1,m.ufrag=f.getLocalParameters().usernameFragment;var y=L.writeCandidate(m);p.candidate=Object.assign(p.candidate,L.parseCandidate(y)),p.candidate.candidate=y,p.candidate.toJSON=function(){return{candidate:p.candidate.candidate,sdpMid:p.candidate.sdpMid,sdpMLineIndex:p.candidate.sdpMLineIndex,usernameFragment:p.candidate.usernameFragment}}}var g=L.getMediaSections(u._localDescription.sdp);E?g[p.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:g[p.candidate.sdpMLineIndex]+="a="+p.candidate.candidate+`\r
`,u._localDescription.sdp=L.getDescription(u._localDescription.sdp)+g.join("");var v=u.transceivers.every(function(S){return S.iceGatherer&&S.iceGatherer.state==="completed"});u.iceGatheringState!=="gathering"&&(u.iceGatheringState="gathering",u._emitGatheringStateChange()),E||u._dispatchEvent("icecandidate",p),v&&(u._dispatchEvent("icecandidate",new Event("icecandidate")),u.iceGatheringState="complete",u._emitGatheringStateChange())}},e.setTimeout(function(){d.forEach(function(h){f.onlocalcandidate(h)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var a=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState(),a._updateConnectionState()};var u=new e.RTCDtlsTransport(c);return u.ondtlsstatechange=function(){a._updateConnectionState()},u.onerror=function(){Object.defineProperty(u,"state",{value:"failed",writable:!0}),a._updateConnectionState()},{iceTransport:c,dtlsTransport:u}},o.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);var u=this.transceivers[a].iceTransport;u&&(delete u.onicestatechange,delete this.transceivers[a].iceTransport);var f=this.transceivers[a].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[a].dtlsTransport)},o.prototype._transceive=function(a,c,u){var f=Do(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(f.encodings=a.sendEncodingParameters,f.rtcp={cname:L.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(f.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(f)),u&&a.rtpReceiver&&f.codecs.length>0&&(a.kind==="video"&&a.recvEncodingParameters&&t<15019&&a.recvEncodingParameters.forEach(function(d){delete d.rtx}),a.recvEncodingParameters.length?f.encodings=a.recvEncodingParameters:f.encodings=[{}],f.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(f.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(f.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(f))},o.prototype.setLocalDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Ue("TypeError",'Unsupported type "'+a.type+'"'));if(!Jd("setLocalDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Ue("InvalidStateError","Can not set local "+a.type+" in state "+c.signalingState));var u,f;if(a.type==="offer")u=L.splitSections(a.sdp),f=u.shift(),u.forEach(function(h,p){var m=L.parseRtpParameters(h);c.transceivers[p].localCapabilities=m}),c.transceivers.forEach(function(h,p){c._gather(h.mid,p)});else if(a.type==="answer"){u=L.splitSections(c._remoteDescription.sdp),f=u.shift();var d=L.matchPrefix(f,"a=ice-lite").length>0;u.forEach(function(h,p){var m=c.transceivers[p],E=m.iceGatherer,y=m.iceTransport,g=m.dtlsTransport,v=m.localCapabilities,S=m.remoteCapabilities,w=L.isRejected(h)&&L.matchPrefix(h,"a=bundle-only").length===0;if(!w&&!m.rejected){var C=L.getIceParameters(h,f),_=L.getDtlsParameters(h,f);d&&(_.role="server"),(!c.usingBundle||p===0)&&(c._gather(m.mid,p),y.state==="new"&&y.start(E,C,d?"controlling":"controlled"),g.state==="new"&&g.start(_));var b=Do(v,S);c._transceive(m,b.codecs.length>0,!1)}})}return c._localDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(Ue("TypeError",'Unsupported type "'+a.type+'"'));if(!Jd("setRemoteDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(Ue("InvalidStateError","Can not set remote "+a.type+" in state "+c.signalingState));var u={};c.remoteStreams.forEach(function(y){u[y.id]=y});var f=[],d=L.splitSections(a.sdp),h=d.shift(),p=L.matchPrefix(h,"a=ice-lite").length>0,m=L.matchPrefix(h,"a=group:BUNDLE ").length>0;c.usingBundle=m;var E=L.matchPrefix(h,"a=ice-options:")[0];return E?c.canTrickleIceCandidates=E.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,d.forEach(function(y,g){var v=L.splitLines(y),S=L.getKind(y),w=L.isRejected(y)&&L.matchPrefix(y,"a=bundle-only").length===0,C=v[0].substr(2).split(" ")[2],_=L.getDirection(y,h),b=L.parseMsid(y),M=L.getMid(y)||L.generateIdentifier();if(w||S==="application"&&(C==="DTLS/SCTP"||C==="UDP/DTLS/SCTP")){c.transceivers[g]={mid:M,kind:S,protocol:C,rejected:!0};return}!w&&c.transceivers[g]&&c.transceivers[g].rejected&&(c.transceivers[g]=c._createTransceiver(S,!0));var P,me,Ae,ve,W,rt,it,Ct,O,A=L.parseRtpParameters(y),B,X;w||(B=L.getIceParameters(y,h),X=L.getDtlsParameters(y,h),X.role="client"),it=L.parseRtpEncodingParameters(y);var ae=L.parseRtcpParameters(y),Vt=L.matchPrefix(y,"a=end-of-candidates",h).length>0,Me=L.matchPrefix(y,"a=candidate:").map(function(_e){return L.parseCandidate(_e)}).filter(function(_e){return _e.component===1});if((a.type==="offer"||a.type==="answer")&&!w&&m&&g>0&&c.transceivers[g]&&(c._disposeIceAndDtlsTransports(g),c.transceivers[g].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[g].iceTransport=c.transceivers[0].iceTransport,c.transceivers[g].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[g].rtpSender&&c.transceivers[g].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[g].rtpReceiver&&c.transceivers[g].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),a.type==="offer"&&!w){P=c.transceivers[g]||c._createTransceiver(S),P.mid=M,P.iceGatherer||(P.iceGatherer=c._createIceGatherer(g,m)),Me.length&&P.iceTransport.state==="new"&&(Vt&&(!m||g===0)?P.iceTransport.setRemoteCandidates(Me):Me.forEach(function(_e){Wa(P.iceTransport,_e)})),Ct=e.RTCRtpReceiver.getCapabilities(S),t<15019&&(Ct.codecs=Ct.codecs.filter(function(_e){return _e.name!=="rtx"})),rt=P.sendEncodingParameters||[{ssrc:(2*g+2)*1001}];var ot=!1;if(_==="sendrecv"||_==="sendonly"){if(ot=!P.rtpReceiver,W=P.rtpReceiver||new e.RTCRtpReceiver(P.dtlsTransport,S),ot){var Re;O=W.track,b&&b.stream==="-"||(b?(u[b.stream]||(u[b.stream]=new e.MediaStream,Object.defineProperty(u[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(O,"id",{get:function(){return b.track}}),Re=u[b.stream]):(u.default||(u.default=new e.MediaStream),Re=u.default)),Re&&(n(O,Re),P.associatedRemoteMediaStreams.push(Re)),f.push([O,W,Re])}}else P.rtpReceiver&&P.rtpReceiver.track&&(P.associatedRemoteMediaStreams.forEach(function(_e){var jn=_e.getTracks().find(function(so){return so.id===P.rtpReceiver.track.id});jn&&r(jn,_e)}),P.associatedRemoteMediaStreams=[]);P.localCapabilities=Ct,P.remoteCapabilities=A,P.rtpReceiver=W,P.rtcpParameters=ae,P.sendEncodingParameters=rt,P.recvEncodingParameters=it,c._transceive(c.transceivers[g],!1,ot)}else if(a.type==="answer"&&!w){P=c.transceivers[g],me=P.iceGatherer,Ae=P.iceTransport,ve=P.dtlsTransport,W=P.rtpReceiver,rt=P.sendEncodingParameters,Ct=P.localCapabilities,c.transceivers[g].recvEncodingParameters=it,c.transceivers[g].remoteCapabilities=A,c.transceivers[g].rtcpParameters=ae,Me.length&&Ae.state==="new"&&((p||Vt)&&(!m||g===0)?Ae.setRemoteCandidates(Me):Me.forEach(function(_e){Wa(P.iceTransport,_e)})),(!m||g===0)&&(Ae.state==="new"&&Ae.start(me,B,"controlling"),ve.state==="new"&&ve.start(X));var Nt=Do(P.localCapabilities,P.remoteCapabilities),Kr=Nt.codecs.filter(function(_e){return _e.name.toLowerCase()==="rtx"}).length;!Kr&&P.sendEncodingParameters[0].rtx&&delete P.sendEncodingParameters[0].rtx,c._transceive(P,_==="sendrecv"||_==="recvonly",_==="sendrecv"||_==="sendonly"),W&&(_==="sendrecv"||_==="sendonly")?(O=W.track,b?(u[b.stream]||(u[b.stream]=new e.MediaStream),n(O,u[b.stream]),f.push([O,W,u[b.stream]])):(u.default||(u.default=new e.MediaStream),n(O,u.default),f.push([O,W,u.default]))):delete P.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=a.type==="offer"?"active":"passive"),c._remoteDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(u).forEach(function(y){var g=u[y];if(g.getTracks().length){if(c.remoteStreams.indexOf(g)===-1){c.remoteStreams.push(g);var v=new Event("addstream");v.stream=g,e.setTimeout(function(){c._dispatchEvent("addstream",v)})}f.forEach(function(S){var w=S[0],C=S[1];g.id===S[2].id&&i(c,w,C,[g])})}}),f.forEach(function(y){y[2]||i(c,y[0],y[1],[])}),e.setTimeout(function(){!(c&&c.transceivers)||c.transceivers.forEach(function(y){y.iceTransport&&y.iceTransport.state==="new"&&y.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),y.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(a){this.signalingState=a;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var a=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var a,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&c[f.iceTransport.state]++}),a="new",c.failed>0?a="failed":c.checking>0?a="checking":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0?a="connected":c.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var u=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",u)}},o.prototype._updateConnectionState=function(){var a,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(c[f.iceTransport.state]++,c[f.dtlsTransport.state]++)}),c.connected+=c.completed,a="new",c.failed>0?a="failed":c.connecting>0?a="connecting":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var u=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",u)}},o.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(Ue("InvalidStateError","Can not call createOffer after close"));var c=a.transceivers.filter(function(p){return p.kind==="audio"}).length,u=a.transceivers.filter(function(p){return p.kind==="video"}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");f.offerToReceiveAudio!==void 0&&(f.offerToReceiveAudio===!0?c=1:f.offerToReceiveAudio===!1?c=0:c=f.offerToReceiveAudio),f.offerToReceiveVideo!==void 0&&(f.offerToReceiveVideo===!0?u=1:f.offerToReceiveVideo===!1?u=0:u=f.offerToReceiveVideo)}for(a.transceivers.forEach(function(p){p.kind==="audio"?(c--,c<0&&(p.wantReceive=!1)):p.kind==="video"&&(u--,u<0&&(p.wantReceive=!1))});c>0||u>0;)c>0&&(a._createTransceiver("audio"),c--),u>0&&(a._createTransceiver("video"),u--);var d=L.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(p,m){var E=p.track,y=p.kind,g=p.mid||L.generateIdentifier();p.mid=g,p.iceGatherer||(p.iceGatherer=a._createIceGatherer(m,a.usingBundle));var v=e.RTCRtpSender.getCapabilities(y);t<15019&&(v.codecs=v.codecs.filter(function(w){return w.name!=="rtx"})),v.codecs.forEach(function(w){w.name==="H264"&&w.parameters["level-asymmetry-allowed"]===void 0&&(w.parameters["level-asymmetry-allowed"]="1"),p.remoteCapabilities&&p.remoteCapabilities.codecs&&p.remoteCapabilities.codecs.forEach(function(C){w.name.toLowerCase()===C.name.toLowerCase()&&w.clockRate===C.clockRate&&(w.preferredPayloadType=C.payloadType)})}),v.headerExtensions.forEach(function(w){var C=p.remoteCapabilities&&p.remoteCapabilities.headerExtensions||[];C.forEach(function(_){w.uri===_.uri&&(w.id=_.id)})});var S=p.sendEncodingParameters||[{ssrc:(2*m+1)*1001}];E&&t>=15019&&y==="video"&&!S[0].rtx&&(S[0].rtx={ssrc:S[0].ssrc+1}),p.wantReceive&&(p.rtpReceiver=new e.RTCRtpReceiver(p.dtlsTransport,y)),p.localCapabilities=v,p.sendEncodingParameters=S}),a._config.bundlePolicy!=="max-compat"&&(d+="a=group:BUNDLE "+a.transceivers.map(function(p){return p.mid}).join(" ")+`\r
`),d+=`a=ice-options:trickle\r
`,a.transceivers.forEach(function(p,m){d+=Kd(p,p.localCapabilities,"offer",p.stream,a._dtlsRole),d+=`a=rtcp-rsize\r
`,p.iceGatherer&&a.iceGatheringState!=="new"&&(m===0||!a.usingBundle)&&(p.iceGatherer.getLocalCandidates().forEach(function(E){E.component=1,d+="a="+L.writeCandidate(E)+`\r
`}),p.iceGatherer.state==="completed"&&(d+=`a=end-of-candidates\r
`))});var h=new e.RTCSessionDescription({type:"offer",sdp:d});return Promise.resolve(h)},o.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(Ue("InvalidStateError","Can not call createAnswer after close"));if(!(a.signalingState==="have-remote-offer"||a.signalingState==="have-local-pranswer"))return Promise.reject(Ue("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var c=L.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(c+="a=group:BUNDLE "+a.transceivers.map(function(d){return d.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var u=L.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach(function(d,h){if(!(h+1>u)){if(d.rejected){d.kind==="application"?d.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+d.protocol+` webrtc-datachannel\r
`:d.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:d.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+d.mid+`\r
`;return}if(d.stream){var p;d.kind==="audio"?p=d.stream.getAudioTracks()[0]:d.kind==="video"&&(p=d.stream.getVideoTracks()[0]),p&&t>=15019&&d.kind==="video"&&!d.sendEncodingParameters[0].rtx&&(d.sendEncodingParameters[0].rtx={ssrc:d.sendEncodingParameters[0].ssrc+1})}var m=Do(d.localCapabilities,d.remoteCapabilities),E=m.codecs.filter(function(y){return y.name.toLowerCase()==="rtx"}).length;!E&&d.sendEncodingParameters[0].rtx&&delete d.sendEncodingParameters[0].rtx,c+=Kd(d,m,"answer",d.stream,a._dtlsRole),d.rtcpParameters&&d.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var f=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(f)},o.prototype.addIceCandidate=function(a){var c=this,u;return a&&!(a.sdpMLineIndex!==void 0||a.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,d){if(c._remoteDescription)if(!a||a.candidate==="")for(var h=0;h<c.transceivers.length&&!(!c.transceivers[h].rejected&&(c.transceivers[h].iceTransport.addRemoteCandidate({}),u=L.getMediaSections(c._remoteDescription.sdp),u[h]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=L.getDescription(c._remoteDescription.sdp)+u.join(""),c.usingBundle));h++);else{var p=a.sdpMLineIndex;if(a.sdpMid){for(var m=0;m<c.transceivers.length;m++)if(c.transceivers[m].mid===a.sdpMid){p=m;break}}var E=c.transceivers[p];if(E){if(E.rejected)return f();var y=Object.keys(a.candidate).length>0?L.parseCandidate(a.candidate):{};if(y.protocol==="tcp"&&(y.port===0||y.port===9)||y.component&&y.component!==1)return f();if((p===0||p>0&&E.iceTransport!==c.transceivers[0].iceTransport)&&!Wa(E.iceTransport,y))return d(Ue("OperationError","Can not add ICE candidate"));var g=a.candidate.trim();g.indexOf("a=")===0&&(g=g.substr(2)),u=L.getMediaSections(c._remoteDescription.sdp),u[p]+="a="+(y.type?g:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=L.getDescription(c._remoteDescription.sdp)+u.join("")}else return d(Ue("OperationError","Can not add ICE candidate"))}else return d(Ue("InvalidStateError","Can not add ICE candidate without a remote description"));f()})},o.prototype.getStats=function(a){if(a&&a instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===a?c=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===a&&(c=f.rtpReceiver)}),!c)throw Ue("InvalidAccessError","Invalid selector.");return c.getStats()}var u=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(d){f[d]&&u.push(f[d].getStats())})}),Promise.all(u).then(function(f){var d=new Map;return f.forEach(function(h){h.forEach(function(p){d.set(p.id,p)})}),d})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(a){var c=e[a];if(c&&c.prototype&&c.prototype.getStats){var u=c.prototype.getStats;c.prototype.getStats=function(){return u.apply(this).then(function(f){var d=new Map;return Object.keys(f).forEach(function(h){f[h].type=n_(f[h]),d.set(h,f[h])}),d})}}});var l=["createOffer","createAnswer"];return l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[0]=="function"||typeof u[1]=="function"?c.apply(this,[arguments[2]]).then(function(f){typeof u[0]=="function"&&u[0].apply(null,[f])},function(f){typeof u[1]=="function"&&u[1].apply(null,[f])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[1]=="function"||typeof u[2]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)},function(f){typeof u[2]=="function"&&u[2].apply(null,[f])}):c.apply(this,arguments)}}),["getStats"].forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var u=arguments;return typeof u[1]=="function"?c.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)}):c.apply(this,arguments)}}),o};function ay(e){const t=e&&e.navigator,n=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return r(i).catch(o=>Promise.reject(n(o)))}}function ly(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function dc(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){r.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=i_(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=t_(i.iceServers,t.version),Pu("ICE servers after filtering:",i.iceServers)),new n(i)},e.RTCPeerConnection.prototype=n.prototype}function cy(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const qd=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:dc,shimReplaceTrack:cy,shimGetUserMedia:ay,shimGetDisplayMedia:ly},Symbol.toStringTag,{value:"Module"}));function uy(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,s){ra("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(s,l,a){l in s&&!(a in s)&&(s[a]=s[l],delete s[l])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},r&&r.prototype.getSettings){const s=r.prototype.getSettings;r.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function o_(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function fy(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function hc(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return r.apply(this,[o||null]).then(a=>{if(t.version<53&&!s)try{a.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((u,f)=>{a.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return a}).then(s,l)}}function dy(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function hy(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Hr(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function py(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){ra("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function my(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function gy(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const r=arguments[1],i=r&&"sendEncodings"in r;i&&r.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r.sendEncodings,s.sendEncodings=r.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function yy(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function vy(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Sy(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Qd=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:fy,shimPeerConnection:hc,shimSenderGetStats:dy,shimReceiverGetStats:hy,shimRemoveStream:py,shimRTCDataChannel:my,shimAddTransceiver:gy,shimGetParameters:yy,shimCreateOffer:vy,shimCreateAnswer:Sy,shimGetUserMedia:uy,shimGetDisplayMedia:o_},Symbol.toStringTag,{value:"Module"}));function Cy(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function Ey(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,r.dispatchEvent(s)})}),t.apply(r,arguments)}}}function _y(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d},t.createAnswer=function(c,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[f]);return u?(d.then(c,u),Promise.resolve()):d};let l=function(a,c,u){const f=i.apply(this,[a]);return u?(f.then(c,u),Promise.resolve()):f};t.setLocalDescription=l,l=function(a,c,u){const f=o.apply(this,[a]);return u?(f.then(c,u),Promise.resolve()):f},t.setRemoteDescription=l,l=function(a,c,u){const f=s.apply(this,[a]);return u?(f.then(c,u),Promise.resolve()):f},t.addIceCandidate=l}function ky(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(wy(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}.bind(t))}function wy(e){return e&&e.video!==void 0?Object.assign({},e,{video:Yg(e.video)}):e}function Ty(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let s=0;s<r.iceServers.length;s++){let l=r.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(ra("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(r.iceServers[s])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Ry(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function by(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function xy(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Yd=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:Cy,shimRemoteStreamsAPI:Ey,shimCallbacksAPI:_y,shimGetUserMedia:ky,shimConstraints:wy,shimRTCIceServerUrls:Ty,shimTrackEventTransceiver:Ry,shimCreateOfferLegacy:by,shimAudioContext:xy},Symbol.toStringTag,{value:"Module"}));function Yo(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new t(r),o=Qo.parseCandidate(r.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Hr(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function gi(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const a=Qo.splitSections(l.sdp);return a.shift(),a.some(c=>{const u=Qo.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},i=function(l){let a=65536;return t.browser==="firefox"&&(t.version<57?l===-1?a=16384:a=2147483637:t.version<60?a=t.version===57?65535:65536:a=2147483637),a},o=function(l,a){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const u=Qo.matchPrefix(l.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substr(19),10):t.browser==="firefox"&&a!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=r(arguments[0]),c=i(a),u=o(arguments[0],a);let f;c===0&&u===0?f=Number.POSITIVE_INFINITY:c===0||u===0?f=Math.max(c,u):f=Math.min(c,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return f}}),this._sctp=d}return s.apply(this,arguments)}}function yi(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Hr(e,"datachannel",r=>(t(r.channel,r.target),r))}function pc(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function mc(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Xo(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const s_=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:Yo,shimMaxMessageSize:gi,shimSendThrowTypeError:yi,shimConnectionState:pc,removeExtmapAllowMixed:mc,shimAddIceCandidateNullOrEmpty:Xo},Symbol.toStringTag,{value:"Module"}));function a_({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=Pu,r=ZE(e),i={browserDetails:r,commonShim:s_,extractVersion:mi,disableLog:YE,disableWarnings:XE};switch(r.browser){case"chrome":if(!Gd||!fc||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Gd,Xo(e,r),Xg(e,r),Zg(e),fc(e,r),ey(e),oy(e,r),ty(e),ny(e),ry(e),sy(e,r),Yo(e),pc(e),gi(e,r),yi(e),mc(e,r);break;case"firefox":if(!Qd||!hc||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Qd,Xo(e,r),uy(e,r),hc(e,r),fy(e),py(e),dy(e),hy(e),my(e),gy(e),yy(e),vy(e),Sy(e),Yo(e),pc(e),gi(e,r),yi(e);break;case"edge":if(!qd||!dc||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=qd,ay(e),ly(e),dc(e,r),cy(e),gi(e,r),yi(e);break;case"safari":if(!Yd||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Yd,Xo(e,r),Ty(e),by(e),_y(e),Cy(e),Ey(e),Ry(e),ky(e),xy(e),Yo(e),gi(e,r),yi(e),mc(e,r);break;default:n("Unsupported browser!");break}return i}const Xd=a_({window:typeof window>"u"?void 0:window});function $t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var Ga=Xd.default||Xd,si=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),n=this.getVersion(),r=this.supportedBrowsers.includes(t);return r?t==="chrome"?n>=this.minChromeVersion:t==="firefox"?n>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return Ga.browserDetails.browser},e.prototype.getVersion=function(){return Ga.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),n=Ga.browserDetails.version||0;if(t==="chrome"&&n<this.minChromeVersion)return!1;if(t==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var r,i=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),i=!0}catch{}finally{r&&r.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),Zd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},l_=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Zd,this.browser=si.getBrowser(),this.browserVersion=si.getVersion(),this.supports=function(){var t={browser:si.isBrowserSupported(),webRTC:si.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var n;try{n=new RTCPeerConnection(Zd),t.audioVideo=!0;var r=void 0;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!si.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.pack=$d.pack,this.unpack=$d.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var n=[],r=t.size,i=Math.ceil(r/q.chunkedMTU),o=0,s=0;s<r;){var l=Math.min(r,s+q.chunkedMTU),a=t.slice(s,l),c={__peerData:this._dataCount,n:o,data:a,total:i};n.push(c),s=l,o++}return this._dataCount++,n},e.prototype.blobToArrayBuffer=function(t,n){var r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r},e.prototype.binaryStringToArrayBuffer=function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),q=new l_,Py={};$t(Py,"Peer",()=>uh,e=>uh=e);var ro={},c_=Object.prototype.hasOwnProperty,Ke="~";function qi(){}Object.create&&(qi.prototype=Object.create(null),new qi().__proto__||(Ke=!1));function u_(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Oy(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new u_(n,r||e,i),s=Ke?Ke+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Zo(e,t){--e._eventsCount===0?e._events=new qi:delete e._events[t]}function He(){this._events=new qi,this._eventsCount=0}He.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)c_.call(n,r)&&t.push(Ke?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};He.prototype.listeners=function(t){var n=Ke?Ke+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};He.prototype.listenerCount=function(t){var n=Ke?Ke+t:t,r=this._events[n];return r?r.fn?1:r.length:0};He.prototype.emit=function(t,n,r,i,o,s){var l=Ke?Ke+t:t;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,u,f;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,i),!0;case 5:return a.fn.call(a.context,n,r,i,o),!0;case 6:return a.fn.call(a.context,n,r,i,o,s),!0}for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];a.fn.apply(a.context,u)}else{var d=a.length,h;for(f=0;f<d;f++)switch(a[f].once&&this.removeListener(t,a[f].fn,void 0,!0),c){case 1:a[f].fn.call(a[f].context);break;case 2:a[f].fn.call(a[f].context,n);break;case 3:a[f].fn.call(a[f].context,n,r);break;case 4:a[f].fn.call(a[f].context,n,r,i);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];a[f].fn.apply(a[f].context,u)}}return!0};He.prototype.on=function(t,n,r){return Oy(this,t,n,r,!1)};He.prototype.once=function(t,n,r){return Oy(this,t,n,r,!0)};He.prototype.removeListener=function(t,n,r,i){var o=Ke?Ke+t:t;if(!this._events[o])return this;if(!n)return Zo(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&Zo(this,o);else{for(var l=0,a=[],c=s.length;l<c;l++)(s[l].fn!==n||i&&!s[l].once||r&&s[l].context!==r)&&a.push(s[l]);a.length?this._events[o]=a.length===1?a[0]:a:Zo(this,o)}return this};He.prototype.removeAllListeners=function(t){var n;return t?(n=Ke?Ke+t:t,this._events[n]&&Zo(this,n)):(this._events=new qi,this._eventsCount=0),this};He.prototype.off=He.prototype.removeListener;He.prototype.addListener=He.prototype.on;He.prefixed=Ke;He.EventEmitter=He;ro=He;var I={};$t(I,"LogLevel",()=>Ye,e=>Ye=e);$t(I,"default",()=>eh,e=>eh=e);var Fn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zn=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},f_="PeerJS: ",Ye;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Ye||(Ye={}));var d_=function(){function e(){this._logLevel=Ye.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ye.All&&this._print.apply(this,zn([Ye.All],Fn(t),!1))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ye.Warnings&&this._print.apply(this,zn([Ye.Warnings],Fn(t),!1))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logLevel>=Ye.Errors&&this._print.apply(this,zn([Ye.Errors],Fn(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=zn([f_],Fn(n),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=Ye.All?console.log.apply(console,zn([],Fn(i),!1)):t>=Ye.Warnings?console.warn.apply(console,zn(["WARNING"],Fn(i),!1)):t>=Ye.Errors&&console.error.apply(console,zn(["ERROR"],Fn(i),!1))},e}(),eh=new d_,Dy={};$t(Dy,"Socket",()=>th,e=>th=e);var bt;(function(e){e.Data="data",e.Media="media"})(bt||(bt={}));var he;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(he||(he={}));var Kt;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(Kt||(Kt={}));var Zt;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Zt||(Zt={}));var Pe;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Pe||(Pe={}));var Du={};Du=JSON.parse('{"name":"peerjs","version":"1.4.6","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"type":"module","sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.cjs","browser-unminified":"dist/peerjs.cjs","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"includeNodeModules":true,"context":"browser","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"includeNodeModules":true,"context":"browser","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build && cp dist/peerjs.cjs dist/peerjs.js && cp dist/peerjs.min.cjs dist/peerjs.min.js","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var h_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),p_=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},m_=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},g_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},th=function(e){h_(t,e);function t(n,r,i,o,s,l){l===void 0&&(l=5e3);var a=e.call(this)||this;a.pingInterval=l,a._disconnected=!0,a._messagesQueue=[];var c=n?"wss://":"ws://";return a._baseUrl=c+r+":"+i+o+"peerjs?key="+s,a}return t.prototype.start=function(n,r){var i=this;this._id=n;var o="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(r);!!this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+Du.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),I.default.log("Server message received:",l)}catch{I.default.log("Invalid server message",s.data);return}i.emit(Zt.Message,l)},this._socket.onclose=function(s){i._disconnected||(I.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(Zt.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),I.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){I.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:Pe.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var n,r,i=m_([],p_(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=g_(i),s=o.next();!s.done;s=o.next()){var l=s.value;this.send(l)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(Zt.Error,"Invalid message");return}if(!!this._wsOpen()){var r=JSON.stringify(n);this._socket.send(r)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(ro.EventEmitter),gc={};$t(gc,"MediaConnection",()=>ih,e=>ih=e);var Nu={};$t(Nu,"Negotiator",()=>nh,e=>nh=e);var Ns=function(){return Ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ns.apply(this,arguments)},No=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(f){s(f)}}function a(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},Io=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},nh=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===bt.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){if(this.connection.type===bt.Data){var r=this.connection,i={ordered:!!t.reliable},o=n.createDataChannel(r.label,i);r.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){I.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var n=this,r=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;I.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(I.default.log("Received ICE candidates for ".concat(r,":"),l.candidate),s.socket.send({type:Pe.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":I.default.log("iceConnectionState is failed, closing connections to "+r),n.connection.emit("error",new Error("Negotiation of connection to "+r+" failed.")),n.connection.close();break;case"closed":I.default.log("iceConnectionState is closed, closing connections to "+r),n.connection.emit("error",new Error("Connection to "+r+" closed.")),n.connection.close();break;case"disconnected":I.default.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":t.onicecandidate=q.noop;break}n.connection.emit("iceStateChanged",t.iceConnectionState)},I.default.log("Listening for data channel"),t.ondatachannel=function(l){I.default.log("Received data channel");var a=l.channel,c=s.getConnection(r,i);c.initialize(a)},I.default.log("Listening for remote stream"),t.ontrack=function(l){I.default.log("Received remote stream");var a=l.streams[0],c=s.getConnection(r,i);if(c.type===bt.Media){var u=c;n._addStreamToMediaConnection(a,u)}}},e.prototype.cleanup=function(){I.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var n=t.signalingState!=="closed",r=!1;if(this.connection.type===bt.Data){var i=this.connection,o=i.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed")}(n||r)&&t.close()}},e.prototype._makeOffer=function(){return No(this,void 0,Promise,function(){var t,n,r,i,o,s,l;return Io(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:r=a.sent(),I.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return a.sent(),I.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:q.browser},this.connection.type===bt.Data&&(o=this.connection,i=Ns(Ns({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),n.socket.send({type:Pe.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return s=a.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(he.WebRTC,s),I.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=a.sent(),n.emitError(he.WebRTC,l),I.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return No(this,void 0,Promise,function(){var t,n,r,i,o;return Io(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:r=s.sent(),I.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(r)];case 4:return s.sent(),I.default.log("Set localDescription:",r,"for:".concat(this.connection.peer)),n.socket.send({type:Pe.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,browser:q.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),n.emitError(he.WebRTC,i),I.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),n.emitError(he.WebRTC,o),I.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,n){return No(this,void 0,Promise,function(){var r,i,o,s;return Io(this,function(l){switch(l.label){case 0:n=new RTCSessionDescription(n),r=this.connection.peerConnection,i=this.connection.provider,I.default.log("Setting remote description",n),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.setRemoteDescription(n)];case 2:return l.sent(),I.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(he.WebRTC,s),I.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return No(this,void 0,Promise,function(){var n,r,i,o,s,l;return Io(this,function(a){switch(a.label){case 0:I.default.log("handleCandidate:",t),n=t.candidate,r=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:r,candidate:n}))];case 2:return a.sent(),I.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=a.sent(),s.emitError(he.WebRTC,l),I.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,n){if(I.default.log("add tracks from stream ".concat(t.id," to peer connection")),!n.addTrack)return I.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(r){n.addTrack(r,t)})},e.prototype._addStreamToMediaConnection=function(t,n){I.default.log("add stream ".concat(t.id," to media connection ").concat(n.connectionId)),n.addStream(t)},e}(),Iu={};$t(Iu,"BaseConnection",()=>rh,e=>rh=e);var y_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rh=function(e){y_(t,e);function t(n,r,i){var o=e.call(this)||this;return o.peer=n,o.provider=r,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(ro.EventEmitter),v_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Is=function(){return Is=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Is.apply(this,arguments)},S_=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ih=function(e){v_(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+q.randomToken(),o._negotiator=new Nu.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return bt.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(n){I.default.log("Receiving stream",n),this._remoteStream=n,e.prototype.emit.call(this,"stream",n)},t.prototype.handleMessage=function(n){var r=n.type,i=n.payload;switch(n.type){case Pe.Answer:this._negotiator.handleSDP(r,i.sdp),this._open=!0;break;case Pe.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:I.default.warn("Unrecognized message type:".concat(r," from peer:").concat(this.peer));break}},t.prototype.answer=function(n,r){var i,o;if(r===void 0&&(r={}),this._localStream){I.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection(Is(Is({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var l=S_(s),a=l.next();!a.done;a=l.next()){var c=a.value;this.handleMessage(c)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(Iu.BaseConnection),yc={};$t(yc,"DataConnection",()=>sh,e=>sh=e);var Ny={};$t(Ny,"EncodingQueue",()=>oh,e=>oh=e);var C_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oh=function(e){C_(t,e);function t(){var n=e.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(r){n._processing=!1,r.target&&n.emit("done",r.target.result),n.doNextTask()},n.fileReader.onerror=function(r){I.default.error("EncodingQueue error:",r),n._processing=!1,n.destroy(),n.emit("error",r)},n}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(ro.EventEmitter),E_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),__=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sh=function(e){E_(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Ny.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+q.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||Kt.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){I.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new Nu.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return bt.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var n=this;(!q.supports.binaryBlob||q.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){I.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(r){I.default.log("DC#".concat(n.connectionId," dc onmessage:"),r.data),n._handleDataMessage(r)},this.dataChannel.onclose=function(){I.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},t.prototype._handleDataMessage=function(n){var r=this,i=n.data,o=i.constructor,s=this.serialization===Kt.Binary||this.serialization===Kt.BinaryUTF8,l=i;if(s){if(o===Blob){q.blobToArrayBuffer(i,function(c){var u=q.unpack(c);r.emit("data",u)});return}else if(o===ArrayBuffer)l=q.unpack(i);else if(o===String){var a=q.binaryStringToArrayBuffer(i);l=q.unpack(a)}}else this.serialization===Kt.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(n){var r=n.__peerData,i=this._chunkedData[r]||{data:[],count:0,total:n.total};if(i.data[n.n]=n.data,i.count++,this._chunkedData[r]=i,i.total===i.count){delete this._chunkedData[r];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(n,r){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===Kt.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===Kt.Binary||this.serialization===Kt.BinaryUTF8){var i=q.pack(n);if(!r&&i.size>q.chunkedMTU){this._sendChunks(i);return}q.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(n)},t.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){r._buffering=!1,r._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return I.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(n){var r,i,o=q.chunk(n);I.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=__(o),l=s.next();!l.done;l=s.next()){var a=l.value;this.send(a,!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.handleMessage=function(n){var r=n.payload;switch(n.type){case Pe.Answer:this._negotiator.handleSDP(n.type,r.sdp);break;case Pe.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:I.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(Iu.BaseConnection),Iy={};$t(Iy,"API",()=>ch,e=>ch=e);var ah=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(f){s(f)}}function a(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})},lh=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ch=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var n=this._options.secure?"https":"http",r=this._options,i=r.host,o=r.port,s=r.path,l=r.key,a=new URL("".concat(n,"://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(t));return a.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),a.searchParams.set("version",Du.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return ah(this,void 0,Promise,function(){var t,n,r;return lh(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw n=i.sent(),I.default.error("Error retrieving ID",n),r="",this._options.path==="/"&&this._options.host!==q.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return ah(this,void 0,Promise,function(){var t,n,r;return lh(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(n="",this._options.host===q.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw r=i.sent(),I.default.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r);case 3:return[2]}})})},e}(),k_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(){return Pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pi.apply(this,arguments)},ai=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},w_=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},uh=function(e){k_(t,e);function t(n,r){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return n&&n.constructor==Object?r=n:n&&(o=n.toString()),r=Pi({debug:0,host:q.CLOUD_HOST,port:q.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:q.randomToken(),config:q.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},r),i._options=r,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==q.CLOUD_HOST?i._options.secure=q.isSecure():i._options.host==q.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&I.default.setLogFunction(i._options.logFunction),I.default.logLevel=i._options.debug||0,i._api=new Iy.API(r),i._socket=i._createServerConnection(),!q.supports.audioVideo&&!q.supports.data?(i._delayedAbort(he.BrowserIncompatible,"The current browser does not support WebRTC"),i):!!o&&!q.validateId(o)?(i._delayedAbort(he.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(he.ServerError,s)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var n,r,i=Object.create(null);try{for(var o=ai(this._connections),s=o.next();!s.done;s=o.next()){var l=w_(s.value,2),a=l[0],c=l[1];i[a]=c}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var n=this,r=new Dy.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(Zt.Message,function(i){n._handleMessage(i)}),r.on(Zt.Error,function(i){n._abort(he.SocketError,i)}),r.on(Zt.Disconnected,function(){n.disconnected||(n.emitError(he.Network,"Lost connection to server."),n.disconnect())}),r.on(Zt.Close,function(){n.disconnected||n._abort(he.SocketClosed,"Underlying socket is already closed.")}),r},t.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},t.prototype._handleMessage=function(n){var r,i,o=n.type,s=n.payload,l=n.src;switch(o){case Pe.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Pe.Error:this._abort(he.ServerError,s.msg);break;case Pe.IdTaken:this._abort(he.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case Pe.InvalidKey:this._abort(he.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case Pe.Leave:I.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case Pe.Expire:this.emitError(he.PeerUnavailable,"Could not connect to peer ".concat(l));break;case Pe.Offer:var p=s.connectionId,m=this.getConnection(l,p);if(m&&(m.close(),I.default.warn("Offer received for existing Connection ID:".concat(p))),s.type===bt.Media){var a=new gc.MediaConnection(l,this,{connectionId:p,_payload:s,metadata:s.metadata});m=a,this._addConnection(l,m),this.emit("call",a)}else if(s.type===bt.Data){var c=new yc.DataConnection(l,this,{connectionId:p,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});m=c,this._addConnection(l,m),this.emit("connection",c)}else{I.default.warn("Received malformed connection type:".concat(s.type));return}var u=this._getMessages(p);try{for(var f=ai(u),d=f.next();!d.done;d=f.next()){var h=d.value;m.handleMessage(h)}}catch(E){r={error:E}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}break;default:if(!s){I.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var p=s.connectionId,m=this.getConnection(l,p);m&&m.peerConnection?m.handleMessage(n):p?this._storeMessage(p,n):I.default.warn("You received an unrecognized message:",n);break}},t.prototype._storeMessage=function(n,r){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(r)},t.prototype._getMessages=function(n){var r=this._lostMessages.get(n);return r?(this._lostMessages.delete(n),r):[]},t.prototype.connect=function(n,r){if(r===void 0&&(r={}),this.disconnected){I.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(he.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new yc.DataConnection(n,this,r);return this._addConnection(n,i),i},t.prototype.call=function(n,r,i){if(i===void 0&&(i={}),this.disconnected){I.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(he.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){I.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new gc.MediaConnection(n,this,Pi(Pi({},i),{_stream:r}));return this._addConnection(n,o),o},t.prototype._addConnection=function(n,r){I.default.log("add connection ".concat(r.type,":").concat(r.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(r)},t.prototype._removeConnection=function(n){var r=this._connections.get(n.peer);if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1)}this._lostMessages.delete(n.connectionId)},t.prototype.getConnection=function(n,r){var i,o,s=this._connections.get(n);if(!s)return null;try{for(var l=ai(s),a=l.next();!a.done;a=l.next()){var c=a.value;if(c.connectionId===r)return c}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(n,r){var i=this;setTimeout(function(){i._abort(n,r)},0)},t.prototype._abort=function(n,r){I.default.error("Aborting!"),this.emitError(n,r),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(n,r){I.default.error("Error:",r);var i;typeof r=="string"?i=new Error(r):i=r,i.type=n,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(I.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var n,r;try{for(var i=ai(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(n){var r,i,o=this._connections.get(n);if(!!o)try{for(var s=ai(o),l=s.next();!l.done;l=s.next()){var a=l.value;a.close()}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;I.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)I.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)I.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(n){var r=this;n===void 0&&(n=function(i){}),this._api.listAllPeers().then(function(i){return n(i)}).catch(function(i){return r._abort(he.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(ro.EventEmitter),T_=Py.Peer;function R_(){const e=document.createElement("canvas");e.width=e.height=2;const t=e.getContext("2d");return t==null||t.fillRect(0,0,e.width,e.height),requestAnimationFrame(function n(){t==null||t.fillRect(0,0,e.width,e.height),requestAnimationFrame(n)}),e.captureStream(60).getTracks()[0]}function b_(){return navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{const t=e.getAudioTracks()[0];if(!t)throw new Error("No audio tracks provided");return new x_(t)})}class x_{constructor(t){this.mediaRequested=!1,this.onVideoTrackCb=null,this.vdTrack=R_(),this.stream=new MediaStream([t,this.vdTrack])}toggleVideo(){if(!this.mediaRequested)return navigator.mediaDevices.getUserMedia({video:!0}).then(n=>{const r=n.getVideoTracks()[0];if(!r)throw new Error("No video track provided");return this.stream.addTrack(r),this.stream.removeTrack(this.vdTrack),this.mediaRequested=!0,this.onVideoTrackCb&&this.onVideoTrackCb(r),!0}).catch(n=>(console.error(n),!1));let t=!0;return this.stream.getVideoTracks().forEach(n=>{n.enabled=t=t&&!n.enabled}),Promise.resolve(t)}toggleAudio(){let t=!0;return this.stream.getAudioTracks().forEach(n=>{n.enabled=t=t&&!n.enabled}),t}onVideoTrack(t){this.onVideoTrackCb=t}stop(){this.stream.getTracks().forEach(t=>t.stop())}}class P_{constructor(t){this.agentName=t,this.position=[0,0],this.pScrEl=document.scrollingElement||document.documentElement,this.lastScrEl=null,this.resetLastScrEl=()=>{this.lastScrEl=null},this.handleWScroll=o=>{o.target!==this.lastScrEl&&this.lastScrEl!=="window"&&this.resetLastScrEl()},this.mouse=document.createElement("div");const n=document.createElement("div"),r='<svg version="1.1" width="20" height="20" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="" viewBox="8.2 4.9 11.6 18.2"><polygon fill="#FFFFFF" points="8.2,20.9 8.2,4.9 19.8,16.5 13,16.5 12.6,16.6 "></polygon><polygon fill="#FFFFFF" points="17.3,21.6 13.7,23.1 9,12 12.7,10.5 "></polygon><rect x="12.5" y="13.6" transform="matrix(0.9221 -0.3871 0.3871 0.9221 -5.7605 6.5909)" width="2" height="8"></rect><polygon points="9.2,7.3 9.2,18.5 12.2,15.6 12.6,15.5 17.4,15.5 "></polygon></svg>';this.mouse.innerHTML=r,this.mouse.setAttribute("data-openreplay-hidden",""),Object.assign(n.style,{position:"absolute",padding:"4px 5px",borderRadius:"4px",backgroundColor:"#394EFF",color:"white",bottom:"-20px",left:"65%",fontSize:"12px",whiteSpace:"nowrap"});const i=this.agentName?this.agentName.length>10?this.agentName.slice(0,9)+"...":this.agentName:"Agent";n.innerHTML=`<span>${i}</span>`,this.mouse.appendChild(n),Object.assign(this.mouse.style,{position:"absolute",zIndex:"999998",pointerEvents:"none"})}mount(){document.body.appendChild(this.mouse),window.addEventListener("scroll",this.handleWScroll),window.addEventListener("resize",this.resetLastScrEl)}move(t){(this.position[0]!==t[0]||this.position[1]!==t[1])&&this.resetLastScrEl(),this.position=t,Object.assign(this.mouse.style,{left:`${t[0]||0}px`,top:`${t[1]||0}px`})}getPosition(){return this.position}click(t){const n=document.elementFromPoint(t[0],t[1]);return n instanceof HTMLElement?(n.click(),n.focus(),n):null}scroll(t){const[n,r]=this.position,[i,o]=t;let s=this.lastScrEl;if(s instanceof Element){s.scrollLeft+=i,s.scrollTop+=o;return}if(s==="window"){window.scroll(this.pScrEl.scrollLeft+i,this.pScrEl.scrollTop+o);return}for(s=document.elementFromPoint(n-this.pScrEl.scrollLeft,r-this.pScrEl.scrollTop);s;){if(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth){const l=getComputedStyle(s);if(l.overflow.indexOf("scroll")>=0||l.overflow.indexOf("auto")>=0){const a=s.scrollLeft,c=s.scrollTop;if(s.scrollLeft+=i,s.scrollTop+=o,a!==s.scrollLeft||c!==s.scrollTop){this.lastScrEl=s;return}}}s=s.parentElement}window.scroll(this.pScrEl.scrollLeft+i,this.pScrEl.scrollTop+o),this.lastScrEl="window"}remove(){this.mouse.parentElement&&document.body.removeChild(this.mouse),window.removeEventListener("scroll",this.handleWScroll),window.removeEventListener("resize",this.resetLastScrEl)}}function fh(e,t){if(e instanceof HTMLButtonElement)return e;const n=document.createElement("button");return Object.assign(n.style,{padding:"10px 14px",fontSize:"14px",borderRadius:"3px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",textTransform:"uppercase",marginRight:"10px"},t),typeof e=="string"?n.innerHTML=e:(n.innerHTML=e.innerHTML,Object.assign(n.style,e.style)),n}class Ly{constructor(t){this.resolve=()=>{},this.reject=()=>{};const n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("p");n.id="openreplay-confirm-window-wrapper",r.id="openreplay-confirm-window-popup",i.id="openreplay-confirm-window-p",i.innerText=t.text;const o=document.createElement("div");o.id="openreplay-confirm-window-buttons";const s=fh(t.confirmBtn,{background:"rgba(0, 167, 47, 1)",color:"white"});s.id="openreplay-confirm-window-confirm-btn";const l=fh(t.declineBtn,{background:"#FFE9E9",color:"#CC0000"});l.id="openreplay-confirm-window-decline-btn",o.appendChild(s),o.appendChild(l),r.appendChild(i),r.appendChild(o),Object.assign(o.style,{marginTop:"10px",display:"flex",alignItems:"center",backgroundColor:"white",padding:"10px",boxShadow:"0px 0px 3.99778px 1.99889px rgba(0, 0, 0, 0.1)",borderRadius:"6px"}),Object.assign(r.style,{font:"14px 'Roboto', sans-serif",position:"relative",pointerEvents:"auto",margin:"4em auto",width:"90%",maxWidth:"fit-content",padding:"20px",background:"#F3F3F3",color:"black",borderRadius:"3px",boxShadow:"0px 0px 3.99778px 1.99889px rgba(0, 0, 0, 0.1)"},t.style),Object.assign(n.style,{position:"fixed",left:0,top:0,height:"100%",width:"100%",pointerEvents:"none",zIndex:2147483647-1}),n.appendChild(r),n.setAttribute("data-openreplay-hidden",""),this.wrapper=n,s.onclick=()=>{this.resolve(!0)},l.onclick=()=>{this.resolve(!1)}}mount(){return document.body.appendChild(this.wrapper),new Promise((t,n)=>{this.resolve=t,this.reject=n})}_remove(){!this.wrapper.parentElement||this.wrapper.parentElement.removeChild(this.wrapper)}remove(){this._remove(),this.reject("no answer")}}const O_=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone" viewBox="0 0 16 16">
<path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
</svg>`,D_=O_.replace('fill="#ef5261"','fill="green"'),N_="Grant Remote Control",Ay="Reject",I_=`${D_} &#xa0 Answer`;function My(e,t,n,r){const i=typeof e=="string";return Object.assign({text:i?e:r,confirmBtn:t,declineBtn:n},i?void 0:e)}const L_=e=>My(e,I_,Ay,"You have an incoming call. Do you want to answer?"),A_=e=>My(e,N_,Ay,"Agent requested remote control. Allow?");var Sn;(function(e){e[e.Disabled=0]="Disabled",e[e.Requesting=1]="Requesting",e[e.Enabled=2]="Enabled"})(Sn||(Sn={}));let jy=function(e){this.value=e};const Ka=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");Ka&&Ka.set&&(jy=Ka.set);class M_{constructor(t,n,r){this.options=t,this.onGrand=n,this.onRelease=r,this.status=Sn.Disabled,this.agentID=null,this.confirm=null,this.requestControl=i=>{if(this.agentID!==null){this.releaseControl();return}setTimeout(()=>{this.status===Sn.Requesting&&this.releaseControl()},3e4),this.agentID=i,this.status=Sn.Requesting,this.confirm=new Ly(A_(this.options.controlConfirm)),this.confirm.mount().then(o=>{var s;o?this.grantControl(i):((s=this.confirm)===null||s===void 0||s.remove(),this.releaseControl())}).then(()=>{var o;(o=this.confirm)===null||o===void 0||o.remove()}).catch(o=>{var s;(s=this.confirm)===null||s===void 0||s.remove(),console.error(o)})},this.releaseControl=()=>{this.confirm&&(this.confirm.remove(),this.confirm=null),this.resetMouse(),this.status=Sn.Disabled,sessionStorage.removeItem(this.options.session_control_peer_key),this.onRelease(this.agentID),this.agentID=null},this.grantControl=i=>{this.agentID=i,this.status=Sn.Enabled,sessionStorage.setItem(this.options.session_control_peer_key,i);const o=this.onGrand(i);this.mouse&&this.resetMouse(),this.mouse=new P_(o),this.mouse.mount()},this.resetMouse=()=>{var i;(i=this.mouse)===null||i===void 0||i.remove(),this.mouse=null},this.scroll=(i,o)=>{var s;i===this.agentID&&((s=this.mouse)===null||s===void 0||s.scroll(o))},this.move=(i,o)=>{var s;i===this.agentID&&((s=this.mouse)===null||s===void 0||s.move(o))},this.focused=null,this.click=(i,o)=>{i!==this.agentID||!this.mouse||(this.focused=this.mouse.click(o))},this.focus=(i,o)=>{this.focused=o},this.input=(i,o)=>{if(!(i!==this.agentID||!this.mouse||!this.focused))if(this.focused instanceof HTMLTextAreaElement||this.focused instanceof HTMLInputElement){jy.call(this.focused,o);const s=new Event("input",{bubbles:!0});this.focused.dispatchEvent(s)}else this.focused.isContentEditable&&(this.focused.innerText=o)}}reconnect(t){const n=sessionStorage.getItem(this.options.session_control_peer_key);n!==null&&t.indexOf(n)!==-1?this.grantControl(n):sessionStorage.removeItem(this.options.session_control_peer_key)}}function j_(e,t,n){t.addEventListener("pointerdown",c,{passive:!0});let r,i,o,s,l=0,a=0;function c(h){i=h.clientX,o=h.clientY,r=e.getBoundingClientRect(),n.addEventListener("pointermove",u,{passive:!0}),n.addEventListener("pointerup",d,{passive:!0}),n.addEventListener("pointercancel",d,{passive:!0})}function u(h){s||(l+=h.clientX-i,a+=h.clientY-o,l=Math.min(Math.max(l,-r.left),window.innerWidth-r.right),a=Math.min(Math.max(a,-r.top),window.innerHeight-r.bottom),s=requestAnimationFrame(f))}function f(){e.style.transform="translate3d("+l+"px,"+a+"px, 0px)",s=null}function d(){n.removeEventListener("pointermove",u),n.removeEventListener("pointerup",d),n.removeEventListener("pointercancel",d),s&&(cancelAnimationFrame(s),s=null),e.style.left=r.left+l+"px",e.style.top=r.top+a+"px",e.style.transform="translate3d(0px,0px,0px)",l=a=0}}const Ja="__openreplay_assist_call_start_ts";class dh{constructor(t,n){this.logError=t,this.callUITemplate=n,this.vRemote=null,this.vLocal=null,this.audioBtn=null,this.videoBtn=null,this.endCallBtn=null,this.agentNameElem=null,this.videoContainer=null,this.vPlaceholder=null,this.remoteControlContainer=null,this.remoteControlEndBtn=null,this.controlsContainer=null,this.audioContainer=null,this.localStreams=[];const r=this.iframe=document.createElement("iframe");Object.assign(r.style,{position:"fixed",zIndex:2147483647-1,border:"none",bottom:"10px",right:"10px",height:"200px",width:"200px"}),r.setAttribute("data-openreplay-obscured",""),r.setAttribute("data-openreplay-hidden",""),r.setAttribute("data-openreplay-ignore",""),document.body.appendChild(r);const i=r.contentDocument;if(!i){console.error("OpenReplay: CallWindow iframe document is not reachable.");return}const o="https://static.openreplay.com/tracker-assist/4.0.0";this.load=fetch(this.callUITemplate||o+"/index.html").then(s=>s.text()).then(s=>{r.onload=()=>{const c=i.getElementById("or-assist");c==null||c.classList.remove("status-connecting"),this.adjustIframeSize(),r.onload=null},s=s.replace(/href="css/g,`href="${o}/css`),i.open(),i.write(s),i.close(),this.vLocal=i.getElementById("video-local"),this.vRemote=i.getElementById("video-remote"),this.videoContainer=i.getElementById("video-container"),this.audioBtn=i.getElementById("audio-btn"),this.audioBtn&&(this.audioBtn.onclick=()=>this.toggleAudio()),this.videoBtn=i.getElementById("video-btn"),this.videoBtn&&(this.videoBtn.onclick=()=>this.toggleVideo()),this.endCallBtn=i.getElementById("end-call-btn"),this.agentNameElem=i.getElementById("agent-name"),this.vPlaceholder=i.querySelector("#remote-stream p"),this.remoteControlContainer=i.getElementById("remote-control-row"),this.remoteControlEndBtn=i.getElementById("end-control-btn"),this.controlsContainer=i.getElementById("controls"),this.controlsContainer&&(this.controlsContainer.style.display="none");const l=i.getElementById("duration");if(l){const c=Number(sessionStorage.getItem(Ja))||Date.now();sessionStorage.setItem(Ja,c.toString()),this.tsInterval=setInterval(()=>{const f=~~((Date.now()-c)/1e3),d=~~(f/60),h=f-d*60;l.innerText=`${d}:${h<10?0:""}${h}`},500)}const a=i.querySelector(".drag-area");a&&j_(r,a,i.documentElement)})}adjustIframeSize(){const t=this.iframe.contentDocument;!t||(this.iframe.style.height=`${t.body.scrollHeight}px`,this.iframe.style.width=`${t.body.scrollWidth}px`)}addRemoteStream(t){this.load.then(()=>{if(this.vRemote&&!this.vRemote.srcObject){this.vRemote.srcObject=t,this.vPlaceholder&&(this.vPlaceholder.innerText="Video has been paused. Click anywhere to resume."),this.checkRemoteVideoInterval&&clearInterval(this.checkRemoteVideoInterval);let r=!1;this.checkRemoteVideoInterval=setInterval(()=>{var i;const o=(i=t.getVideoTracks()[0])===null||i===void 0?void 0:i.getSettings(),l=!(!!o&&(o.width===2||o.frameRate===0));r!==l&&this.toggleRemoteVideoUI(r=l)},1e3)}this.audioContainer||(this.audioContainer=document.createElement("div"),document.body.appendChild(this.audioContainer));const n=document.createElement("audio");n.autoplay=!0,n.style.display="none",n.srcObject=t,this.audioContainer.appendChild(n)}).catch(n=>this.logError(n))}toggleRemoteVideoUI(t){this.load.then(()=>{this.videoContainer&&(t?this.videoContainer.classList.add("remote"):this.videoContainer.classList.remove("remote"),this.adjustIframeSize())}).catch(n=>this.logError(n))}setLocalStreams(t){this.localStreams=t}playRemote(){this.vRemote&&this.vRemote.play()}setAssistentName(t){this.load.then(()=>{if(this.agentNameElem){const n=Array.from(t.values()).join(", "),r=n.length>20?n.substring(0,20)+"...":n;this.agentNameElem.innerText=r}}).catch(n=>this.logError(n))}toggleAudioUI(t){!this.audioBtn||(t?this.audioBtn.classList.remove("muted"):this.audioBtn.classList.add("muted"))}toggleAudio(){let t=!1;this.localStreams.forEach(n=>{t=n.toggleAudio()||!1}),this.toggleAudioUI(t)}toggleVideoUI(t){!this.videoBtn||!this.videoContainer||(t?(this.videoContainer.classList.add("local"),this.videoBtn.classList.remove("off")):(this.videoContainer.classList.remove("local"),this.videoBtn.classList.add("off")),this.adjustIframeSize())}toggleVideo(){this.localStreams.forEach(t=>{t.toggleVideo().then(n=>{this.toggleVideoUI(n),this.load.then(()=>{this.vLocal&&t&&!this.vLocal.srcObject&&(this.vLocal.srcObject=t.stream)}).catch(r=>this.logError(r))}).catch(n=>this.logError(n))})}showRemoteControl(t){this.load.then(()=>{this.remoteControlContainer&&(this.remoteControlContainer.style.display="flex"),this.remoteControlEndBtn&&(this.remoteControlEndBtn.onclick=t),this.adjustIframeSize()}).catch(n=>this.logError(n))}showControls(t){this.load.then(()=>{this.controlsContainer&&(this.controlsContainer.style.display="unset"),this.endCallBtn&&(this.endCallBtn.onclick=t),this.adjustIframeSize()}).catch(n=>this.logError(n))}hideControls(){this.controlsContainer&&(this.controlsContainer.style.display="none"),this.adjustIframeSize()}hideRemoteControl(){this.remoteControlContainer&&(this.remoteControlContainer.style.display="none"),this.adjustIframeSize()}remove(){clearInterval(this.tsInterval),clearInterval(this.checkRemoteVideoInterval),this.audioContainer&&this.audioContainer.parentElement&&(this.audioContainer.parentElement.removeChild(this.audioContainer),this.audioContainer=null),this.iframe.parentElement&&this.iframe.parentElement.removeChild(this.iframe),sessionStorage.removeItem(Ja),this.localStreams=[]}}class hh{constructor(){this.ctx=null,this.painting=!1,this.resizeCanvas=()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight},this.lastPosition=[0,0],this.start=t=>{this.painting=!0,this.clrTmID&&clearTimeout(this.clrTmID),this.lastPosition=t},this.stop=()=>{!this.painting||(this.painting=!1,this.fadeOut())},this.move=t=>{!this.ctx||!this.painting||(this.ctx.globalAlpha=1,this.ctx.beginPath(),this.ctx.moveTo(this.lastPosition[0],this.lastPosition[1]),this.ctx.lineTo(t[0],t[1]),this.ctx.lineWidth=8,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.strokeStyle="red",this.ctx.stroke(),this.lastPosition=t)},this.clrTmID=null,this.canvas=document.createElement("canvas"),Object.assign(this.canvas.style,{position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:2147483647-2})}fadeOut(){let t;const n=()=>{!this.ctx||this.painting||(this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="rgba(255, 255, 255, 0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalCompositeOperation="source-over",t=setTimeout(n,100))};this.clrTmID=setTimeout(()=>{clearTimeout(t),this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},4e3),n()}mount(){document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas()}remove(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),window.removeEventListener("resize",this.resizeCanvas)}}var Jt;(function(e){e[e.Requesting=0]="Requesting",e[e.True=1]="True",e[e.False=2]="False"})(Jt||(Jt={}));class B_{constructor(t,n,r=!1){if(this.app=t,this.noSecureMode=r,this.version="4.1.1",this.socket=null,this.peer=null,this.assistDemandedRestart=!1,this.callingState=Jt.False,this.agents={},this.setCallingState=s=>{this.callingState=s},this.options=Object.assign({session_calling_peer_key:"__openreplay_calling_peer",session_control_peer_key:"__openreplay_control_peer",config:null,onCallStart:()=>{},onAgentConnect:()=>{},onRemoteControlStart:()=>{},callConfirm:{},controlConfirm:{}},n),document.hidden!==void 0){const s=()=>this.emit("UPDATE_SESSION",{active:!document.hidden});t.attachEventListener(document,"visibilitychange",s,!1,!1)}const i=document.querySelector("title"),o=i&&new MutationObserver(()=>{this.emit("UPDATE_SESSION",{pageTitle:document.title})});t.attachStartCallback(()=>{this.assistDemandedRestart||(this.onStart(),o&&o.observe(i,{subtree:!0,characterData:!0,childList:!0}))}),t.attachStopCallback(()=>{this.assistDemandedRestart||(this.clean(),o&&o.disconnect())}),t.attachCommitCallback(s=>{if(this.agentsConnected){if(s.length===2&&s[0]._id===0&&s[1]._id===49)return;this.emit("messages",s)}}),t.session.attachUpdateCallback(s=>this.emit("UPDATE_SESSION",s))}emit(t,...n){this.socket&&this.socket.emit(t,...n)}get agentsConnected(){return Object.keys(this.agents).length>0}onStart(){const t=this.app,n=t.getSessionID();if(!n)return t.debug.error("No session ID");const r=`${t.getProjectKey()}-${n}`,i=this.socket=qo(t.getHost(),{path:"/ws-assist/socket",query:{peerId:r,identity:"session",sessionInfo:JSON.stringify(Object.assign({pageTitle:document.title,active:!0},this.app.getSessionInfo()))},transports:["websocket"]});i.onAny((...C)=>t.debug.log("Socket:",...C));const o=new M_(this.options,C=>(h||(h=new dh(t.debug.error,this.options.callUITemplate)),h==null||h.showRemoteControl(o.releaseControl),this.agents[C].onControlReleased=this.options.onRemoteControlStart(),this.emit("control_granted",C),s=new hh,s.mount(),l.get(C)),C=>{if(C){const _=this.agents[C].onControlReleased;delete this.agents[C].onControlReleased,typeof _=="function"&&_(),this.emit("control_rejected",C)}s!=null&&(s.remove(),s=null),h==null||h.hideRemoteControl(),this.callingState!==Jt.True&&(h==null||h.remove(),h=null)});i.on("request_control",o.requestControl),i.on("release_control",o.releaseControl),i.on("scroll",o.scroll),i.on("click",o.click),i.on("move",o.move),i.on("focus",(C,_)=>{const b=t.nodes.getNode(_);b instanceof HTMLElement&&o.focus(C,b)}),i.on("input",o.input);let s=null;i.on("moveAnnotation",(C,_)=>s&&s.move(_)),i.on("startAnnotation",(C,_)=>s&&s.start(_)),i.on("stopAnnotation",()=>s&&s.stop()),i.on("NEW_AGENT",(C,_)=>{var b,M;this.agents[C]=Object.assign({onDisconnect:(M=(b=this.options).onAgentConnect)===null||M===void 0?void 0:M.call(b)},_),this.assistDemandedRestart=!0,this.app.stop(),this.app.start().then(()=>{this.assistDemandedRestart=!1}).catch(P=>t.debug.error(P))}),i.on("AGENTS_CONNECTED",C=>{C.forEach(_=>{var b,M;this.agents[_]={onDisconnect:(M=(b=this.options).onAgentConnect)===null||M===void 0?void 0:M.call(b)}}),this.assistDemandedRestart=!0,this.app.stop(),this.app.start().then(()=>{this.assistDemandedRestart=!1}).catch(_=>t.debug.error(_)),o.reconnect(C)}),i.on("AGENT_DISCONNECTED",C=>{var _,b;o.releaseControl(),(b=(_=this.agents[C])===null||_===void 0?void 0:_.onDisconnect)===null||b===void 0||b.call(_),delete this.agents[C],u(C)}),i.on("NO_AGENT",()=>{Object.values(this.agents).forEach(C=>{var _;return(_=C.onDisconnect)===null||_===void 0?void 0:_.call(C)}),this.agents={}}),i.on("call_end",C=>{if(!l.has(C)){t.debug.warn("Received call_end from unknown agent",C);return}u(C)}),i.on("_agent_name",(C,_)=>{l.set(C,_),p()});const l=new Map,a={},c={};function u(C){l.delete(C),l.size===0?S():p()}const f={host:t.getHost(),path:"/assist",port:location.protocol==="http:"&&this.noSecureMode?80:443};this.options.config&&(f.config=this.options.config);const d=this.peer=new T_(r,f);d.on("error",C=>t.debug.warn("Peer error: ",C.type,C)),d.on("disconnected",()=>d.reconnect());let h=null;function p(){h==null||h.setAssistentName(l)}let m=null,E=null;const y=()=>{m&&(m.remove(),m=null,E=null)},g=()=>E||(m=new Ly(L_(this.options.callConfirm||{text:this.options.confirmText,style:this.options.confirmStyle})),E=m.mount().then(C=>(y(),C)));let v=null;const S=()=>{Object.values(a).forEach(C=>C.close()),Object.keys(a).forEach(C=>{delete a[C]}),Object.values(c).forEach(C=>{C.stop()}),Object.keys(c).forEach(C=>{delete c[C]}),y(),o.status===Sn.Disabled?(h==null||h.remove(),s==null||s.remove(),h=null,s=null):h==null||h.hideControls(),this.emit("UPDATE_SESSION",{agentIds:[],isCallActive:!1}),this.setCallingState(Jt.False),sessionStorage.removeItem(this.options.session_calling_peer_key),v==null||v()},w=()=>{this.emit("call_end"),S()};d.on("call",C=>{t.debug.log("Incoming call: ",C);let _;JSON.parse(sessionStorage.getItem(this.options.session_calling_peer_key)||"[]").includes(C.peer)||this.callingState===Jt.True?_=Promise.resolve(!0):(this.setCallingState(Jt.Requesting),_=g(),this.playNotificationSound(),setTimeout(()=>{this.callingState===Jt.Requesting&&w()},3e4)),_.then(async M=>{var P,me;if(!M){w();return}try{c[C.peer]||(t.debug.log("starting new stream for",C.peer),c[C.peer]=await b_()),a[C.peer]=C}catch(ve){t.debug.error("Audio mediadevice request error:",ve),w();return}h||(h=new dh(t.debug.error,this.options.callUITemplate)),h.showControls(w),s||(s=new hh,s.mount()),h.setLocalStreams(Object.values(c)),C.on("error",ve=>{t.debug.warn("Call error:",ve),w()}),C.on("stream",ve=>{h==null||h.addRemoteStream(ve);const W=()=>{h==null||h.playRemote(),document.removeEventListener("click",W)};document.addEventListener("click",W)}),c[C.peer].onVideoTrack(ve=>{const W=C.peerConnection.getSenders().find(rt=>{var it;return((it=rt.track)===null||it===void 0?void 0:it.kind)==="video"});if(!W){t.debug.warn("No video sender found");return}t.debug.log("sender found:",W),W.replaceTrack(ve)}),C.answer(c[C.peer].stream),this.setCallingState(Jt.True),v||(v=(me=(P=this.options).onCallStart)===null||me===void 0?void 0:me.call(P));const Ae=Object.keys(a);sessionStorage.setItem(this.options.session_calling_peer_key,JSON.stringify(Ae)),this.emit("UPDATE_SESSION",{agentIds:Ae,isCallActive:!0})}).catch(M=>{t.debug.log(M)})})}playNotificationSound(){"Audio"in window&&new Audio("https://static.openreplay.com/tracker-assist/notification.mp3").play().catch(t=>{this.app.debug.warn(t)})}clean(){this.peer&&(this.peer.destroy(),this.app.debug.log("Peer destroyed")),this.socket&&(this.socket.disconnect(),this.app.debug.log("Socket disconnected"))}}function F_(e){return function(t,n={}){var r;if(t===null||!(!((r=navigator==null?void 0:navigator.mediaDevices)===null||r===void 0)&&r.getUserMedia))return;if(!t.checkRequiredVersion||!t.checkRequiredVersion("3.5.14")){console.warn("OpenReplay Assist: couldn't load. The minimum required version of @openreplay/tracker@3.5.14 is not met");return}t.notify.log("OpenReplay Assist initializing.");const i=new B_(t,e,n.__DISABLE_SECURE_MODE);return t.debug.log(i),i}}function By(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fy}=Object.prototype,{getPrototypeOf:Lu}=Object,Au=(e=>t=>{const n=Fy.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fn=e=>(e=e.toLowerCase(),t=>Au(t)===e),ia=e=>t=>typeof t===e,{isArray:io}=Array,vc=ia("undefined");function z_(e){return e!==null&&!vc(e)&&e.constructor!==null&&!vc(e.constructor)&&Wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zy=fn("ArrayBuffer");function U_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zy(e.buffer),t}const $_=ia("string"),Wr=ia("function"),Uy=ia("number"),$y=e=>e!==null&&typeof e=="object",V_=e=>e===!0||e===!1,es=e=>{if(Au(e)!=="object")return!1;const t=Lu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H_=fn("Date"),W_=fn("File"),G_=fn("Blob"),K_=fn("FileList"),J_=e=>$y(e)&&Wr(e.pipe),q_=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Fy.call(e)===t||Wr(e.toString)&&e.toString()===t)},Q_=fn("URLSearchParams"),Y_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),io(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let l;for(r=0;r<s;r++)l=o[r],t.call(null,e[l],l,e)}}function Sc(){const e={},t=(n,r)=>{es(e[r])&&es(n)?e[r]=Sc(e[r],n):es(n)?e[r]=Sc({},n):io(n)?e[r]=n.slice():e[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&oa(arguments[n],t);return e}const X_=(e,t,n,{allOwnKeys:r}={})=>(oa(t,(i,o)=>{n&&Wr(i)?e[o]=By(i,n):e[o]=i},{allOwnKeys:r}),e),Z_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ek=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},tk=(e,t,n,r)=>{let i,o,s;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&Lu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},nk=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},rk=e=>{if(!e)return null;if(io(e))return e;let t=e.length;if(!Uy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ik=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Lu(Uint8Array)),ok=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},sk=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ak=fn("HTMLFormElement"),lk=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ph=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ck=fn("RegExp"),Vy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};oa(n,(i,o)=>{t(i,o,e)!==!1&&(r[o]=i)}),Object.defineProperties(e,r)},uk=e=>{Vy(e,(t,n)=>{const r=e[n];if(!!Wr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},fk=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return io(e)?r(e):r(String(e).split(t)),n},dk=()=>{},hk=(e,t)=>(e=+e,Number.isFinite(e)?e:t),k={isArray:io,isArrayBuffer:zy,isBuffer:z_,isFormData:q_,isArrayBufferView:U_,isString:$_,isNumber:Uy,isBoolean:V_,isObject:$y,isPlainObject:es,isUndefined:vc,isDate:H_,isFile:W_,isBlob:G_,isRegExp:ck,isFunction:Wr,isStream:J_,isURLSearchParams:Q_,isTypedArray:ik,isFileList:K_,forEach:oa,merge:Sc,extend:X_,trim:Y_,stripBOM:Z_,inherits:ek,toFlatObject:tk,kindOf:Au,kindOfTest:fn,endsWith:nk,toArray:rk,forEachEntry:ok,matchAll:sk,isHTMLForm:ak,hasOwnProperty:ph,hasOwnProp:ph,reduceDescriptors:Vy,freezeMethods:uk,toObjectSet:fk,toCamelCase:lk,noop:dk,toFiniteNumber:hk};function K(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}k.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hy=K.prototype,Wy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Wy[e]={value:e}});Object.defineProperties(K,Wy);Object.defineProperty(Hy,"isAxiosError",{value:!0});K.from=(e,t,n,r,i,o)=>{const s=Object.create(Hy);return k.toFlatObject(e,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),K.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var pk=typeof self=="object"?self.FormData:window.FormData;function Cc(e){return k.isPlainObject(e)||k.isArray(e)}function Gy(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function mh(e,t,n){return e?e.concat(t).map(function(i,o){return i=Gy(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function mk(e){return k.isArray(e)&&!e.some(Cc)}const gk=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function yk(e){return e&&k.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function sa(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new(pk||FormData),n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!k.isUndefined(E[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&yk(t);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(!a&&k.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,E){let y=p;if(p&&!E&&typeof p=="object"){if(k.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&mk(p)||k.isFileList(p)||k.endsWith(m,"[]")&&(y=k.toArray(p)))return m=Gy(m),y.forEach(function(v,S){!(k.isUndefined(v)||v===null)&&t.append(s===!0?mh([m],S,o):s===null?m:m+"[]",c(v))}),!1}return Cc(p)?!0:(t.append(mh(E,m,o),c(p)),!1)}const f=[],d=Object.assign(gk,{defaultVisitor:u,convertValue:c,isVisitable:Cc});function h(p,m){if(!k.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),k.forEach(p,function(y,g){(!(k.isUndefined(y)||y===null)&&i.call(t,y,k.isString(g)?g.trim():g,m,d))===!0&&h(y,m?m.concat(g):[g])}),f.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return h(e),t}function gh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mu(e,t){this._pairs=[],e&&sa(e,this,t)}const Ky=Mu.prototype;Ky.append=function(t,n){this._pairs.push([t,n])};Ky.toString=function(t){const n=t?function(r){return t.call(this,r,gh)}:gh;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function vk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jy(e,t,n){if(!t)return e;const r=n&&n.encode||vk,i=n&&n.serialize;let o;if(i?o=i(t,n):o=k.isURLSearchParams(t)?t.toString():new Mu(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class yh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sk=typeof URLSearchParams<"u"?URLSearchParams:Mu,Ck=FormData,Ek=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),rn={isBrowser:!0,classes:{URLSearchParams:Sk,FormData:Ck,Blob},isStandardBrowserEnv:Ek,protocols:["http","https","file","blob","url","data"]};function _k(e,t){return sa(e,new rn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return rn.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function kk(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wk(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function Qy(e){function t(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&k.isArray(i)?i.length:s,a?(k.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!k.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&k.isArray(i[s])&&(i[s]=wk(i[s])),!l)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,i)=>{t(kk(r),i,n,0)}),n}return null}function Tk(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Rk=rn.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),k.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),k.isString(o)&&a.push("path="+o),k.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function bk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xk(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Yy(e,t){return e&&!bk(t)?xk(e,t):t}const Pk=rn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=k.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function oo(e,t,n){K.call(this,e==null?"canceled":e,K.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(oo,K,{__CANCEL__:!0});function Ok(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const Dk=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nk=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&Dk[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},vh=Symbol("internals"),Xy=Symbol("defaults");function vi(e){return e&&String(e).trim().toLowerCase()}function ts(e){return e===!1||e==null?e:k.isArray(e)?e.map(ts):String(e)}function Ik(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function Sh(e,t,n,r){if(k.isFunction(r))return r.call(this,t,n);if(!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function Lk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Ak(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}function li(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}function yt(e,t){e&&this.set(e),this[Xy]=t||null}Object.assign(yt.prototype,{set:function(e,t,n){const r=this;function i(o,s,l){const a=vi(s);if(!a)throw new Error("header name must be a non-empty string");const c=li(r,a);c&&l!==!0&&(r[c]===!1||l===!1)||(r[c||s]=ts(o))}return k.isPlainObject(e)?k.forEach(e,(o,s)=>{i(o,s,t)}):i(t,e,n),this},get:function(e,t){if(e=vi(e),!e)return;const n=li(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return Ik(r);if(k.isFunction(t))return t.call(this,r,n);if(k.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=vi(e),e){const n=li(this,e);return!!(n&&(!t||Sh(this,this[n],n,t)))}return!1},delete:function(e,t){const n=this;let r=!1;function i(o){if(o=vi(o),o){const s=li(n,o);s&&(!t||Sh(n,n[s],s,t))&&(delete n[s],r=!0)}}return k.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return k.forEach(this,(r,i)=>{const o=li(n,i);if(o){t[o]=ts(r),delete t[i];return}const s=e?Lk(i):String(i).trim();s!==i&&delete t[i],t[s]=ts(r),n[s]=!0}),this},toJSON:function(e){const t=Object.create(null);return k.forEach(Object.assign({},this[Xy]||null,this),(n,r)=>{n==null||n===!1||(t[r]=e&&k.isArray(n)?n.join(", "):n)}),t}});Object.assign(yt,{from:function(e){return k.isString(e)?new this(Nk(e)):e instanceof this?e:new this(e)},accessor:function(e){const n=(this[vh]=this[vh]={accessors:{}}).accessors,r=this.prototype;function i(o){const s=vi(o);n[s]||(Ak(r,o),n[s]=!0)}return k.isArray(e)?e.forEach(i):i(e),this}});yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);k.freezeMethods(yt.prototype);k.freezeMethods(yt);function Mk(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=r[o];s||(s=c),n[i]=a,r[i]=c;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const h=u&&c-u;return h?Math.round(d*1e3/h):void 0}}function Ch(e,t){let n=0;const r=Mk(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-o)/a:void 0};u[t?"download":"upload"]=!0,e(u)}}function Eh(e){return new Promise(function(n,r){let i=e.data;const o=yt.from(e.headers).normalize(),s=e.responseType;let l;function a(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}k.isFormData(i)&&rn.isStandardBrowserEnv&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(h+":"+p))}const u=Yy(e.baseURL,e.url);c.open(e.method.toUpperCase(),Jy(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function f(){if(!c)return;const h=yt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:e,request:c};Tk(function(y){n(y),a()},function(y){r(y),a()},m),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){!c||(r(new K("Request aborted",K.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||qy;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new K(p,m.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,c)),c=null},rn.isStandardBrowserEnv){const h=(e.withCredentials||Pk(u))&&e.xsrfCookieName&&Rk.read(e.xsrfCookieName);h&&o.set(e.xsrfHeaderName,h)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&k.forEach(o.toJSON(),function(p,m){c.setRequestHeader(m,p)}),k.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Ch(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ch(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=h=>{!c||(r(!h||h.type?new oo(null,e,c):h),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const d=Ok(u);if(d&&rn.protocols.indexOf(d)===-1){r(new K("Unsupported protocol "+d+":",K.ERR_BAD_REQUEST,e));return}c.send(i||null)})}const _h={http:Eh,xhr:Eh},kh={getAdapter:e=>{if(k.isString(e)){const t=_h[e];if(!e)throw Error(k.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!k.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:_h},jk={"Content-Type":"application/x-www-form-urlencoded"};function Bk(){let e;return typeof XMLHttpRequest<"u"?e=kh.getAdapter("xhr"):typeof process<"u"&&k.kindOf(process)==="process"&&(e=kh.getAdapter("http")),e}function Fk(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Gr={transitional:qy,adapter:Bk(),transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=k.isObject(t);if(o&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return i&&i?JSON.stringify(Qy(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _k(t,this.formSerializer).toString();if((l=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return sa(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Fk(t)):t}],transformResponse:[function(t){const n=this.transitional||Gr.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&k.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?K.from(l,K.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};k.forEach(["delete","get","head"],function(t){Gr.headers[t]={}});k.forEach(["post","put","patch"],function(t){Gr.headers[t]=k.merge(jk)});function qa(e,t){const n=this||Gr,r=t||n,i=yt.from(r.headers);let o=r.data;return k.forEach(e,function(l){o=l.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Zy(e){return!!(e&&e.__CANCEL__)}function Qa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oo}function wh(e){return Qa(e),e.headers=yt.from(e.headers),e.data=qa.call(e,e.transformRequest),(e.adapter||Gr.adapter)(e).then(function(r){return Qa(e),r.data=qa.call(e,e.transformResponse,r),r.headers=yt.from(r.headers),r},function(r){return Zy(r)||(Qa(e),r&&r.response&&(r.response.data=qa.call(e,e.transformResponse,r.response),r.response.headers=yt.from(r.response.headers))),Promise.reject(r)})}function Qi(e,t){t=t||{};const n={};function r(c,u){return k.isPlainObject(c)&&k.isPlainObject(u)?k.merge(c,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function i(c){if(k.isUndefined(t[c])){if(!k.isUndefined(e[c]))return r(void 0,e[c])}else return r(e[c],t[c])}function o(c){if(!k.isUndefined(t[c]))return r(void 0,t[c])}function s(c){if(k.isUndefined(t[c])){if(!k.isUndefined(e[c]))return r(void 0,e[c])}else return r(void 0,t[c])}function l(c){if(c in t)return r(e[c],t[c]);if(c in e)return r(void 0,e[c])}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return k.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const f=a[u]||i,d=f(u);k.isUndefined(d)&&f!==l||(n[u]=d)}),n}const ev="1.1.3",ju={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ju[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Th={};ju.transitional=function(t,n,r){function i(o,s){return"[Axios v"+ev+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(t===!1)throw new K(i(s," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!Th[s]&&(Th[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,l):!0}};function zk(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const l=e[o],a=l===void 0||s(l,o,e);if(a!==!0)throw new K("option "+o+" must be "+a,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}}const Ec={assertOptions:zk,validators:ju},hn=Ec.validators;class Zn{constructor(t){this.defaults=t,this.interceptors={request:new yh,response:new yh}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Qi(this.defaults,n);const{transitional:r,paramsSerializer:i}=n;r!==void 0&&Ec.assertOptions(r,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),i!==void 0&&Ec.assertOptions(i,{encode:hn.function,serialize:hn.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();const o=n.headers&&k.merge(n.headers.common,n.headers[n.method]);o&&k.forEach(["delete","get","head","post","put","patch","common"],function(p){delete n.headers[p]}),n.headers=new yt(n.headers,o);const s=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const a=[];this.interceptors.response.forEach(function(p){a.push(p.fulfilled,p.rejected)});let c,u=0,f;if(!l){const h=[wh.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,a),f=h.length,c=Promise.resolve(n);u<f;)c=c.then(h[u++],h[u++]);return c}f=s.length;let d=n;for(u=0;u<f;){const h=s[u++],p=s[u++];try{d=h(d)}catch(m){p.call(this,m);break}}try{c=wh.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,f=a.length;u<f;)c=c.then(a[u++],a[u++]);return c}getUri(t){t=Qi(this.defaults,t);const n=Yy(t.baseURL,t.url);return Jy(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){Zn.prototype[t]=function(n,r){return this.request(Qi(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,l){return this.request(Qi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Zn.prototype[t]=n(),Zn.prototype[t+"Form"]=n(!0)});class Bu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,l){r.reason||(r.reason=new oo(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Bu(function(i){t=i}),cancel:t}}}function Uk(e){return function(n){return e.apply(null,n)}}function $k(e){return k.isObject(e)&&e.isAxiosError===!0}function tv(e){const t=new Zn(e),n=By(Zn.prototype.request,t);return k.extend(n,Zn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return tv(Qi(e,i))},n}const Te=tv(Gr);Te.Axios=Zn;Te.CanceledError=oo;Te.CancelToken=Bu;Te.isCancel=Zy;Te.VERSION=ev;Te.toFormData=sa;Te.AxiosError=K;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=Uk;Te.isAxiosError=$k;Te.formToJSON=e=>Qy(k.isHTMLForm(e)?new FormData(e):e);function Vk(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}function Hk(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Wk(e,t){return e&&!Vk(t)?Hk(e,t):t}var Gk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(f){s(f)}}function a(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function Rh(e){return typeof e=="object"&&typeof e.config=="object"&&typeof e.status=="number"}function Kk(e={}){const t=Object.assign({instance:Te,failuresOnly:!1,captureWhen:()=>!0,ignoreHeaders:["Cookie","Set-Cookie","Authorization"],sanitiser:null},e);return n=>{if(n===null)return;const r=t.ignoreHeaders,i=Array.isArray(r)?s=>r.includes(s):()=>r,o=s=>Gk(this,void 0,void 0,function*(){if(!Rh(s))return;const l=s.config.__openreplayStartTs,a=performance.now()-l;if(typeof l!="number")return;let c="";if(typeof s.config.data=="string")c=s.config.data;else try{c=JSON.stringify(s.config.data)||""}catch{}let u="";if(typeof s.data=="string")u=s.data;else try{u=JSON.stringify(s.data)||""}catch{}const f={},d={};if(r!==!0){let v=function([S,w]){i(S)||(f[S]=w)};var g=v;s.config.headers instanceof Headers?s.config.headers.forEach((S,w)=>v([w,S])):Array.isArray(s.config.headers)?s.config.headers.forEach(v):typeof s.config.headers=="object"&&Object.entries(s.config.headers).forEach(v),typeof s.headers=="object"&&Object.entries(s.headers).forEach(([S,w])=>{i(S)||(d[S]=w)})}const h=Wk(s.config.baseURL,t.instance.getUri(s.config)),p=typeof s.config.method=="string"?s.config.method.toUpperCase():"GET",m=s.status;let E={status:m,method:p,url:h,request:{headers:f,body:c},response:{headers:d,body:u}};if(t.sanitiser){try{E.response.body=JSON.parse(u)}catch{}if(E=t.sanitiser(E),!E)return}const y=v=>{if(v&&typeof v.body!="string")try{v.body=JSON.stringify(v.body)}catch{v.body="<unable to stringify>"}return JSON.stringify(v)};n.send(rE.Fetch(p,String(E.url),y(E.request),y(E.response),m,l+performance.timing.navigationStart,a))});t.instance.interceptors.request.use(function(s){if(typeof s!="object")return s;if(t.sessionTokenHeader){const l=n.getSessionToken();l&&(s.headers===void 0&&(s.headers={}),s.headers instanceof Headers?s.headers.append(t.sessionTokenHeader,l):Array.isArray(s.headers)?s.headers.push([t.sessionTokenHeader,l]):typeof s.headers=="object"&&(s.headers[t.sessionTokenHeader]=l))}return t.captureWhen(s)&&(s.__openreplayStartTs=performance.now()),s},function(s){return s instanceof Error&&n.send(Ji(s,[])),Promise.reject(s)}),t.instance.interceptors.response.use(function(s){return t.failuresOnly||o(s),s},function(s){return Te.isAxiosError(s)&&s.response?o(s.response):!Te.isCancel(s)&&s instanceof Error&&n.send(Ji(s,[])),Rh(s)&&o(s),Promise.reject(s)})}}const Ls=new oE({projectKey:"PyR18rN6EOFXo49pSxkk"});Ls.use(F_());Ls.use(Kk());function Jk(){return F.exports.useEffect(()=>{Ls.start({userID:"userTest",metadata:{balance:"10M",plan:"free"}}),window.addEventListener("error",e=>{console.log("lala"),Ls.handleError(e)})},[]),Xt("div",{children:[Xt("nav",{children:[U(gd,{to:"/open-replay-demo/a",children:"page 1"}),U(gd,{to:"/open-replay-demo/b",children:"page 2"})]}),U(U1,{})]})}const qk="/open-replay-demo/assets/react.35ef61ed.svg";function Qk(){const[e,t]=F.exports.useState(0);return Xt("div",{className:"App",children:[U("div",{children:U("a",{href:"https://reactjs.org",target:"_blank",children:U("img",{src:qk,className:"logo react",alt:"React logo"})})}),U("h1",{children:"Vite + React"}),Xt("div",{className:"card",children:[Xt("button",{onClick:()=>t(n=>n+1),children:["count is ",e]}),Xt("p",{children:["Edit ",U("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),U("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}function Yk(){async function e(){const i=await Te.get("https://pokeapi.co/api/v2/pokemon/ditto");console.log(i==null?void 0:i.data)}async function t(){const i=await Te.get("https://pokeapi.co/api/v2/pokemon/ditsto");console.log(i==null?void 0:i.data)}function n(){throw new Error("vish")}function r(){console.log({}.a.b)}return Xt("div",{style:{display:"flex",flexDirection:"column"},children:[U("button",{onClick:r,children:"Run js Error"}),U("button",{onClick:e,children:"Run Request"}),U("button",{onClick:t,children:"Run Fail Request"}),U("button",{onClick:n,children:"Throw JS Error"})]})}const Xk=q1([{path:"/open-replay-demo/",element:U(Jk,{}),children:[{path:"a/",element:U(Qk,{})},{path:"b/",element:U(Yk,{})}]}]);Xa.createRoot(document.getElementById("root")).render(U(Ah.StrictMode,{children:U(z1,{router:Xk})}));
//# sourceMappingURL=index.9613a342.js.map
